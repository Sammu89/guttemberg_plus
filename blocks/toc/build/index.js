(()=>{"use strict";var e,l={87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},427:e=>{e.exports=window.wp.components},446:(e,l,t)=>{const o=window.wp.blocks,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom/toc","title":"Table of Contents","category":"design","icon":"list-view","description":"Automatically generates a navigable table of contents from post headings.","keywords":["toc","table of contents","navigation","headings"],"supports":{"html":false,"multiple":true},"textdomain":"gutenberg-blocks","editorScript":"file:./build/index.js"}');var r=t(87),a=t(143);const i=window.wp.blockEditor;var s=t(427),c=t(824),u=t(790);function d(e,l,t){if(0===e.length)return null;const o="none"===t.numberingStyle?{}:{listStyleType:"none"};return(0,u.jsx)("ul",{className:`toc-list numbering-${t.numberingStyle}`,style:o,children:e.map((e,t)=>{const o="toc-item-level-"+(e.level-1),n={color:l.linkColor||"#0073aa",textDecoration:"none"};return(0,u.jsx)("li",{className:`toc-item ${o}`,children:(0,u.jsx)("a",{href:`#${e.id||`heading-${t}`}`,className:"toc-link",style:n,children:e.text})},t)})})}function p(e){const l={};return e.wrapperBackgroundColor&&(l["--custom-wrapper-background-color"]=e.wrapperBackgroundColor),e.wrapperBorderColor&&(l["--custom-wrapper-border-color"]=e.wrapperBorderColor),e.linkColor&&(l["--custom-link-color"]=e.linkColor),e.linkHoverColor&&(l["--custom-link-hover-color"]=e.linkHoverColor),e.wrapperBorderWidth&&(l["--custom-border-width"]=`${e.wrapperBorderWidth}px`),e.wrapperBorderStyle&&(l["--custom-border-style"]=e.wrapperBorderStyle),e.wrapperBorderRadius&&(l["--custom-border-radius"]=`${e.wrapperBorderRadius}px`),e.wrapperPadding&&(l["--custom-wrapper-padding"]=`${e.wrapperPadding}px`),e.wrapperShadow&&(l["--custom-wrapper-shadow"]=e.wrapperShadow),l}var v=t(767),m=t(799);const h={tocId:{type:"string",default:""},showTitle:{type:"boolean",default:!0},titleText:{type:"string",default:"Table of Contents"},...t(246).Be,filterMode:{type:"string",default:"include-all"},includeLevels:{type:"array",default:[2,3,4,5,6]},includeClasses:{type:"string",default:""},excludeLevels:{type:"array",default:[]},excludeClasses:{type:"string",default:""},depthLimit:{type:"number",default:null},numberingStyle:{type:"string",default:"none"},numberingColor:{type:"string",default:null},isCollapsible:{type:"boolean",default:!1},initiallyCollapsed:{type:"boolean",default:!1},collapseIconSize:{type:"number",default:null},collapseIconColor:{type:"string",default:null},level1FontSize:{type:"number",default:null},level1FontWeight:{type:"string",default:null},level1FontStyle:{type:"string",default:null},level1TextTransform:{type:"string",default:null},level1TextDecoration:{type:"string",default:null},level1Color:{type:"string",default:null},level2FontSize:{type:"number",default:null},level2FontWeight:{type:"string",default:null},level2FontStyle:{type:"string",default:null},level2TextTransform:{type:"string",default:null},level2TextDecoration:{type:"string",default:null},level2Color:{type:"string",default:null},level3PlusFontSize:{type:"number",default:null},level3PlusFontWeight:{type:"string",default:null},level3PlusFontStyle:{type:"string",default:null},level3PlusTextTransform:{type:"string",default:null},level3PlusTextDecoration:{type:"string",default:null},level3PlusColor:{type:"string",default:null},titleFontSize:{type:"number",default:null},titleFontWeight:{type:"string",default:null},titleColor:{type:"string",default:null},titleTextTransform:{type:"string",default:null},titleAlignment:{type:"string",default:null},titleBackgroundColor:{type:"string",default:null},wrapperBackgroundColor:{type:"string",default:null},wrapperBorderColor:{type:"string",default:null},linkColor:{type:"string",default:null},linkHoverColor:{type:"string",default:null},linkActiveColor:{type:"string",default:null},linkVisitedColor:{type:"string",default:null},wrapperBorderWidth:{type:"number",default:null},wrapperBorderStyle:{type:"string",default:null},wrapperBorderRadius:{type:"number",default:null},wrapperShadow:{type:"string",default:null},wrapperPadding:{type:"number",default:null},listPaddingLeft:{type:"number",default:null},itemSpacing:{type:"number",default:null},levelIndent:{type:"number",default:null},positionType:{type:"string",default:"block"},positionTop:{type:"number",default:null},zIndex:{type:"number",default:null},smoothScroll:{type:"boolean",default:!0},scrollOffset:{type:"number",default:0},autoHighlight:{type:"boolean",default:!0},clickBehavior:{type:"string",default:"navigate"}};function f(){const e=document.querySelectorAll(".wp-block-custom-toc");e&&0!==e.length&&e.forEach(e=>{try{if(!e)return;const l=e.getAttribute("data-toc-id");if(!l)return void console.warn("TOC block missing data-toc-id attribute, skipping");const t={tocId:l,filterMode:e.getAttribute("data-filter-mode")||"include-all",includeLevels:(e.getAttribute("data-include-levels")||"2,3,4,5,6").split(",").map(Number),includeClasses:e.getAttribute("data-include-classes")||"",excludeLevels:(e.getAttribute("data-exclude-levels")||"").split(",").map(Number).filter(Boolean),excludeClasses:e.getAttribute("data-exclude-classes")||"",depthLimit:parseInt(e.getAttribute("data-depth-limit")||"0",10)||null,numberingStyle:e.getAttribute("data-numbering-style")||"none",smoothScroll:"true"===e.getAttribute("data-smooth-scroll"),scrollOffset:parseInt(e.getAttribute("data-scroll-offset")||"0",10),autoHighlight:"true"===e.getAttribute("data-auto-highlight"),isCollapsible:"true"===e.getAttribute("data-collapsible"),initiallyCollapsed:"true"===e.getAttribute("data-initially-collapsed"),clickBehavior:e.getAttribute("data-click-behavior")||"navigate"};!function(e,l){if(e&&l)try{const t=function(e,l){const t=document.querySelector(".entry-content, main, article, body");if(!t)return[];const o=t.querySelectorAll("h2, h3, h4, h5, h6"),n=[];if(o.forEach(e=>{if(e.closest(".wp-block-custom-toc"))return;const t=parseInt(e.tagName.charAt(1),10),o=e.textContent.trim(),r=e.id||"",a=Array.from(e.classList);(function(e,l){const{filterMode:t,includeLevels:o,includeClasses:n,excludeLevels:r,excludeClasses:a}=l;if("include-only"===t){const l=o.includes(e.level),t=!!n&&n.split(",").some(l=>e.classes.includes(l.trim()));return l||t}return"exclude"!==t||!r.includes(e.level)&&(!a||!a.split(",").some(l=>e.classes.includes(l.trim())))})({level:t,classes:a},l)&&n.push({level:t,text:o,id:r,classes:a,element:e})}),l.depthLimit){const e=Math.min(...n.map(e=>e.level));return n.filter(t=>t.level-e<l.depthLimit)}return n}(0,l);if(!t)return void console.warn("Failed to detect headings");t.forEach((e,t)=>{try{e&&e.element&&!e.element.id&&(e.element.id=`heading-${l.tocId}-${t}`,e.id=e.element.id)}catch(e){console.error("Failed to add ID to heading:",e)}});const o=e.querySelector(".toc-list");if(o)try{!function(e,l){if(e.innerHTML="",0===l.length)return void(e.innerHTML='<li class="toc-empty">No headings found.</li>');const t=document.createDocumentFragment();l.forEach(e=>{const l=document.createElement("li");l.className=`toc-item toc-item-level-${e.level}`;const o=document.createElement("a");o.href=`#${e.id}`,o.className="toc-link",o.textContent=e.text,o.setAttribute("data-heading-id",e.id),l.appendChild(o),t.appendChild(l)}),e.appendChild(t)}(o,t)}catch(e){console.error("Failed to render TOC list:",e)}if(l.smoothScroll)try{!function(e,l){if(!e||!l)return;const t=e.querySelectorAll(".toc-link");t&&0!==t.length&&t.forEach(t=>{t&&t.addEventListener("click",o=>{try{o.preventDefault();const n=t.getAttribute("href");if(!n||n.length<=1)return void console.warn("Invalid TOC link href");const r=n.slice(1),a=document.getElementById(r);if(!a)return void console.warn("TOC target element not found:",r);const i=a.getBoundingClientRect().top+window.pageYOffset-l.scrollOffset;window.scrollTo({top:i,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${r}`):window.location.hash=r,a.focus({preventScroll:!0}),"navigate-and-collapse"===l.clickBehavior&&l.isCollapsible&&setTimeout(()=>{try{const l=e.querySelector(".toc-toggle-button"),t=e.querySelector(".toc-content"),o=e.querySelector(".toc-collapse-icon");l&&t&&(t.style.display="none",l.setAttribute("aria-expanded","false"),o&&(o.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to collapse TOC:",e)}},600)}catch(e){console.error("Failed to handle smooth scroll:",e)}})})}(e,l)}catch(e){console.error("Failed to setup smooth scroll:",e)}if(l.autoHighlight)try{!function(e,l){if(!e||!l||0===l.length)return;const t=e.querySelectorAll(".toc-link");if(!t||0===t.length)return;const o=l.map(e=>e.element).filter(e=>e);if(0===o.length)return;const n=()=>{t.forEach(e=>{e&&e.classList.remove("active")})};let r=!1;const a=()=>{r||(window.requestAnimationFrame(()=>{try{const l=window.pageYOffset+100;let t=null;for(let e=o.length-1;e>=0;e--){const n=o[e];if(n&&void 0!==n.offsetTop&&l>=n.offsetTop){t=n;break}}t&&t.id?(l=>{if(!l)return;n();const t=e.querySelector(`.toc-link[data-heading-id="${l}"]`);t&&t.classList.add("active")})(t.id):n()}catch(e){console.error("Scroll spy error:",e)}r=!1}),r=!0)};try{a()}catch(e){console.error("Initial scroll spy check failed:",e)}window.addEventListener("scroll",a,{passive:!0})}(e,t)}catch(e){console.error("Failed to setup scroll spy:",e)}if(l.isCollapsible)try{!function(e,l){if(!e||!l)return;const t=e.querySelector(".toc-toggle-button"),o=e.querySelector(".toc-content"),n=e.querySelector(".toc-collapse-icon");if(!t||!o)return void console.warn("TOC collapsible elements not found");const r=l.initiallyCollapsed;o.style.display=r?"none":"block",t.setAttribute("aria-expanded",!r);const a=()=>{try{"none"===o.style.display?(o.style.display="block",t.setAttribute("aria-expanded","true"),n&&(n.style.transform="rotate(0deg)")):(o.style.display="none",t.setAttribute("aria-expanded","false"),n&&(n.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to toggle TOC:",e)}};t.addEventListener("click",a),t.addEventListener("keydown",e=>{e&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a()))})}(e,l)}catch(e){console.error("Failed to setup collapsible:",e)}}catch(e){console.error("Failed to initialize TOC:",e)}else console.warn("Invalid block or config in initTOC")}(e,t)}catch(e){console.error("Failed to initialize TOC block:",e)}})}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",()=>{try{f()}catch(e){console.error("TOC block initialization failed:",e)}});else try{f()}catch(e){console.error("TOC block initialization failed:",e)}(0,o.registerBlockType)(n.name,{...n,attributes:h,edit:function({attributes:e,setAttributes:l,clientId:t}){(0,c.Yz)("[DEBUG] TOC Edit mounted with attributes:",e);const{tocId:o,showTitle:n,titleText:v,currentTheme:m}=e,[h,f]=(0,r.useState)([]),{themes:g,themesLoaded:b}=(0,a.useSelect)(e=>{const{getThemes:l,areThemesLoaded:t}=e(c.EF);return{themes:l("toc")||{},themesLoaded:t("toc")}},[]),{loadThemes:y,createTheme:x,updateTheme:C,deleteTheme:T,renameTheme:w}=(0,a.useDispatch)(c.EF);(0,r.useEffect)(()=>{b||y("toc")},[b,y]),(0,r.useEffect)(()=>{o||l({tocId:(0,c.Ij)()})},[o,l]),(0,r.useEffect)(()=>{const e=()=>{const e=document.querySelector(".editor-styles-wrapper");if(!e)return[];const l=e.querySelectorAll("h2, h3, h4, h5, h6"),o=[];return l.forEach(e=>{if(e.closest(`[data-block="${t}"]`))return;const l=parseInt(e.tagName.charAt(1),10),n=e.textContent.trim(),r=e.id||"",a=Array.from(e.classList);o.push({level:l,text:n,id:r,classes:a})}),o},l=e();f(l);const o=new MutationObserver(()=>{setTimeout(()=>{const l=e();f(l)},100)}),n=document.querySelector(".editor-styles-wrapper");return n&&o.observe(n,{childList:!0,subtree:!0,characterData:!0}),()=>o.disconnect()},[t]);const S=window.tocDefaults||{},k=g[m];(0,c.Yz)("[DEBUG] TOC theme:",k),(0,c.Yz)("[DEBUG] TOC theme?.values:",k?.values);const j=(0,c.lS)(e,k?.values,S);(0,c.Yz)("[DEBUG] TOC Effective values:",j);const F=Object.keys(e).some(l=>{const t=e[l],o=k?.values?.[l];return null!=t&&t!==o&&"tocId"!==l&&"showTitle"!==l&&"titleText"!==l&&"currentTheme"!==l&&"includeH2"!==l&&"includeH3"!==l&&"includeH4"!==l&&"includeH5"!==l&&"includeH6"!==l&&"scrollBehavior"!==l&&"scrollOffset"!==l}),L=function(e,l){const{filterMode:t,includeLevels:o,includeClasses:n,excludeLevels:r,excludeClasses:a,depthLimit:i}=l;let s=e;if("include-only"===t?s=s.filter(e=>!!o.includes(e.level)||!!n&&n.split(",").map(e=>e.trim()).some(l=>e.classes.includes(l))):"exclude"===t&&(s=s.filter(e=>!r.includes(e.level)&&(!a||!a.split(",").map(e=>e.trim()).some(l=>e.classes.includes(l))))),i&&i>0){const e=Math.min(...s.map(e=>e.level));s=s.filter(l=>l.level-e<i)}return s}(h,e),B=(0,i.useBlockProps)({className:"wp-block-custom-toc",style:p(j)});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.InspectorControls,{children:[(0,u.jsxs)(s.PanelBody,{title:"Settings",initialOpen:!0,children:[(0,u.jsx)(c.jQ,{blockType:"toc",currentTheme:m,setAttributes:l,attributes:e,themes:g,themesLoaded:b,isCustomized:F,effectiveValues:j,onSaveNew:e=>{x("toc",e,j),l({currentTheme:e})},onUpdate:()=>{C("toc",e.currentTheme,j)},onDelete:()=>{T("toc",e.currentTheme),l({currentTheme:""})},onRename:(e,t)=>{w("toc",e,t),l({currentTheme:t})},onReset:()=>{const t={};Object.keys(e).forEach(e=>{"currentTheme"!==e&&"tocId"!==e&&"showTitle"!==e&&"titleText"!==e&&"includeH2"!==e&&"includeH3"!==e&&"includeH4"!==e&&"includeH5"!==e&&"includeH6"!==e&&"scrollBehavior"!==e&&"scrollOffset"!==e&&(t[e]=null)}),l(t)}}),(0,u.jsx)(s.ToggleControl,{label:"Show Title",checked:n,onChange:e=>l({showTitle:e})}),n&&(0,u.jsx)(s.TextControl,{label:"Title Text",value:v,onChange:e=>l({titleText:e})}),(0,u.jsx)(s.ToggleControl,{label:"Collapsible",checked:e.isCollapsible,onChange:e=>l({isCollapsible:e})}),e.isCollapsible&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.ToggleControl,{label:"Initially Collapsed",checked:e.initiallyCollapsed,onChange:e=>l({initiallyCollapsed:e})}),(0,u.jsx)(s.SelectControl,{label:"Click Behavior",value:e.clickBehavior||"navigate",options:[{label:"Navigate to section",value:"navigate"},{label:"Navigate and collapse TOC",value:"navigate-and-collapse"}],onChange:e=>l({clickBehavior:e})})]})]}),(0,u.jsxs)(s.PanelBody,{title:"Heading Filter",initialOpen:!1,children:[(0,u.jsx)(s.SelectControl,{label:"Filter Mode",value:e.filterMode,options:[{label:"Include All Headings",value:"include-all"},{label:"Include Only Selected",value:"include-only"},{label:"Exclude Selected",value:"exclude"}],onChange:e=>l({filterMode:e})}),"include-only"===e.filterMode&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:"Include Levels:"})}),[2,3,4,5,6].map(t=>(0,u.jsx)(s.CheckboxControl,{label:`H${t}`,checked:e.includeLevels.includes(t),onChange:o=>{const n=o?[...e.includeLevels,t]:e.includeLevels.filter(e=>e!==t);l({includeLevels:n})}},t)),(0,u.jsx)(s.TextControl,{label:"Include Classes (comma-separated)",value:e.includeClasses,onChange:e=>l({includeClasses:e})})]}),"exclude"===e.filterMode&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:"Exclude Levels:"})}),[2,3,4,5,6].map(t=>(0,u.jsx)(s.CheckboxControl,{label:`H${t}`,checked:e.excludeLevels.includes(t),onChange:o=>{const n=o?[...e.excludeLevels,t]:e.excludeLevels.filter(e=>e!==t);l({excludeLevels:n})}},t)),(0,u.jsx)(s.TextControl,{label:"Exclude Classes (comma-separated)",value:e.excludeClasses,onChange:e=>l({excludeClasses:e})})]}),(0,u.jsx)(s.RangeControl,{label:"Depth Limit (0 = no limit)",value:e.depthLimit||0,onChange:e=>l({depthLimit:0===e?null:e}),min:0,max:6})]}),(0,u.jsx)(s.PanelBody,{title:"Numbering",initialOpen:!1,children:(0,u.jsx)(s.SelectControl,{label:"Numbering Style",value:e.numberingStyle,options:[{label:"None",value:"none"},{label:"Decimal (1, 1.1, 1.1.1)",value:"decimal"},{label:"Decimal Leading Zero",value:"decimal-leading-zero"},{label:"Roman Numerals",value:"roman"},{label:"Letters (A, B, C)",value:"letters"}],onChange:e=>l({numberingStyle:e})})}),(0,u.jsx)(c.i5,{effectiveValues:j,attributes:e,setAttributes:l,blockType:"toc",theme:k,initialOpen:!1}),(0,u.jsxs)(s.PanelBody,{title:"Level 1 Typography (H2)",initialOpen:!1,children:[(0,u.jsx)(s.SelectControl,{label:"Font Style",value:e.level1FontStyle||"",options:[{label:"Default",value:""},{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],onChange:e=>l({level1FontStyle:e||null})}),(0,u.jsx)(s.SelectControl,{label:"Text Transform",value:e.level1TextTransform||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>l({level1TextTransform:e||null})}),(0,u.jsx)(s.SelectControl,{label:"Text Decoration",value:e.level1TextDecoration||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>l({level1TextDecoration:e||null})})]}),(0,u.jsxs)(s.PanelBody,{title:"Level 2 Typography (H3)",initialOpen:!1,children:[(0,u.jsx)(s.SelectControl,{label:"Font Style",value:e.level2FontStyle||"",options:[{label:"Default",value:""},{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],onChange:e=>l({level2FontStyle:e||null})}),(0,u.jsx)(s.SelectControl,{label:"Text Transform",value:e.level2TextTransform||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>l({level2TextTransform:e||null})}),(0,u.jsx)(s.SelectControl,{label:"Text Decoration",value:e.level2TextDecoration||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>l({level2TextDecoration:e||null})})]}),(0,u.jsxs)(s.PanelBody,{title:"Level 3+ Typography (H4-H6)",initialOpen:!1,children:[(0,u.jsx)(s.SelectControl,{label:"Font Style",value:e.level3PlusFontStyle||"",options:[{label:"Default",value:""},{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],onChange:e=>l({level3PlusFontStyle:e||null})}),(0,u.jsx)(s.SelectControl,{label:"Text Transform",value:e.level3PlusTextTransform||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>l({level3PlusTextTransform:e||null})}),(0,u.jsx)(s.SelectControl,{label:"Text Decoration",value:e.level3PlusTextDecoration||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>l({level3PlusTextDecoration:e||null})})]}),(0,u.jsx)(c.SP,{effectiveValues:j,attributes:e,setAttributes:l,blockType:"toc",theme:k,initialOpen:!1}),(0,u.jsx)(c.$0,{effectiveValues:j,attributes:e,setAttributes:l,blockType:"toc",theme:k,initialOpen:!1}),F&&(0,u.jsx)(c.iz,{currentTheme:m,themes:g})]}),(0,u.jsxs)("div",{...B,children:[n&&(0,u.jsx)("div",{className:"toc-title",style:{fontSize:`${j.titleFontSize||20}px`,fontWeight:j.titleFontWeight||"700",color:j.titleColor||"#333333",textAlign:j.titleAlignment||"left"},children:v}),0===L.length?(0,u.jsx)("p",{className:"toc-empty-message",children:"No headings found. Add H2-H6 headings to your content to populate the table of contents."}):(0,u.jsx)("nav",{className:"toc-list-wrapper","aria-label":v||"Table of Contents",children:d(L,j,e)})]})]})},save:function({attributes:e}){const{tocId:l,showTitle:t,titleText:o,isCollapsible:n,initiallyCollapsed:r,filterMode:a,includeLevels:s,includeClasses:c,excludeLevels:d,excludeClasses:p,depthLimit:h,numberingStyle:f,smoothScroll:g,scrollOffset:b,autoHighlight:y,positionType:x,clickBehavior:C}=e,T=(0,m.lh)("toc")||{},w=(0,v.lS)(e,null,T),S=function(e){const l={};return e.wrapperBackgroundColor&&(l["--custom-wrapper-background-color"]=e.wrapperBackgroundColor),e.wrapperBorderColor&&(l["--custom-wrapper-border-color"]=e.wrapperBorderColor),e.linkColor&&(l["--custom-link-color"]=e.linkColor),e.linkHoverColor&&(l["--custom-link-hover-color"]=e.linkHoverColor),e.linkVisitedColor&&(l["--custom-link-visited-color"]=e.linkVisitedColor),e.linkActiveColor&&(l["--custom-link-active-color"]=e.linkActiveColor),e.numberingColor&&(l["--custom-numbering-color"]=e.numberingColor),e.level1Color&&(l["--custom-level1-color"]=e.level1Color),e.level2Color&&(l["--custom-level2-color"]=e.level2Color),e.level3PlusColor&&(l["--custom-level3-plus-color"]=e.level3PlusColor),e.level1FontSize&&(l["--custom-level1-font-size"]=`${e.level1FontSize}px`),e.level1FontWeight&&(l["--custom-level1-font-weight"]=e.level1FontWeight),e.level1FontStyle&&(l["--custom-level1-font-style"]=e.level1FontStyle),e.level1TextTransform&&(l["--custom-level1-text-transform"]=e.level1TextTransform),e.level1TextDecoration&&(l["--custom-level1-text-decoration"]=e.level1TextDecoration),e.level2FontSize&&(l["--custom-level2-font-size"]=`${e.level2FontSize}px`),e.level2FontWeight&&(l["--custom-level2-font-weight"]=e.level2FontWeight),e.level2FontStyle&&(l["--custom-level2-font-style"]=e.level2FontStyle),e.level2TextTransform&&(l["--custom-level2-text-transform"]=e.level2TextTransform),e.level2TextDecoration&&(l["--custom-level2-text-decoration"]=e.level2TextDecoration),e.level3PlusFontSize&&(l["--custom-level3-plus-font-size"]=`${e.level3PlusFontSize}px`),e.level3PlusFontWeight&&(l["--custom-level3-plus-font-weight"]=e.level3PlusFontWeight),e.level3PlusFontStyle&&(l["--custom-level3-plus-font-style"]=e.level3PlusFontStyle),e.level3PlusTextTransform&&(l["--custom-level3-plus-text-transform"]=e.level3PlusTextTransform),e.level3PlusTextDecoration&&(l["--custom-level3-plus-text-decoration"]=e.level3PlusTextDecoration),e.wrapperBorderWidth&&(l["--custom-border-width"]=`${e.wrapperBorderWidth}px`),e.wrapperBorderStyle&&(l["--custom-border-style"]=e.wrapperBorderStyle),e.wrapperBorderRadius&&(l["--custom-border-radius"]=`${e.wrapperBorderRadius}px`),e.wrapperPadding&&(l["--custom-wrapper-padding"]=`${e.wrapperPadding}px`),e.itemSpacing&&(l["--custom-item-spacing"]=`${e.itemSpacing}px`),e.levelIndent&&(l["--custom-level-indent"]=`${e.levelIndent}px`),e.positionTop&&(l["--custom-position-top"]=`${e.positionTop}px`),e.zIndex&&(l["--custom-z-index"]=e.zIndex),e.wrapperShadow&&(l["--custom-wrapper-shadow"]=e.wrapperShadow),l}(w),k={"data-toc-id":l,"data-filter-mode":a,"data-include-levels":s.join(","),"data-include-classes":c,"data-exclude-levels":d.join(","),"data-exclude-classes":p,"data-depth-limit":h||0,"data-numbering-style":f,"data-smooth-scroll":g,"data-scroll-offset":b,"data-auto-highlight":y,"data-collapsible":n,"data-initially-collapsed":r,"data-position-type":x,"data-click-behavior":C||"navigate"},j=i.useBlockProps.save({className:`wp-block-custom-toc toc-position-${x}`,style:S,...k}),F=`toc-toggle-${l}`,L=`toc-content-${l}`;return(0,u.jsxs)("div",{...j,children:[t&&!n&&(0,u.jsx)("div",{className:"toc-title",style:{fontSize:`${w.titleFontSize||20}px`,fontWeight:w.titleFontWeight||"700",color:w.titleColor||"#333333",backgroundColor:w.titleBackgroundColor||"transparent",textAlign:w.titleAlignment||"left",padding:`${w.titlePadding||12}px`},children:o}),t&&n&&(0,u.jsxs)("button",{id:F,className:"toc-title toc-toggle-button","aria-expanded":!r,"aria-controls":L,type:"button",style:{fontSize:`${w.titleFontSize||20}px`,fontWeight:w.titleFontWeight||"700",color:w.titleColor||"#333333",backgroundColor:w.titleBackgroundColor||"transparent",textAlign:w.titleAlignment||"left",padding:`${w.titlePadding||12}px`,border:"none",width:"100%",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)("span",{children:o}),(0,u.jsx)("span",{className:"toc-collapse-icon","aria-hidden":"true",style:{fontSize:`${w.collapseIconSize||20}px`,color:w.collapseIconColor||"#666666"},children:"▾"})]}),!t&&n&&(0,u.jsx)("button",{id:F,className:"toc-toggle-button toc-icon-only","aria-expanded":!r,"aria-controls":L,"aria-label":"Toggle Table of Contents",type:"button",style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",cursor:"pointer",fontSize:`${w.collapseIconSize||20}px`,color:w.collapseIconColor||"#666666"},children:"▾"}),(0,u.jsx)("nav",{id:L,className:"toc-content","aria-label":o||"Table of Contents",style:{display:n&&r?"none":"block"},children:(0,u.jsx)("ul",{className:`toc-list numbering-${f}`,style:{listStyleType:"none"===f?"disc":"none",paddingLeft:`${w.listPaddingLeft||24}px`,margin:0},children:(0,u.jsx)("li",{className:"toc-placeholder",children:"Loading table of contents..."})})})]})}})},455:e=>{e.exports=window.wp.apiFetch},790:e=>{e.exports=window.ReactJSXRuntime}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var r=t[e]={exports:{}};return l[e](r,r.exports,o),r.exports}o.m=l,e=[],o.O=(l,t,n,r)=>{if(!t){var a=1/0;for(u=0;u<e.length;u++){for(var[t,n,r]=e[u],i=!0,s=0;s<t.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every(e=>o.O[e](t[s]))?t.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var c=n();void 0!==c&&(l=c)}}return l}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,n,r]},o.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return o.d(l,{a:l}),l},o.d=(e,l)=>{for(var t in l)o.o(l,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})},o.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),o.j=702,(()=>{var e={492:0,702:0};o.O.j=l=>0===e[l];var l=(l,t)=>{var n,r,[a,i,s]=t,c=0;if(a.some(l=>0!==e[l])){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(s)var u=s(o)}for(l&&l(t);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},t=globalThis.webpackChunkguttemberg_smpt=globalThis.webpackChunkguttemberg_smpt||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var n=o.O(void 0,[666],()=>o(446));n=o.O(n)})();