/**
 * Tabs Block - Frontend Styles
 *
 * Provides core styling for tabs functionality on the frontend.
 * Supports both horizontal and vertical orientations.
 * Uses CSS custom properties for theming support.
 *
 * @package
 * @since 1.0.0
 */

/* Block wrapper */
.wp-block-tabs {
	box-shadow: var(--tabs-container-shadow, none);
}

/* Tab list (navigation) */
.tabs-list {
	display: flex;
	gap: var(--tabs-list-gap, 0.5rem);
	margin-bottom: var(--tabs-list-margin-bottom, 1rem);
	border-bottom: var(--tabs-list-border-width, 2px) solid var(--tabs-list-border-color, #ddd);
	overflow-x: auto;

	&[role="tablist"][aria-orientation="vertical"] {
		flex-direction: column;
		border-bottom: none;
		border-right: var(--tabs-list-border-width, 2px) solid var(--tabs-list-border-color, #ddd);
		margin-bottom: 0;
		margin-right: var(--tabs-list-margin-right, 1rem);
	}
}

/* Tab button */
.tab-button {
	padding: var(--tab-button-padding, 0.75rem 1.5rem);
	background-color: var(--tab-button-bg, transparent);
	color: var(--tab-button-color, #666);
	font-size: var(--tab-button-font-size, 1rem);
	font-weight: var(--tab-button-font-weight, 500);
	border: var(--tab-button-border-width, 1px) var(--tab-button-border-style, solid) var(--tab-button-border-color, transparent);
	border-radius: var(--tab-button-border-radius, 0);
	cursor: pointer;
	white-space: nowrap;
	transition: color 0.2s ease, border-color 0.2s ease, background-color 0.2s ease;

	&:hover:not(:disabled) {
		color: var(--tab-button-hover-color, #333);
		background-color: var(--tab-button-hover-bg, rgba(0, 0, 0, 0.05));
	}

	&:focus {
		outline: 2px solid var(--tabs-focus-color, #007cba);
		outline-offset: -2px;
		z-index: 1;
	}

	&.active,
	&[aria-selected="true"] {
		color: var(--tab-button-active-color, #007cba);
		border-bottom-color: var(--tab-button-active-border-color, #007cba);
		font-weight: var(--tab-button-active-font-weight, 600);
	}

	&:disabled {
		opacity: 0.5;
		cursor: not-allowed;
	}

	/* Vertical orientation */
	.tabs-list[aria-orientation="vertical"] & {
		border-right-color: var(--tab-button-active-border-color, currentColor);
	}
}

/* Tabs panels container */
.tabs-panels {
	position: relative;
	border-top: var(--divider-width, 0) var(--divider-style, solid) var(--divider-color, transparent);
}

/* Tab panel - handles height animation only, no padding */
.tab-panel {
	background-color: var(--tabs-panel-bg, #fff);
	color: var(--tabs-panel-color, #333);
	font-size: var(--tabs-panel-font-size, 1rem);
	line-height: var(--tabs-panel-line-height, 1.6);
	border: var(--tabs-panel-border-width, 1px) solid var(--tabs-panel-border-color, #ddd);
	border-radius: var(--tabs-panel-border-radius, 4px);
	overflow: hidden;

	&[hidden] {
		display: none;
	}

	&.active {
		animation: fadeIn var(--transition-duration, 200ms) ease-in-out;
	}
}

/* Tab panel inner wrapper - has padding */
.tab-panel-inner {
	padding: var(--tabs-panel-padding, 1.5rem);
}

/* Fade-in animation */
@keyframes fadeIn {

	from {
		opacity: 0;
		transform: translateY(10px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Responsive accordion fallback - will be implemented with native tabs variables later */
.accordion-fallback {
	display: none;

	.responsive-accordion & {

		@media (max-width: 768px) {
			display: block;
		}
	}
}

/* Layout variations */
.wp-block-tabs.is-vertical {
	display: flex;
	gap: var(--tabs-vertical-gap, 1.5rem);

	.tabs-list {
		flex-shrink: 0;
		min-width: var(--tabs-vertical-list-width, 200px);
	}

	.tabs-panels {
		flex: 1;
	}
}

/* Responsive adjustments */
@media (max-width: 768px) {

	.tab-button {
		padding: var(--tab-button-padding-mobile, 0.625rem 1rem);
		font-size: var(--tab-button-font-size-mobile, 0.95rem);
	}

	.tab-panel {
		padding: var(--tabs-panel-padding-mobile, 1rem);
		font-size: var(--tabs-panel-font-size-mobile, 0.95rem);
	}

	.tabs-list {
		gap: var(--tabs-list-gap-mobile, 0.25rem);
		margin-bottom: var(--tabs-list-margin-bottom-mobile, 0.75rem);
	}

	/* Hide tab navigation and show accordion on mobile if responsive fallback enabled */
	.wp-block-tabs.responsive-accordion {

		.tabs-list,
		.tabs-panels {
			display: none;
		}

		.accordion-fallback {
			display: block;
		}
	}
}

/* Accessibility - Reduced motion */
@media (prefers-reduced-motion: reduce) {

	.tab-button,
	.tab-panel,
	.accordion-button,
	.accordion-panel {
		transition: none !important;
		animation: none !important;
	}
}

/* Animation variables */
:root {
	--transition-duration: 200ms;
}
