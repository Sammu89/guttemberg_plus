/**
 * Tabs Block - Editor Styles
 *
 * Includes all frontend styles plus editor-specific overrides.
 * This ensures the editor matches the frontend appearance.
 *
 * @package
 * @since 1.0.0
 */

/* Import frontend styles for consistency */
@import 'style.scss';

/* Editor-specific overrides and additions */

/* Gutplus tabs alignment for editor */
.gutplus-tabs {
	margin-top: 1em !important;
	margin-bottom: 1em !important;
	overflow: hidden !important;

	&.gutplus-align-left {
		margin-left: 0 !important;
		margin-right: auto !important;
	}

	&.gutplus-align-center {
		margin-left: auto !important;
		margin-right: auto !important;
	}

	&.gutplus-align-right {
		margin-left: auto !important;
		margin-right: 0 !important;
	}
}

/* Tab button container - matches frontend <span> wrapper behavior */
.tab-button-container {
	position: relative;
	display: contents; /* Makes wrapper transparent - children behave as if wrapper doesn't exist */
	margin: 0;
	padding: 0;
}

/* Tab button with action buttons inside */
.gutplus-tabs .tab-button {
	display: flex !important;
	align-items: center !important;
	justify-content: space-between !important;
	position: relative !important;
	gap: 0.5rem !important;
	white-space: normal !important;
	flex-wrap: nowrap !important;
}

.tab-title {
	display: flex !important;
	align-items: center !important;
	gap: 0.375rem !important;
	flex: 1 !important;
	white-space: nowrap !important;
}

/* Tab action buttons (+ and -) inside the tab button on the right */
.tab-actions {
	display: flex !important;
	flex-direction: column !important;
	gap: 1px !important;
	flex-shrink: 0 !important;
	margin-left: auto !important;

	.tab-action-button {
		min-width: 1.125rem !important;
		min-height: 1.125rem !important;
		width: 1.125rem !important;
		height: 1.125rem !important;
		padding: 1px 3px !important;
		font-size: 0.75rem !important;
		font-weight: bold !important;
		line-height: 1 !important;
		border-radius: 2px !important;
		cursor: pointer !important;
		transition: all 0.15s ease !important;
		border: 1px solid !important;
		display: flex !important;
		align-items: center !important;
		justify-content: center !important;

		&.tab-add-button {
			background-color: #4CAF50 !important;
			color: #fff !important;
			border-color: #45a049 !important;

			&:hover {
				background-color: #45a049 !important;
				border-color: #3d8b40 !important;
			}

			&:active {
				background-color: #3d8b40 !important;
				border-color: #2e6b33 !important;
			}
		}

		&.tab-remove-button {
			background-color: #f44336 !important;
			color: #fff !important;
			border-color: #da190b !important;

			&:hover {
				background-color: #da190b !important;
				border-color: #ba0000 !important;
			}

			&:active {
				background-color: #ba0000 !important;
				border-color: #980000 !important;
			}
		}
	}
}

/* Orientation layouts in editor - scoped to individual block */
	.wp-block[data-type="custom/tabs"] {

	.tabs-container {
		width: 100%;
	}

	.tab-panel-content {
		height: 100%;
		width: 100%;
		box-sizing: border-box;
		padding: 1.5rem;
	}

	/* Horizontal (default) - tabs in a row */
	.tabs-container[data-orientation="horizontal"] {
		.tabs-list {
			display: flex;
			flex-direction: row;
			flex-wrap: wrap;
			gap: 0.5rem;
		}

		.tab-button-container {
			display: contents; /* Transparent wrapper - lets gap work properly */
		}

		.tab-button {
			width: auto; /* Override width: 100% from frontend - buttons should be auto-width in horizontal */
		}
	}

	/* Vertical-left - nav on left, content on right */
		.tabs-container[data-orientation="vertical-left"] {
			display: flex;
			flex-direction: row;
			gap: 0;

			.tabs-list {
				display: flex;
				flex-direction: column;
				width: max-content;
				flex: 0 0 auto;
				min-width: 0;
				border-right: 1px solid #ddd;
				border-bottom: none;
				gap: 0.5rem; /* Match frontend gap */
			}

			.tabs-panels {
				flex: 1;
			}

			.tab-button-container {
				display: contents; /* Transparent wrapper */
			}

			.tab-button {
				/* Let the button size itself to its text */
				width: auto;
			}
		}

	/* Vertical-right - nav on right, content on left */
		.tabs-container[data-orientation="vertical-right"] {
			display: flex;
			flex-direction: row-reverse;
			gap: 0;

			.tabs-list {
				display: flex;
				flex-direction: column;
				width: max-content;
				flex: 0 0 auto;
				min-width: 0;
				border-left: 1px solid #ddd;
				border-bottom: none;
				gap: 0.5rem; /* Match frontend gap */
			}

			.tabs-panels {
				flex: 1;
			}

			.tab-button-container {
				display: contents; /* Transparent wrapper */
			}

			.tab-button {
				/* Let the button size itself to its text */
				width: auto;
			}
		}
}

/* Icon styling */
.tab-icon img {
	width: 1.125rem;
	height: 1.125rem;
	object-fit: contain;
}

/* Tab management panel item */
.tab-panel-item {
	margin-bottom: 0.75rem;
}

/* Tab panel header - flex layout */
.tab-panel-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

/* Tab title spacing */
.tab-title {
	margin-right: 1.25rem;
}

/* Tab actions container */
.tab-actions {
	display: flex;
	flex-direction: column;
	gap: 1px;
	margin-left: auto;
}

/* Heading reset for tab buttons */
.tab-heading {
	margin: 0;
	display: contents;
}
