/* ========================================
   ACCORDION BLOCK - SINGLE SOURCE OF TRUTH
   All default values defined here at :root
   Change values here, everything updates
   ======================================== */

:root {

	/* Wrapper/Container Defaults */
	--accordion-default-border-width: 1px;
	--accordion-default-border-style: solid;
	--accordion-default-border-color: #e0e0e0;
	--accordion-default-border-radius-tl: 4px;
	--accordion-default-border-radius-tr: 4px;
	--accordion-default-border-radius-br: 4px;
	--accordion-default-border-radius-bl: 4px;
	--accordion-default-shadow: none;
	--accordion-default-margin-bottom: 16px;

	/* Title Defaults */
	--accordion-default-title-color: #333;
	--accordion-default-title-bg: #f5f5f5;
	--accordion-default-title-size: 16px;
	--accordion-default-title-weight: 600;
	--accordion-default-title-style: normal;
	--accordion-default-title-transform: none;
	--accordion-default-title-decoration: none;
	--accordion-default-title-align: left;
	--accordion-default-title-padding-top: 15px;
	--accordion-default-title-padding-right: 20px;
	--accordion-default-title-padding-bottom: 15px;
	--accordion-default-title-padding-left: 20px;

	/* Title Hover Defaults */
	--accordion-default-hover-title-color: #333;
	--accordion-default-hover-title-bg: #eee;

	/* Title Active (Open) Defaults */
	--accordion-default-active-title-color: #333;
	--accordion-default-active-title-bg: #f5f5f5;

	/* Content Defaults */
	--accordion-default-content-bg: transparent;
	--accordion-default-content-padding-top: 20px;
	--accordion-default-content-padding-right: 20px;
	--accordion-default-content-padding-bottom: 20px;
	--accordion-default-content-padding-left: 20px;

	/* Divider Defaults */
	--accordion-default-divider-width: 0;
	--accordion-default-divider-style: solid;
	--accordion-default-divider-color: #e0e0e0;

	/* Icon Defaults */
	--accordion-default-icon-color: #333;
	--accordion-default-icon-size: 16px;

	/* Behavioral defaults (documented, handled in code):
   * - showIcon: true
   * - iconPosition: 'right'
   * - iconTypeClosed: '▾'
   * - iconTypeOpen: 'none'
   * - iconRotation: 180
   * - initiallyOpen: false
   * - headingLevel: 'none'
   * - useHeadingStyles: false
   *
   * Null inheritance rules (handled in PHP):
   * - iconColor → titleColor
   * - iconSize → titleFontSize
   * - hoverTitleColor → titleColor
   * - activeTitleColor → titleColor
   * - activeTitleBackgroundColor → titleBackgroundColor
   */
}


/* ========================================
   STRUCTURAL STYLES (not customizable)
   ======================================== */

.wp-block-custom-accordion {
	display: block;
	box-sizing: border-box;
	overflow: hidden;
	margin: 1em 0;
}

/* Horizontal alignment support */
.wp-block-custom-accordion[style*="margin-left"] {
	display: block;
}

.accordion-heading {
	margin: 0;
	padding: 0;
	font-size: inherit;
	font-weight: inherit;
}

.accordion-toggle {
	width: 100%;
	border: none;
	cursor: pointer;
	font-family: inherit;
	line-height: 1.5;
	transition: background-color 0.3s ease, color 0.3s ease;
	display: flex;
	align-items: center;
	text-align: left;
}

.accordion-toggle:focus {
	outline: none;
}

.accordion-toggle:focus-visible {
	outline: 2px solid #007cba;
	outline-offset: 2px;
}

.accordion-title {
	flex: 0 1 auto; /* Don't expand by default */
}

/* Icon positioning variants */
.accordion-toggle.icon-left {
	flex-direction: row-reverse;
	justify-content: space-between;
}

.accordion-toggle.icon-right {
	flex-direction: row;
	justify-content: space-between;
}

.accordion-toggle.icon-extreme-right {
	flex-direction: row;
	justify-content: flex-start;
}

.accordion-toggle.icon-extreme-right .accordion-title {
	flex: 1;
}

.accordion-toggle.icon-left .accordion-icon {
	margin-right: 10px;
}

.accordion-toggle.icon-right .accordion-icon {
	margin-left: 10px;
}

.accordion-toggle.icon-extreme-right .accordion-icon {
	margin-left: auto;
}

.accordion-icon {
	display: inline-block;
	flex-shrink: 0;
	transition: transform 0.3s ease;
}

.accordion-icon[data-animate="true"] {
	transition: transform 0.3s ease;
}

.accordion-icon[data-animate="false"] {
	transition: none;
}

.wp-block-custom-accordion.is-open .accordion-icon[data-animate="true"] {
	transform: rotate(180deg);
}

.accordion-icon-image {
	width: 18px;
	height: 18px;
	max-width: 18px;
	max-height: 18px;
	object-fit: contain;
}

.accordion-content {
	overflow: hidden;
	box-sizing: border-box;
	transition: max-height 0.3s ease, padding 0.3s ease;
	max-height: 0;
	padding: 0 20px;
}

.accordion-content[hidden] {
	display: none;
}

.accordion-content > *:first-child {
	margin-top: 0;
}

.accordion-content > *:last-child {
	margin-bottom: 0;
}

.accordion-content.open {
	max-height: none; /* Set by JavaScript based on content */
}


/* ========================================
   DEFAULT THEME
   Uses :root variables with CSS custom property pattern
   Pattern: var(--custom-*, var(--accordion-default-*))
   - First variable: per-accordion override (inline)
   - Second variable: default fallback (from :root)
   ======================================== */

.accordion-theme-default {
	border-width: var(--custom-border-width, var(--accordion-default-border-width));
	border-style: var(--custom-border-style, var(--accordion-default-border-style));
	border-color: var(--custom-border-color, var(--accordion-default-border-color));
	border-radius:
		var(--custom-border-radius-tl, var(--accordion-default-border-radius-tl))
		var(--custom-border-radius-tr, var(--accordion-default-border-radius-tr))
		var(--custom-border-radius-br, var(--accordion-default-border-radius-br))
		var(--custom-border-radius-bl, var(--accordion-default-border-radius-bl));
	box-shadow: var(--custom-shadow, var(--accordion-default-shadow));
	margin-bottom: var(--custom-margin-bottom, var(--accordion-default-margin-bottom));
}

.accordion-theme-default .accordion-toggle {
	color: var(--custom-title-color, var(--accordion-default-title-color));
	background-color: var(--custom-title-bg, var(--accordion-default-title-bg));
	padding:
		var(--custom-title-padding-top, var(--accordion-default-title-padding-top))
		var(--custom-title-padding-right, var(--accordion-default-title-padding-right))
		var(--custom-title-padding-bottom, var(--accordion-default-title-padding-bottom))
		var(--custom-title-padding-left, var(--accordion-default-title-padding-left));
}

.accordion-theme-default .accordion-title {
	font-size: var(--custom-title-size, var(--accordion-default-title-size));
	font-weight: var(--custom-title-weight, var(--accordion-default-title-weight));
	font-style: var(--custom-title-style, var(--accordion-default-title-style));
	text-transform: var(--custom-title-transform, var(--accordion-default-title-transform));
	text-decoration: var(--custom-title-decoration, var(--accordion-default-title-decoration));
	text-align: var(--custom-title-align, var(--accordion-default-title-align));
}

.accordion-theme-default .accordion-toggle:hover {
	color: var(--custom-hover-title-color, var(--accordion-default-hover-title-color));
	background-color: var(--custom-hover-title-bg, var(--accordion-default-hover-title-bg));
}

.accordion-theme-default.is-open .accordion-toggle {
	color: var(--custom-active-title-color, var(--accordion-default-active-title-color));
	background-color: var(--custom-active-title-bg, var(--accordion-default-active-title-bg));
}

.accordion-theme-default .accordion-content {
	background-color: var(--custom-content-bg, var(--accordion-default-content-bg));
	border-top-width: var(--custom-divider-width, var(--accordion-default-divider-width));
	border-top-style: var(--custom-divider-style, var(--accordion-default-divider-style));
	border-top-color: var(--custom-divider-color, var(--accordion-default-divider-color));
}

.accordion-theme-default .accordion-content.open {
	padding:
		var(--custom-content-padding-top, var(--accordion-default-content-padding-top))
		var(--custom-content-padding-right, var(--accordion-default-content-padding-right))
		var(--custom-content-padding-bottom, var(--accordion-default-content-padding-bottom))
		var(--custom-content-padding-left, var(--accordion-default-content-padding-left));
}

.accordion-theme-default .accordion-icon {
	color: var(--custom-icon-color, var(--accordion-default-icon-color));
	font-size: var(--custom-icon-size, var(--accordion-default-icon-size));
	width: var(--custom-icon-size, var(--accordion-default-icon-size));
	height: var(--custom-icon-size, var(--accordion-default-icon-size));
}


/* ========================================
   HEADING WRAPPER STYLES
   When accordion title is wrapped in semantic heading
   ======================================== */

/* Remove default heading margins */
.wp-block-custom-accordion h1,
.wp-block-custom-accordion h2,
.wp-block-custom-accordion h3,
.wp-block-custom-accordion h4,
.wp-block-custom-accordion h5,
.wp-block-custom-accordion h6 {
	margin: 0;
	padding: 0;
	font-size: inherit;
	font-weight: inherit;
	line-height: inherit;
}

/* When using WordPress heading styles */
.wp-block-custom-accordion.use-heading-styles h1 > .accordion-toggle .accordion-title {
	font-size: 2.5em;
	font-weight: 700;
	line-height: 1.2;
}

.wp-block-custom-accordion.use-heading-styles h2 > .accordion-toggle .accordion-title {
	font-size: 2em;
	font-weight: 700;
	line-height: 1.3;
}

.wp-block-custom-accordion.use-heading-styles h3 > .accordion-toggle .accordion-title {
	font-size: 1.75em;
	font-weight: 600;
	line-height: 1.4;
}

.wp-block-custom-accordion.use-heading-styles h4 > .accordion-toggle .accordion-title {
	font-size: 1.5em;
	font-weight: 600;
	line-height: 1.4;
}

.wp-block-custom-accordion.use-heading-styles h5 > .accordion-toggle .accordion-title {
	font-size: 1.25em;
	font-weight: 600;
	line-height: 1.5;
}

.wp-block-custom-accordion.use-heading-styles h6 > .accordion-toggle .accordion-title {
	font-size: 1em;
	font-weight: 600;
	line-height: 1.5;
}


/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 768px) {

	.accordion-theme-default .accordion-toggle {
		padding: 12px 15px;
	}

	.accordion-theme-default .accordion-title {
		font-size: 14px;
	}

	.accordion-theme-default .accordion-content.open {
		padding: 15px;
	}
}


/* ========================================
   ACCESSIBILITY
   ======================================== */

/* Respect motion preferences */
@media (prefers-reduced-motion: reduce) {

	.accordion-toggle,
	.accordion-icon,
	.accordion-content {
		transition: none !important;
	}
}

/* Print: show all content */
@media print {

	.accordion-content[hidden] {
		display: block !important;
		max-height: none !important;
		padding: 20px !important;
	}

	.accordion-icon {
		display: none !important;
	}

	.wp-block-custom-accordion {
		page-break-inside: avoid;
	}
}


/* ========================================
   ANIMATION SPEED VARIANTS (optional)
   ======================================== */

.accordion-block.animation-fast .accordion-content {
	transition: max-height 0.15s ease, padding 0.15s ease;
}

.accordion-block.animation-normal .accordion-content {
	transition: max-height 0.3s ease, padding 0.3s ease;
}

.accordion-block.animation-slow .accordion-content {
	transition: max-height 0.6s ease, padding 0.6s ease;
}

.accordion-block.animation-none .accordion-content {
	transition: none;
}


/* ========================================
   STYLE VARIANTS (optional presets)
   ======================================== */

.accordion-style-minimal {
	border: none !important;
	box-shadow: none !important;
}

.accordion-style-minimal .accordion-toggle {
	background-color: transparent !important;
	border-bottom: 1px solid var(--accordion-default-border-color);
	border-radius: 0 !important;
	padding: 10px 0;
}

.accordion-style-card {
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
	border: none !important;
}

.accordion-style-bordered {
	border-width: 2px !important;
}

.accordion-style-rounded {
	border-radius: 15px !important;
}

.accordion-style-rounded .accordion-toggle {
	border-radius: 15px 15px 0 0 !important;
}
