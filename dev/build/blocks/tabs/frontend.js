(()=>{"use strict";var e={};function t(e){return"vertical-left"===e||"vertical-right"===e}e.d=(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),document.addEventListener("DOMContentLoaded",()=>{try{n(),i(),l()}catch(e){console.error("Tabs block initialization failed:",e)}}),window.addEventListener("resize",()=>{try{n(),l()}catch(e){console.error("Failed to handle responsive mode:",e)}});const r={tablet:1024,mobile:600};let o=null;function n(){const e=document.querySelectorAll(".gutplus-tabs");if(!e||0===e.length)return;const t=window.guttembergPlusSettings?.breakpoints||r,n=function(e,t){return e<=t.mobile?"mobile":e<=t.tablet?"tablet":"desktop"}(window.innerWidth,t);n!==o&&(o=n,e.forEach(e=>{e.setAttribute("data-gutplus-device",n)}))}function i(){const e=document.querySelectorAll(".gutplus-tabs");e&&0!==e.length&&e.forEach(e=>{try{!function(e){if(!e)return void console.warn("Tabs block is null, skipping");const r=e.getAttribute("data-orientation")||"horizontal",o="hover"===(e.getAttribute("data-activation-mode")||"click")?"hover":"click",n="true"===e.getAttribute("data-responsive-fallback"),i=e.querySelector(".tabs-list"),l=e.querySelectorAll(".tab-panel");if(!i||0===l.length)return void console.warn("Tabs block structure incomplete (missing tabList or panels), skipping");const c=i.querySelectorAll(".tab-button");if(!c||0===c.length)return void console.warn("No tab buttons found, skipping");const d=parseInt(i.getAttribute("data-current-tab")||"0",10);if(l.forEach((e,t)=>{t===d?(e.removeAttribute("hidden"),e.classList.add("active"),e.setAttribute("tabindex","0")):(e.setAttribute("hidden",""),e.classList.remove("active"),e.setAttribute("tabindex","-1"))}),c.forEach((e,t)=>{const r=t===d;r?(e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),e.classList.add("active")):(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),e.classList.remove("active")),s(e,r)}),c.forEach((n,i)=>{try{n.addEventListener("click",t=>{if(t.preventDefault(),!n.disabled&&"true"!==n.getAttribute("aria-selected"))try{a(e,i)}catch(e){console.error("Failed to activate tab:",e)}}),n.addEventListener("keydown",i=>{try{!function(e,r,o,n,i,s){if(!(e&&r&&o&&s))return;const l=e.key,c=Array.from(o).filter(e=>!e.disabled);if(!c||0===c.length)return;const d=c.indexOf(r);if(-1===d)return void console.warn("Current button not found in buttons array");let u=d,b=!1;switch(l){case"ArrowRight":"horizontal"===n&&(e.preventDefault(),u=(d+1)%c.length,b="hover"===i);break;case"ArrowLeft":"horizontal"===n&&(e.preventDefault(),u=(d-1+c.length)%c.length,b="hover"===i);break;case"ArrowDown":t(n)&&(e.preventDefault(),u=(d+1)%c.length,b="hover"===i);break;case"ArrowUp":t(n)&&(e.preventDefault(),u=(d-1+c.length)%c.length,b="hover"===i);break;case"Home":e.preventDefault(),u=0,b="hover"===i;break;case"End":e.preventDefault(),u=c.length-1,b="hover"===i;break;case"Enter":case" ":return void("click"===i&&(e.preventDefault(),a(s,Array.from(o).indexOf(r))));default:return}if(u!==d&&u>=0&&u<c.length&&c[u]&&(c[u].focus(),b)){const e=Array.from(o),t=e.indexOf(c[u]);-1!==t&&t<e.length&&a(s,t)}}(i,n,c,r,o,e)}catch(e){console.error("Keyboard navigation failed:",e)}}),"hover"===o&&n.addEventListener("focus",()=>{if(!n.disabled&&"true"!==n.getAttribute("aria-selected"))try{a(e,i)}catch(e){console.error("Failed to activate tab on focus:",e)}}),"hover"===o&&n.addEventListener("mouseenter",()=>{if(!n.disabled&&"true"!==n.getAttribute("aria-selected"))try{a(e,i,{isHover:!0})}catch(e){console.error("Failed to activate tab on hover:",e)}})}catch(e){console.error("Failed to initialize tab button:",e)}}),n)try{!function(e){if(!e)return;const t=e.querySelector(".accordion-fallback");if(!t)return;const r=t.querySelectorAll(".accordion-button");r&&0!==r.length&&r.forEach(e=>{e&&e.addEventListener("click",t=>{t.preventDefault();const r=e.nextElementSibling;if(!r)return void console.warn("Accordion panel not found");const o="true"===e.getAttribute("aria-expanded");try{o?(e.setAttribute("aria-expanded","false"),r.setAttribute("hidden",""),function(e){const t=parseInt(getComputedStyle(e).getPropertyValue("--accordion-animation-duration")||"300"),r=e.scrollHeight;e.style.overflow="hidden",e.style.height=`${r}px`,e.offsetHeight,e.style.transition=`height ${t}ms ease-in-out, opacity ${t}ms ease-in-out`,e.style.height="0",e.style.opacity="0";const o=()=>{e.style.transition="",e.style.overflow="",e.style.opacity="",e.style.height="",e.style.display="none",e.removeEventListener("transitionend",o),e.removeEventListener("transitioncancel",o)};e.addEventListener("transitionend",o,{once:!0}),e.addEventListener("transitioncancel",o,{once:!0})}(r)):(e.setAttribute("aria-expanded","true"),r.removeAttribute("hidden"),function(e){const t=parseInt(getComputedStyle(e).getPropertyValue("--accordion-animation-duration")||"300");e.style.display="block",e.style.overflow="visible",e.style.height="auto",e.style.opacity="1",e.offsetHeight;const r=e.scrollHeight;e.style.height="0",e.style.opacity="0",e.style.overflow="hidden",e.offsetHeight,e.style.transition=`height ${t}ms ease-in-out, opacity ${t}ms ease-in-out`,e.style.height=`${r}px`,e.style.opacity="1";const o=()=>{e.style.height="auto",e.style.overflow="",e.style.transition="",e.removeEventListener("transitionend",o),e.removeEventListener("transitioncancel",o)};e.addEventListener("transitionend",o,{once:!0}),e.addEventListener("transitioncancel",o,{once:!0})}(r))}catch(e){console.error("Failed to toggle accordion:",e)}})})}(e)}catch(e){console.error("Failed to initialize responsive accordion:",e)}if("horizontal"===r)try{!function(e){if(!e)return;const t=e.querySelector(".tabs-list-wrapper"),r=e.querySelector(".tabs-list"),o=e.querySelector(".tabs-scroll-button.scroll-left"),n=e.querySelector(".tabs-scroll-button.scroll-right");if(!(t&&r&&o&&n))return;const i=()=>{r.scrollWidth>r.clientWidth?t.classList.add("has-overflow"):t.classList.remove("has-overflow"),a()},a=()=>{const e=r.querySelectorAll(".tab-button, .tab-heading");if(!e||0===e.length)return;const t=r.getBoundingClientRect(),i=e[0],a=e[e.length-1];if(!i||!a)return;const s=i.getBoundingClientRect(),l=a.getBoundingClientRect();o.disabled=s.left>=t.left-1,n.disabled=l.right<=t.right+1},s=()=>Math.max(200,r.clientWidth/3);o.addEventListener("click",()=>{r.scrollBy({left:-s(),behavior:"smooth"})}),n.addEventListener("click",()=>{r.scrollBy({left:s(),behavior:"smooth"})}),r.addEventListener("scroll",a),i(),new ResizeObserver(i).observe(r);const l=r.querySelector('.tab-button[aria-selected="true"]');l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)}(e)}catch(e){console.error("Failed to initialize tab scroll:",e)}}(e)}catch(e){console.error("Failed to initialize tabs block:",e)}})}function a(e,t,r={}){if(!e)return void console.warn("Block is null in activateTab");const o=e.querySelectorAll(".tab-button"),n=e.querySelectorAll(".tab-panel");if(!o||!n)return void console.warn("Tab buttons or panels not found");if(t<0||t>=o.length||!o[t]||!n[t])return void console.warn("Invalid tab index or missing tab elements");o.forEach((e,t)=>{e&&(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),e.classList.remove("active"),s(e,!1)),n[t]&&(n[t].setAttribute("hidden",""),n[t].classList.remove("active"))}),o[t].setAttribute("aria-selected","true"),o[t].setAttribute("tabindex","0"),o[t].classList.add("active"),s(o[t],!0),n[t]&&(n[t].removeAttribute("hidden"),n[t].style.display="",n[t].classList.add("active"));const i=e.getAttribute("data-orientation"),a=r.isHover||!1;if(!i||"horizontal"===i){const r=a?400:50;e._scrollTimeout||(e._scrollTimeouts={}),e._scrollTimeouts[t]&&clearTimeout(e._scrollTimeouts[t]),e._scrollTimeouts[t]=setTimeout(()=>{o[t].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),delete e._scrollTimeouts[t]},r)}}function s(e,t){const r=e.querySelector(".tab-icon");if(!r)return;const o=r.getAttribute("data-icon-closed")||"â–¾",n=r.getAttribute("data-icon-open")||"none",i=r.classList.contains("tab-icon-image"),a=t?n:o,s=i?r.src:r.textContent;"none"!==a&&s!==a&&(i?r.src=a:r.textContent=a),t?r.classList.add("is-rotated"):r.classList.remove("is-rotated")}function l(){const e=document.querySelectorAll(".gutplus-tabs.responsive-accordion");e&&0!==e.length&&e.forEach(e=>{try{if(!e)return;const t=parseInt(e.getAttribute("data-breakpoint")||"768",10),r=window.innerWidth<t,o=e.querySelector(".tabs-list"),n=e.querySelector(".tabs-panels"),i=e.querySelector(".accordion-fallback");if(!o||!n||!i)return;if(r){o.style.display="none",n.style.display="none",i.style.display="block";const t=Array.from(e.querySelectorAll(".tab-button")).findIndex(e=>"true"===e.getAttribute("aria-selected")),r=i.querySelectorAll(".accordion-item");r&&r.length>0&&r.forEach((e,r)=>{if(!e)return;const o=e.querySelector(".accordion-button"),n=e.querySelector(".accordion-panel");o&&n&&(r===t?(o.setAttribute("aria-expanded","true"),n.removeAttribute("hidden")):(o.setAttribute("aria-expanded","false"),n.setAttribute("hidden","")))})}else o.style.display="",n.style.display="",i.style.display="none"}catch(e){console.error("Failed to handle responsive mode for block:",e)}})}window.reinitializeTabs=i})();