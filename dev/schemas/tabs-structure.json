{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "blockType": "tabs",
  "version": "1.0.0",
  "description": "HTML structure definition for Tabs block - defines element hierarchy, class names, and ARIA attributes",
  "root": "wrapper",

  "elements": {
    "wrapper": {
      "id": "wrapper",
      "tag": "div",
      "className": "gutplus-tabs",
      "description": "Outermost container for the tabs block with theme class and responsive classes",
      "children": ["tabsList", "tabsPanels"],
      "attributes": {
        "data-orientation": "{orientation || 'horizontal'}",
        "data-activation-mode": "{activationMode || 'auto'}",
        "data-breakpoint": "{responsiveBreakpoint || 768}",
        "data-responsive-fallback": "{enableResponsiveFallback || true}",
        "data-icon-inactive": "{iconInactiveSource ? JSON.stringify(iconInactiveSource) : null}",
        "data-icon-active": "{iconActiveSource ? JSON.stringify(iconActiveSource) : null}",
        "data-has-different-icons": "{!!iconActiveSource}"
      },
      "conditionalClass": {
        "gutplus-tabs-theme-{currentTheme}": "{currentTheme}",
        "responsive-accordion": "{enableResponsiveFallback}"
      },
      "appliesStyles": [
        "tabsWidth",
        "borderColor",
        "borderWidth",
        "borderStyle",
        "borderRadius",
        "shadow",
        "shadowHover"
      ]
    },

    "tabsList": {
      "id": "tabsList",
      "tag": "div",
      "className": "tabs-list",
      "description": "Container for tab buttons (navigation bar)",
      "children": ["tabButton"],
      "attributes": {
        "role": "tablist",
        "data-current-tab": "{currentTab || 0}"
      },
      "aria": {
        "orientation": "{orientation || 'horizontal'}"
      },
      "appliesStyles": [
        "tabListBackgroundColor",
        "tabsRowBorderColor",
        "tabsRowBorderWidth",
        "tabsRowBorderStyle",
        "tabListAlignment",
        "tabsRowSpacing",
        "tabsButtonGap",
        "enableTabsListContentBorder",
        "tabsListContentBorderColor",
        "tabsListContentBorderWidth",
        "tabsListContentBorderStyle"
      ]
    },

    "tabButton": {
      "id": "tabButton",
      "tag": "button",
      "className": "tab-button",
      "description": "Individual tab button (generated dynamically in frontend JS from InnerBlocks)",
      "children": ["tabButtonText", "tabIcon"],
      "attributes": {
        "type": "button",
        "role": "tab",
        "data-tab-index": "{index}"
      },
      "aria": {
        "selected": "{index === currentTab}",
        "controls": "tab-panel-{index}"
      },
      "conditionalClass": {
        "active": "{index === currentTab}"
      },
      "appliesStyles": [
        "tabButtonColor",
        "tabButtonBackgroundColor",
        "tabButtonTextAlign",
        "tabButtonPadding",
        "tabButtonHoverColor",
        "tabButtonHoverBackgroundColor",
        "tabButtonActiveColor",
        "tabButtonActiveBackgroundColor",
        "tabButtonActiveBorderColor",
        "tabButtonActiveContentBorderColor",
        "tabButtonActiveContentBorderWidth",
        "tabButtonActiveContentBorderStyle",
        "tabButtonActiveFontWeight",
        "enableFocusBorder",
        "iconPosition",
        "tabButtonBorderColor",
        "tabButtonBorderWidth",
        "tabButtonBorderStyle",
        "tabButtonBorderRadius",
        "tabButtonShadow",
        "tabButtonShadowHover"
      ]
    },

    "tabButtonText": {
      "id": "tabButtonText",
      "tag": "span",
      "className": "tab-button-text",
      "description": "Text content of tab button (extracted from inner blocks)",
      "contentType": "dynamic",
      "appliesStyles": [
        "tabButtonFontSize",
        "tabButtonFontWeight",
        "tabButtonFontStyle",
        "tabButtonTextTransform",
        "tabButtonTextDecoration"
      ]
    },

    "tabIcon": {
      "id": "tabIcon",
      "tag": "span",
      "className": "tab-icon",
      "description": "Expand/collapse icon for responsive accordion mode",
      "conditionalRender": "{iconPosition && iconPosition !== 'none' && enableResponsiveFallback}",
      "attributes": {
        "aria-hidden": "true",
        "data-icon-inactive": "{JSON.stringify(iconInactiveSource)}",
        "data-icon-active": "{iconActiveSource ? JSON.stringify(iconActiveSource) : null}",
        "data-has-different-icons": "{!!iconActiveSource}"
      },
      "renderVariant": {
        "condition": "iconInactiveSource.kind === 'image'",
        "ifTrue": {
          "tag": "img",
          "className": "tab-icon tab-icon-image",
          "attributes": {
            "src": "{iconInactiveSource.value}",
            "alt": "",
            "aria-hidden": "true"
          }
        }
      },
      "appliesStyles": [
        "iconInactiveColor",
        "iconInactiveSize",
        "iconInactiveMaxSize",
        "iconInactiveOffsetX",
        "iconInactiveOffsetY",
        "iconActiveColor",
        "iconActiveSize",
        "iconActiveMaxSize",
        "iconActiveOffsetX",
        "iconActiveOffsetY",
        "iconRotation"
      ]
    },

    "tabsPanels": {
      "id": "tabsPanels",
      "tag": "div",
      "className": "tabs-panels",
      "description": "Container for all tab panel content areas",
      "children": ["tabPanel"],
      "appliesStyles": []
    },

    "tabPanel": {
      "id": "tabPanel",
      "tag": "div",
      "className": "tab-panel",
      "description": "Individual tab content panel (from InnerBlocks) with padding",
      "contentType": "InnerBlocks",
      "attributes": {
        "role": "tabpanel",
        "data-tab-index": "{index}"
      },
      "aria": {
        "labelledby": "tab-button-{index}",
        "hidden": "{index !== currentTab}"
      },
      "conditionalClass": {
        "active": "{index === currentTab}"
      },
      "appliesStyles": [
        "panelBackgroundColor",
        "panelBorderColor",
        "panelBorderWidth",
        "panelBorderStyle",
        "panelBorderRadius"
      ]
    }
  },

  "hierarchy": {
    "root": "wrapper",
    "tree": {
      "wrapper": {
        "tabsList": {
          "tabButton": ["tabButtonText", "tabIcon"]
        },
        "tabsPanels": {
          "tabPanel": []
        }
      }
    }
  }
}
