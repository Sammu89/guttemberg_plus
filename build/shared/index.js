(()=>{"use strict";var e={47:(e,t,o)=>{o.d(t,{f:()=>r});const r={showIcon:{type:"boolean",default:!0},iconPosition:{type:"string",default:"right"},iconSize:{type:"number",default:null},iconTypeClosed:{type:"string",default:"â–¾"},iconTypeOpen:{type:"string",default:"none"},iconRotation:{type:"number",default:180}}},87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},235:(e,t,o)=>{},313:(e,t,o)=>{},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},715:(e,t,o)=>{o.d(t,{B:()=>r});const r={currentTheme:{type:"string",default:""},uniqueId:{type:"string",default:""},blockId:{type:"string",default:""},accordionId:{type:"string",default:""},initiallyOpen:{type:"boolean",default:!1},headingLevel:{type:"string",default:"none"},useHeadingStyles:{type:"boolean",default:!1},title:{type:"string",default:"Accordion Title"},content:{type:"string",default:""}}},726:(e,t,o)=>{},919:(e,t,o)=>{},957:(e,t,o)=>{var r=o(47),n=o(715);function s(e){const t={};for(const[o,r]of Object.entries(e))r.hasOwnProperty("default")&&(t[o]=r.default);return t}s(r.f),s(n.B)}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=o(143);const n=window.wp.apiFetch;var s=o.n(n);const a={accordionThemes:{},tabsThemes:{},tocThemes:{},themesLoaded:{accordion:!1,tabs:!1,toc:!1},isLoading:!1,error:null},l="SET_THEMES",d="SET_LOADING",c="SET_ERROR",i="THEME_CREATED",m="THEME_UPDATED",y="THEME_DELETED",E="THEME_RENAMED";function u(e){return`${e}Themes`}const h={*loadThemes(e){yield h.setLoading(!0),yield h.setError(null);try{const t=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}`,method:"GET"}};return{type:l,blockType:e,themes:t}}catch(e){return yield h.setError(e.message),{type:"LOAD_THEMES_ERROR"}}finally{yield h.setLoading(!1)}},*createTheme(e,t,o){console.log("[REDUX DEBUG] createTheme action called:",{blockType:e,name:t,values:o}),yield h.setLoading(!0),yield h.setError(null);try{const r=yield{type:"API_FETCH",request:{path:"/gutenberg-blocks/v1/themes",method:"POST",data:{blockType:e,name:t,values:o}}};console.log("[REDUX DEBUG] API returned theme:",r);const n={type:i,blockType:e,theme:r};return console.log("[REDUX DEBUG] Dispatching THEME_CREATED action:",n),n}catch(e){throw console.error("[REDUX DEBUG] createTheme error:",e),yield h.setError(e.message),e}finally{yield h.setLoading(!1)}},*updateTheme(e,t,o){yield h.setLoading(!0),yield h.setError(null);try{const r=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"PUT",data:{values:o}}};return{type:m,blockType:e,theme:r}}catch(e){throw yield h.setError(e.message),e}finally{yield h.setLoading(!1)}},*deleteTheme(e,t){yield h.setLoading(!0),yield h.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"DELETE"}},{type:y,blockType:e,themeName:t}}catch(e){throw yield h.setError(e.message),e}finally{yield h.setLoading(!1)}},*renameTheme(e,t,o){yield h.setLoading(!0),yield h.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}/rename`,method:"POST",data:{newName:o}}},{type:E,blockType:e,oldName:t,newName:o}}catch(e){throw yield h.setError(e.message),e}finally{yield h.setLoading(!1)}},setLoading:e=>({type:d,isLoading:e}),setError:e=>({type:c,error:e})},p={getThemes:(e,t)=>e[u(t)]||{},getTheme:(e,t,o)=>p.getThemes(e,t)[o]||null,hasTheme:(e,t,o)=>null!==p.getTheme(e,t,o),isLoading:e=>e.isLoading,getError:e=>e.error,areThemesLoaded:(e,t)=>e.themesLoaded?.[t]||!1,getThemeNames(e,t){const o=p.getThemes(e,t);return Object.keys(o)}},T={API_FETCH:({request:e})=>s()(e)},g=(0,r.createReduxStore)("gutenberg-blocks/themes",{reducer:(e=a,t)=>{switch(t.type){case l:{const o=u(t.blockType);return{...e,[o]:t.themes,themesLoaded:{...e.themesLoaded,[t.blockType]:!0}}}case d:return{...e,isLoading:t.isLoading};case c:return{...e,error:t.error};case i:{const o=u(t.blockType);if(console.log("[REDUCER DEBUG] THEME_CREATED reducer called"),console.log("[REDUCER DEBUG] Action:",t),console.log("[REDUCER DEBUG] State key:",o),console.log("[REDUCER DEBUG] Previous state:",e),!t.theme||!t.theme.name)return console.error("[Theme Store] THEME_CREATED: Invalid theme object",t),e;const r={...e,[o]:{...e[o],[t.theme.name]:t.theme}};return console.log("[REDUCER DEBUG] New state after THEME_CREATED:",r),r}case m:{const o=u(t.blockType);return t.theme&&t.theme.name?{...e,[o]:{...e[o],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_UPDATED: Invalid theme object",t),e)}case y:{const o=u(t.blockType),r={...e[o]};return delete r[t.themeName],{...e,[o]:r}}case E:{const o=u(t.blockType),r={...e[o]},n=r[t.oldName];return delete r[t.oldName],r[t.newName]={...n,name:t.newName},{...e,[o]:r}}default:return e}},actions:h,selectors:p,controls:T});try{(0,r.register)(g)}catch(e){if(!e.message||!e.message.includes("already registered"))throw console.error("[Theme Store] Unexpected registration error:",e),e}o(919),o(235),o(726),o(313),o(47),o(715),o(957),new Set,o(609),o(427),o(87)})();