(()=>{"use strict";var e={87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},631:(e,t,r)=>{r.d(t,{Yz:()=>s});const o=()=>"undefined"!=typeof window&&!0===window.WP_DEBUG,n=()=>"undefined"!=typeof window&&!0===window.GUTTEMBERG_DEBUG_VERBOSE;function s(...e){o()&&n()&&console.log(...e)}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=r(143);const n=window.wp.apiFetch;var s=r.n(n),a=r(631);const d="gutenberg-blocks/themes",c={accordionThemes:{},tabsThemes:{},tocThemes:{},themesLoaded:{accordion:!1,tabs:!1,toc:!1},isLoading:!1,error:null},l="SET_THEMES",i="SET_LOADING",E="SET_ERROR",m="THEME_CREATED",h="THEME_UPDATED",T="THEME_DELETED",y="THEME_RENAMED";function u(e){return`${e}Themes`}const p={*loadThemes(e){yield p.setLoading(!0),yield p.setError(null);try{const t=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}`,method:"GET"}};return{type:l,blockType:e,themes:t}}catch(e){return yield p.setError(e.message),{type:"LOAD_THEMES_ERROR"}}finally{yield p.setLoading(!1)}},*createTheme(e,t,r){(0,a.Yz)("[REDUX DEBUG] createTheme action called:",{blockType:e,name:t,values:r}),yield p.setLoading(!0),yield p.setError(null);try{const o=yield{type:"API_FETCH",request:{path:"/gutenberg-blocks/v1/themes",method:"POST",data:{blockType:e,name:t,values:r}}};(0,a.Yz)("[REDUX DEBUG] API returned theme:",o);const n={type:m,blockType:e,theme:o};return(0,a.Yz)("[REDUX DEBUG] Dispatching THEME_CREATED action:",n),n}catch(e){throw console.error("[REDUX DEBUG] createTheme error:",e),yield p.setError(e.message),e}finally{yield p.setLoading(!1)}},*updateTheme(e,t,r){yield p.setLoading(!0),yield p.setError(null);try{const o=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"PUT",data:{values:r}}};return{type:h,blockType:e,theme:o}}catch(e){throw yield p.setError(e.message),e}finally{yield p.setLoading(!1)}},*deleteTheme(e,t){yield p.setLoading(!0),yield p.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"DELETE"}},{type:T,blockType:e,themeName:t}}catch(e){throw yield p.setError(e.message),e}finally{yield p.setLoading(!1)}},*renameTheme(e,t,r){yield p.setLoading(!0),yield p.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}/rename`,method:"POST",data:{newName:r}}},{type:y,blockType:e,oldName:t,newName:r}}catch(e){throw yield p.setError(e.message),e}finally{yield p.setLoading(!1)}},setLoading:e=>({type:i,isLoading:e}),setError:e=>({type:E,error:e})},g={getThemes:(e,t)=>e[u(t)]||{},getTheme:(e,t,r)=>g.getThemes(e,t)[r]||null,hasTheme:(e,t,r)=>null!==g.getTheme(e,t,r),isLoading:e=>e.isLoading,getError:e=>e.error,areThemesLoaded:(e,t)=>e.themesLoaded?.[t]||!1,getThemeNames(e,t){const r=g.getThemes(e,t);return Object.keys(r)}},w={API_FETCH:({request:e})=>s()(e)},D=(0,o.createReduxStore)(d,{reducer:(e=c,t)=>{switch(t.type){case l:{const r=u(t.blockType);return{...e,[r]:t.themes,themesLoaded:{...e.themesLoaded,[t.blockType]:!0}}}case i:return{...e,isLoading:t.isLoading};case E:return{...e,error:t.error};case m:{const r=u(t.blockType);if((0,a.Yz)("[REDUCER DEBUG] THEME_CREATED reducer called"),(0,a.Yz)("[REDUCER DEBUG] Action:",t),(0,a.Yz)("[REDUCER DEBUG] State key:",r),(0,a.Yz)("[REDUCER DEBUG] Previous state:",e),!t.theme||!t.theme.name)return console.error("[Theme Store] THEME_CREATED: Invalid theme object",t),e;const o={...e,[r]:{...e[r],[t.theme.name]:t.theme}};return(0,a.Yz)("[REDUCER DEBUG] New state after THEME_CREATED:",o),o}case h:{const r=u(t.blockType);return t.theme&&t.theme.name?{...e,[r]:{...e[r],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_UPDATED: Invalid theme object",t),e)}case T:{const r=u(t.blockType),o={...e[r]};return delete o[t.themeName],{...e,[r]:o}}case y:{const r=u(t.blockType),o={...e[r]},n=o[t.oldName];return delete o[t.oldName],o[t.newName]={...n,name:t.newName},{...e,[r]:o}}default:return e}},actions:p,selectors:g,controls:w});if(!wp.data.select(d))try{(0,o.register)(D)}catch(e){throw console.error("[Theme Store] Registration error:",e),e}new Set,r(609),r(427),r(87),new Set(["uniqueId","blockId","accordionId","tocId","currentTheme","customizations","customizationCache","title","content","tabs"])})();