(()=>{"use strict";var e={87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},631:(e,t,r)=>{r.d(t,{Yz:()=>s});const o=()=>"undefined"!=typeof window&&!0===window.WP_DEBUG,n=()=>"undefined"!=typeof window&&!0===window.GUTTEMBERG_DEBUG_VERBOSE;function s(...e){o()&&n()&&console.log(...e)}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=r(143);const n=window.wp.apiFetch;var s=r.n(n),a=r(631);const l="gutenberg-blocks/themes",d={accordionThemes:{},tabsThemes:{},tocThemes:{},themesLoaded:{accordion:!1,tabs:!1,toc:!1},isLoading:!1,error:null},i="SET_THEMES",c="SET_LOADING",E="SET_ERROR",y="THEME_CREATED",m="THEME_UPDATED",u="THEME_DELETED",h="THEME_RENAMED";function p(e){return`${e}Themes`}const T={*loadThemes(e){yield T.setLoading(!0),yield T.setError(null);try{const t=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}`,method:"GET"}};return{type:i,blockType:e,themes:t}}catch(e){return yield T.setError(e.message),{type:"LOAD_THEMES_ERROR"}}finally{yield T.setLoading(!1)}},*createTheme(e,t,r){(0,a.Yz)("[REDUX DEBUG] createTheme action called:",{blockType:e,name:t,values:r}),yield T.setLoading(!0),yield T.setError(null);try{const o=yield{type:"API_FETCH",request:{path:"/gutenberg-blocks/v1/themes",method:"POST",data:{blockType:e,name:t,values:r}}};(0,a.Yz)("[REDUX DEBUG] API returned theme:",o);const n={type:y,blockType:e,theme:o};return(0,a.Yz)("[REDUX DEBUG] Dispatching THEME_CREATED action:",n),n}catch(e){throw console.error("[REDUX DEBUG] createTheme error:",e),yield T.setError(e.message),e}finally{yield T.setLoading(!1)}},*updateTheme(e,t,r){yield T.setLoading(!0),yield T.setError(null);try{const o=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"PUT",data:{values:r}}};return{type:m,blockType:e,theme:o}}catch(e){throw yield T.setError(e.message),e}finally{yield T.setLoading(!1)}},*deleteTheme(e,t){yield T.setLoading(!0),yield T.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"DELETE"}},{type:u,blockType:e,themeName:t}}catch(e){throw yield T.setError(e.message),e}finally{yield T.setLoading(!1)}},*renameTheme(e,t,r){yield T.setLoading(!0),yield T.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}/rename`,method:"POST",data:{newName:r}}},{type:h,blockType:e,oldName:t,newName:r}}catch(e){throw yield T.setError(e.message),e}finally{yield T.setLoading(!1)}},setLoading:e=>({type:c,isLoading:e}),setError:e=>({type:E,error:e})},g={getThemes:(e,t)=>e[p(t)]||{},getTheme:(e,t,r)=>g.getThemes(e,t)[r]||null,hasTheme:(e,t,r)=>null!==g.getTheme(e,t,r),isLoading:e=>e.isLoading,getError:e=>e.error,areThemesLoaded:(e,t)=>e.themesLoaded?.[t]||!1,getThemeNames(e,t){const r=g.getThemes(e,t);return Object.keys(r)}},b={API_FETCH:({request:e})=>s()(e)},f=(0,o.createReduxStore)(l,{reducer:(e=d,t)=>{switch(t.type){case i:{const r=p(t.blockType);return{...e,[r]:t.themes,themesLoaded:{...e.themesLoaded,[t.blockType]:!0}}}case c:return{...e,isLoading:t.isLoading};case E:return{...e,error:t.error};case y:{const r=p(t.blockType);if((0,a.Yz)("[REDUCER DEBUG] THEME_CREATED reducer called"),(0,a.Yz)("[REDUCER DEBUG] Action:",t),(0,a.Yz)("[REDUCER DEBUG] State key:",r),(0,a.Yz)("[REDUCER DEBUG] Previous state:",e),!t.theme||!t.theme.name)return console.error("[Theme Store] THEME_CREATED: Invalid theme object",t),e;const o={...e,[r]:{...e[r],[t.theme.name]:t.theme}};return(0,a.Yz)("[REDUCER DEBUG] New state after THEME_CREATED:",o),o}case m:{const r=p(t.blockType);return t.theme&&t.theme.name?{...e,[r]:{...e[r],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_UPDATED: Invalid theme object",t),e)}case u:{const r=p(t.blockType),o={...e[r]};return delete o[t.themeName],{...e,[r]:o}}case h:{const r=p(t.blockType),o={...e[r]},n=o[t.oldName];return delete o[t.oldName],o[t.newName]={...n,name:t.newName},{...e,[r]:o}}default:return e}},actions:T,selectors:g,controls:b});if(!wp.data.select(l))try{(0,o.register)(f)}catch(e){throw console.error("[Theme Store] Registration error:",e),e}function w(e){const t={};for(const[r,o]of Object.entries(e))o.hasOwnProperty("default")&&(t[r]=o.default);return t}w({showIcon:{type:"boolean",default:!0},iconPosition:{type:"string",default:"right"},iconSize:{type:"number",default:null},iconTypeClosed:{type:"string",default:"â–¾"},iconTypeOpen:{type:"string",default:"none"},iconRotation:{type:"number",default:180}}),w({currentTheme:{type:"string",default:""},uniqueId:{type:"string",default:""},blockId:{type:"string",default:""},accordionId:{type:"string",default:""},initiallyOpen:{type:"boolean",default:!1},headingLevel:{type:"string",default:"none"},useHeadingStyles:{type:"boolean",default:!1},title:{type:"string",default:"Accordion Title"},content:{type:"string",default:""}}),new Set,r(609),r(427),r(87)})();