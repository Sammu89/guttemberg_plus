(()=>{"use strict";var e={};function t(){const e=document.querySelectorAll(".gutplus-accordion");e&&0!==e.length&&e.forEach(e=>{try{!function(e){if(!e)return;const t=e;try{const i=t.querySelector(".accordion-title"),l=t.querySelector(".accordion-content");if(!i||!l)return;i.addEventListener("click",e=>{e.preventDefault();try{!function(e,t,i){e.classList.contains("is-open")?function(e,t,o){e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),n(t,!1),function(e,t){console.log("ğŸ”´ [CLOSE] Starting animation");const o=parseInt(getComputedStyle(e).getPropertyValue("--accordion-animation-duration")||"300");console.log("ğŸ”´ [CLOSE] Duration:",o+"ms");const n=e.scrollHeight;console.log("ğŸ”´ [CLOSE] Current scrollHeight:",n+"px"),e.style.overflow="hidden",e.style.height=`${n}px`,console.log("ğŸ”´ [CLOSE] Set explicit height:",n+"px"),e.offsetHeight,e.style.transition=`height ${o}ms ease-in-out, opacity ${o}ms ease-in-out`,console.log("ğŸ”´ [CLOSE] Transition set"),e.style.height="0",e.style.opacity="0",console.log("ğŸ”´ [CLOSE] Animation triggered to height: 0");const i=o=>{console.log("ğŸ”´ [CLOSE] transitionend fired for property:",o.propertyName),"height"===o.propertyName?(console.log("ğŸ”´ [CLOSE] Cleanup starting"),e.style.transition="",e.style.overflow="",e.removeEventListener("transitionend",i),e.removeEventListener("transitioncancel",i),console.log("ğŸ”´ [CLOSE] Cleanup complete, executing callback"),t&&t()):console.log("ğŸ”´ [CLOSE] Ignoring transitionend for",o.propertyName)};e.addEventListener("transitionend",i),e.addEventListener("transitioncancel",i)}(o,()=>{o.setAttribute("hidden",""),o.style.display="none"})}(e,t,i):o(e,t,i,!0)}(t,i,l)}catch(e){}}),i.addEventListener("keydown",t=>{try{!function(e,t,o){if(!e||!t||!o)return;const n=e.key;if("Enter"===n||" "===n)return e.preventDefault(),void t.click();const i=Array.from(o.querySelectorAll(".accordion-title"));if(!i||0===i.length)return;const l=i.indexOf(t);if(-1===l)return;let s=l;switch(n){case"ArrowDown":case"ArrowRight":e.preventDefault(),s=(l+1)%i.length;break;case"ArrowUp":case"ArrowLeft":e.preventDefault(),s=(l-1+i.length)%i.length;break;case"Home":e.preventDefault(),s=0;break;case"End":e.preventDefault(),s=i.length-1;break;default:return}s!==l&&s>=0&&s<i.length&&i[s]&&i[s].focus()}(t,i,e)}catch(e){}}),t.classList.contains("is-open")&&o(t,i,l,!1)}catch(e){}}(e)}catch(e){}})}function o(e,t,o,i){e.classList.add("is-open"),t.setAttribute("aria-expanded","true"),o.removeAttribute("hidden"),o.style.display="",n(t,!0),i?function(e){console.log("ğŸ”µ [OPEN] Starting animation");const t=parseInt(getComputedStyle(e).getPropertyValue("--accordion-animation-duration")||"300");console.log("ğŸ”µ [OPEN] Duration:",t+"ms"),e.style.cssText="",e.removeAttribute("hidden"),e.style.display="block",e.style.borderTop="1px solid transparent",e.style.overflow="hidden",console.log("ğŸ”µ [OPEN] Cleared all inline styles, set display=block, overflow=hidden, BFC border"),e.offsetHeight;const o={initialScrollHeight:e.scrollHeight,measurements:[],mutations:[],images:[],fonts:[]},n=e.querySelectorAll("img");console.log("ğŸ” [DIAGNOSTIC] Found",n.length,"images in panel"),n.forEach((t,n)=>{const i={index:n,src:t.src,complete:t.complete,naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight,width:t.width,height:t.height,hasExplicitDimensions:t.hasAttribute("width")&&t.hasAttribute("height")};o.images.push(i),console.log(`ğŸ” [DIAGNOSTIC] Image ${n}:`,i),t.complete||t.addEventListener("load",()=>{console.log("ğŸ–¼ï¸ [DIAGNOSTIC] Image",n,"loaded AFTER measurement!",t.src),console.log("ğŸ–¼ï¸ [DIAGNOSTIC] New scrollHeight:",e.scrollHeight)})});const i=new MutationObserver(t=>{t.forEach(t=>{const n={type:t.type,target:t.target.tagName,addedNodes:t.addedNodes.length,removedNodes:t.removedNodes.length,attributeName:t.attributeName,oldValue:t.oldValue};o.mutations.push(n),console.log("ğŸ§¬ [DIAGNOSTIC] DOM Mutation:",n),console.log("ğŸ§¬ [DIAGNOSTIC] New scrollHeight:",e.scrollHeight)})});if(i.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0}),document.fonts&&document.fonts.ready){const t=document.fonts.check("1em sans-serif",e.textContent);console.log("ğŸ”¤ [DIAGNOSTIC] Fonts ready:",t),document.fonts.ready.then(()=>{console.log("ğŸ”¤ [DIAGNOSTIC] All fonts loaded"),console.log("ğŸ”¤ [DIAGNOSTIC] New scrollHeight:",e.scrollHeight)})}[0,10,50,100,200,300].forEach(t=>{setTimeout(()=>{const n={time:t,scrollHeight:e.scrollHeight,offsetHeight:e.offsetHeight,clientHeight:e.clientHeight};o.measurements.push(n),console.log(`ğŸ“ [DIAGNOSTIC] Measurement at ${t}ms:`,n)},t)});let l=getComputedStyle(e);console.log("ğŸ”µ [OPEN] Computed height:",l.height),console.log("ğŸ”µ [OPEN] Computed padding:",l.paddingTop,l.paddingBottom),console.log("ğŸ”µ [OPEN] Computed font-family:",l.fontFamily),console.log("ğŸ”µ [OPEN] Computed line-height:",l.lineHeight),console.log("ğŸ”µ [OPEN] offsetHeight:",e.offsetHeight),console.log("ğŸ”µ [OPEN] scrollHeight:",e.scrollHeight),console.log("ğŸ”µ [OPEN] clientHeight:",e.clientHeight);const s=e.children;console.log("ğŸ” [DIAGNOSTIC] Panel has",s.length,"direct children");for(let e=0;e<s.length;e++){const t=s[e],o=getComputedStyle(t);console.log(`ğŸ” [DIAGNOSTIC] Child ${e} (${t.tagName}):`,{offsetHeight:t.offsetHeight,marginTop:o.marginTop,marginBottom:o.marginBottom,display:o.display})}const r=e.scrollHeight;console.log("ğŸ” [DIAGNOSTIC] Initial scrollHeight (margins may be collapsed):",r),e.style.height=r+"px",e.offsetHeight;const a=e.scrollHeight;console.log("ğŸ” [DIAGNOSTIC] Final scrollHeight with explicit height (margins NOT collapsed):",a);const c=l.borderTopWidth;console.log("ğŸ”µ [OPEN] Target height for animation:",a+"px","borderTopWidth:",c),e.style.height="0",e.style.opacity="0",console.log("ğŸ”µ [OPEN] Set initial state (height=0, opacity=0)"),e.offsetHeight,e.style.transition=`height ${t}ms ease-in-out, opacity ${t}ms ease-in-out`,console.log("ğŸ”µ [OPEN] Transition set"),e.style.height=`${a}px`,e.style.opacity="1",console.log("ğŸ”µ [OPEN] Animation triggered to height:",a+"px");const g=t=>{console.log("ğŸ”µ [OPEN] transitionend fired for property:",t.propertyName),"height"===t.propertyName?(console.log("ğŸ”µ [OPEN] Height before cleanup:",e.style.height),console.log("ğŸ”µ [OPEN] scrollHeight before cleanup:",e.scrollHeight),i.disconnect(),console.log("ğŸ“Š [DIAGNOSTIC SUMMARY]",o),console.log("ğŸ“Š [DIAGNOSTIC] Height changed by:",e.scrollHeight-o.initialScrollHeight,"px"),e.style.transition="",e.style.height="auto",e.style.overflow="",e.style.borderTop="",console.log("ğŸ”µ [OPEN] Cleanup complete. Final scrollHeight:",e.scrollHeight),e.removeEventListener("transitionend",g),e.removeEventListener("transitioncancel",g)):console.log("ğŸ”µ [OPEN] Ignoring transitionend for",t.propertyName)};e.addEventListener("transitionend",g),e.addEventListener("transitioncancel",g)}(o):(o.style.height="auto",o.style.opacity="1")}function n(e,t){const o=e.querySelector(".accordion-icon");if(!o)return;const n=o.getAttribute("data-icon-closed")||"â–¾",i=o.getAttribute("data-icon-open")||"none",l=(parseInt(getComputedStyle(o).getPropertyValue("--accordion-animation-duration")||"300"),o.classList.contains("accordion-icon-image")),s=t?i:n,r=l?o.src:o.textContent;"none"!==s&&r!==s&&(l?o.src=s:o.textContent=s),t?o.classList.add("is-rotated"):o.classList.remove("is-rotated")}e.d=(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),document.addEventListener("DOMContentLoaded",()=>{try{t()}catch(e){}}),window.reinitializeAccordions=t})();