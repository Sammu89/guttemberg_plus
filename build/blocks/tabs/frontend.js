(()=>{"use strict";var e={};function t(e){return"vertical-left"===e||"vertical-right"===e}function r(){const e=document.querySelectorAll(".gutplus-tabs");e&&0!==e.length&&e.forEach(e=>{try{!function(e){if(!e)return void console.warn("Tabs block is null, skipping");const r=e.getAttribute("data-orientation")||"horizontal",i="hover"===(e.getAttribute("data-activation-mode")||"click")?"hover":"click",a="true"===e.getAttribute("data-responsive-fallback"),s=e.querySelector(".tabs-list"),l=e.querySelectorAll(".tab-panel");if(!s||0===l.length)return void console.warn("Tabs block structure incomplete (missing tabList or panels), skipping");const c=s.querySelectorAll(".tab-button");if(!c||0===c.length)return void console.warn("No tab buttons found, skipping");const d=parseInt(s.getAttribute("data-current-tab")||"0",10);if(l.forEach((e,t)=>{t===d?(e.removeAttribute("hidden"),e.classList.add("active"),e.setAttribute("tabindex","0")):(e.setAttribute("hidden",""),e.classList.remove("active"),e.setAttribute("tabindex","-1"))}),c.forEach((e,t)=>{const r=t===d;r?(e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),e.classList.add("active")):(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),e.classList.remove("active")),o(e,r)}),c.forEach((o,a)=>{try{o.addEventListener("click",t=>{if(t.preventDefault(),!o.disabled&&"true"!==o.getAttribute("aria-selected"))try{n(e,a)}catch(e){console.error("Failed to activate tab:",e)}}),o.addEventListener("keydown",a=>{try{!function(e,r,o,i,a,s){if(!(e&&r&&o&&s))return;const l=e.key,c=Array.from(o).filter(e=>!e.disabled);if(!c||0===c.length)return;const d=c.indexOf(r);if(-1===d)return void console.warn("Current button not found in buttons array");let u=d,b=!1;switch(l){case"ArrowRight":"horizontal"===i&&(e.preventDefault(),u=(d+1)%c.length,b="hover"===a);break;case"ArrowLeft":"horizontal"===i&&(e.preventDefault(),u=(d-1+c.length)%c.length,b="hover"===a);break;case"ArrowDown":t(i)&&(e.preventDefault(),u=(d+1)%c.length,b="hover"===a);break;case"ArrowUp":t(i)&&(e.preventDefault(),u=(d-1+c.length)%c.length,b="hover"===a);break;case"Home":e.preventDefault(),u=0,b="hover"===a;break;case"End":e.preventDefault(),u=c.length-1,b="hover"===a;break;case"Enter":case" ":return void("click"===a&&(e.preventDefault(),n(s,Array.from(o).indexOf(r))));default:return}if(u!==d&&u>=0&&u<c.length&&c[u]&&(c[u].focus(),b)){const e=Array.from(o),t=e.indexOf(c[u]);-1!==t&&t<e.length&&n(s,t)}}(a,o,c,r,i,e)}catch(e){console.error("Keyboard navigation failed:",e)}}),"hover"===i&&o.addEventListener("focus",()=>{if(!o.disabled&&"true"!==o.getAttribute("aria-selected"))try{n(e,a)}catch(e){console.error("Failed to activate tab on focus:",e)}}),"hover"===i&&o.addEventListener("mouseenter",()=>{if(!o.disabled&&"true"!==o.getAttribute("aria-selected"))try{n(e,a)}catch(e){console.error("Failed to activate tab on hover:",e)}})}catch(e){console.error("Failed to initialize tab button:",e)}}),a)try{!function(e){if(!e)return;const t=e.querySelector(".accordion-fallback");if(!t)return;const r=t.querySelectorAll(".accordion-button");r&&0!==r.length&&r.forEach(e=>{e&&e.addEventListener("click",t=>{t.preventDefault();const r=e.nextElementSibling;if(!r)return void console.warn("Accordion panel not found");const n="true"===e.getAttribute("aria-expanded");try{n?(e.setAttribute("aria-expanded","false"),r.setAttribute("hidden",""),function(e){const t=parseInt(getComputedStyle(e).getPropertyValue("--accordion-animation-duration")||"300"),r=e.scrollHeight;e.style.overflow="hidden",e.style.height=`${r}px`,e.offsetHeight,e.style.transition=`height ${t}ms ease-in-out, opacity ${t}ms ease-in-out`,e.style.height="0",e.style.opacity="0";const n=()=>{e.style.transition="",e.style.overflow="",e.style.opacity="",e.style.height="",e.style.display="none",e.removeEventListener("transitionend",n),e.removeEventListener("transitioncancel",n)};e.addEventListener("transitionend",n,{once:!0}),e.addEventListener("transitioncancel",n,{once:!0})}(r)):(e.setAttribute("aria-expanded","true"),r.removeAttribute("hidden"),function(e){const t=parseInt(getComputedStyle(e).getPropertyValue("--accordion-animation-duration")||"300");e.style.display="block",e.style.overflow="visible",e.style.height="auto",e.style.opacity="1",e.offsetHeight;const r=e.scrollHeight;e.style.height="0",e.style.opacity="0",e.style.overflow="hidden",e.offsetHeight,e.style.transition=`height ${t}ms ease-in-out, opacity ${t}ms ease-in-out`,e.style.height=`${r}px`,e.style.opacity="1";const n=()=>{e.style.height="auto",e.style.overflow="",e.style.transition="",e.removeEventListener("transitionend",n),e.removeEventListener("transitioncancel",n)};e.addEventListener("transitionend",n,{once:!0}),e.addEventListener("transitioncancel",n,{once:!0})}(r))}catch(e){console.error("Failed to toggle accordion:",e)}})})}(e)}catch(e){console.error("Failed to initialize responsive accordion:",e)}}(e)}catch(e){console.error("Failed to initialize tabs block:",e)}})}function n(e,t){if(!e)return void console.warn("Block is null in activateTab");const r=e.querySelectorAll(".tab-button"),n=e.querySelectorAll(".tab-panel");r&&n?t<0||t>=r.length||!r[t]||!n[t]?console.warn("Invalid tab index or missing tab elements"):(r.forEach((e,t)=>{e&&(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),e.classList.remove("active"),o(e,!1)),n[t]&&(n[t].setAttribute("hidden",""),n[t].classList.remove("active"))}),r[t].setAttribute("aria-selected","true"),r[t].setAttribute("tabindex","0"),r[t].classList.add("active"),o(r[t],!0),n[t]&&(n[t].removeAttribute("hidden"),n[t].style.display="",n[t].classList.add("active"))):console.warn("Tab buttons or panels not found")}function o(e,t){const r=e.querySelector(".tab-icon");if(!r)return;const n=r.getAttribute("data-icon-closed")||"â–¾",o=r.getAttribute("data-icon-open")||"none",i=r.classList.contains("tab-icon-image"),a=t?o:n,s=i?r.src:r.textContent;"none"!==a&&s!==a&&(i?r.src=a:r.textContent=a),t?r.classList.add("is-rotated"):r.classList.remove("is-rotated")}function i(){const e=document.querySelectorAll(".gutplus-tabs.responsive-accordion");e&&0!==e.length&&e.forEach(e=>{try{if(!e)return;const t=parseInt(e.getAttribute("data-breakpoint")||"768",10),r=window.innerWidth<t,n=e.querySelector(".tabs-list"),o=e.querySelector(".tabs-panels"),i=e.querySelector(".accordion-fallback");if(!n||!o||!i)return;if(r){n.style.display="none",o.style.display="none",i.style.display="block";const t=Array.from(e.querySelectorAll(".tab-button")).findIndex(e=>"true"===e.getAttribute("aria-selected")),r=i.querySelectorAll(".accordion-item");r&&r.length>0&&r.forEach((e,r)=>{if(!e)return;const n=e.querySelector(".accordion-button"),o=e.querySelector(".accordion-panel");n&&o&&(r===t?(n.setAttribute("aria-expanded","true"),o.removeAttribute("hidden")):(n.setAttribute("aria-expanded","false"),o.setAttribute("hidden","")))})}else n.style.display="",o.style.display="",i.style.display="none"}catch(e){console.error("Failed to handle responsive mode for block:",e)}})}e.d=(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),document.addEventListener("DOMContentLoaded",()=>{try{r(),i()}catch(e){console.error("Tabs block initialization failed:",e)}}),window.addEventListener("resize",()=>{try{i()}catch(e){console.error("Failed to handle responsive mode:",e)}}),window.reinitializeTabs=r})();