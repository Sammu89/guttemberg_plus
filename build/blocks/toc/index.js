(()=>{"use strict";var e={47:(e,t,l)=>{},87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},235:(e,t,l)=>{},313:(e,t,l)=>{},427:e=>{e.exports=window.wp.components},569:(e,t,l)=>{l.d(t,{$0:()=>A,SP:()=>D,iz:()=>O,EF:()=>s,jQ:()=>L,i5:()=>F,Yz:()=>w.Yz,Ij:()=>x,lS:()=>o.lS});var o=l(767);const n={color:"#000000",backgroundColor:"#ffffff",borderColor:"#dddddd",fontSize:16,padding:16,margin:8,borderWidth:1,borderRadius:4,fontWeight:"400",fontStyle:"normal",textAlign:"left",textTransform:"none",textDecoration:"none",borderStyle:"solid",boolean:!1,paddingObject:{top:16,right:16,bottom:16,left:16},borderRadiusObject:{topLeft:4,topRight:4,bottomLeft:4,bottomRight:4}};var a=l(143);const r=window.wp.apiFetch;var i=l.n(r);const s="gutenberg-blocks/themes",c={accordionThemes:{},tabsThemes:{},tocThemes:{},themesLoaded:{accordion:!1,tabs:!1,toc:!1},isLoading:!1,error:null},u="SET_THEMES",d="SET_LOADING",m="SET_ERROR",p="THEME_CREATED",h="THEME_UPDATED",b="THEME_DELETED",g="THEME_RENAMED";function v(e){return`${e}Themes`}const f={*loadThemes(e){yield f.setLoading(!0),yield f.setError(null);try{const t=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}`,method:"GET"}};return{type:u,blockType:e,themes:t}}catch(e){return yield f.setError(e.message),{type:"LOAD_THEMES_ERROR"}}finally{yield f.setLoading(!1)}},*createTheme(e,t,l){yield f.setLoading(!0),yield f.setError(null);try{const o=yield{type:"API_FETCH",request:{path:"/gutenberg-blocks/v1/themes",method:"POST",data:{blockType:e,name:t,values:l}}};return{type:p,blockType:e,theme:o}}catch(e){throw yield f.setError(e.message),e}finally{yield f.setLoading(!1)}},*updateTheme(e,t,l){yield f.setLoading(!0),yield f.setError(null);try{const o=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"PUT",data:{values:l}}};return{type:h,blockType:e,theme:o}}catch(e){throw yield f.setError(e.message),e}finally{yield f.setLoading(!1)}},*deleteTheme(e,t){yield f.setLoading(!0),yield f.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"DELETE"}},{type:b,blockType:e,themeName:t}}catch(e){throw yield f.setError(e.message),e}finally{yield f.setLoading(!1)}},*renameTheme(e,t,l){yield f.setLoading(!0),yield f.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}/rename`,method:"POST",data:{newName:l}}},{type:g,blockType:e,oldName:t,newName:l}}catch(e){throw yield f.setError(e.message),e}finally{yield f.setLoading(!1)}},setLoading:e=>({type:d,isLoading:e}),setError:e=>({type:m,error:e})},y={getThemes:(e,t)=>e[v(t)]||{},getTheme:(e,t,l)=>y.getThemes(e,t)[l]||null,hasTheme:(e,t,l)=>null!==y.getTheme(e,t,l),isLoading:e=>e.isLoading,getError:e=>e.error,areThemesLoaded:(e,t)=>e.themesLoaded?.[t]||!1,getThemeNames(e,t){const l=y.getThemes(e,t);return Object.keys(l)}},C={API_FETCH:({request:e})=>i()(e)},T=(0,a.createReduxStore)(s,{reducer:(e=c,t)=>{switch(t.type){case u:{const l=v(t.blockType);return{...e,[l]:t.themes,themesLoaded:{...e.themesLoaded,[t.blockType]:!0}}}case d:return{...e,isLoading:t.isLoading};case m:return{...e,error:t.error};case p:{const l=v(t.blockType);return t.theme&&t.theme.name?{...e,[l]:{...e[l],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_CREATED: Invalid theme object",t),e)}case h:{const l=v(t.blockType);return t.theme&&t.theme.name?{...e,[l]:{...e[l],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_UPDATED: Invalid theme object",t),e)}case b:{const l=v(t.blockType),o={...e[l]};return delete o[t.themeName],{...e,[l]:o}}case g:{const l=v(t.blockType),o={...e[l]},n=o[t.oldName];return delete o[t.oldName],o[t.newName]={...n,name:t.newName},{...e,[l]:o}}default:return e}},actions:f,selectors:y,controls:C});try{(0,a.register)(T)}catch(e){if(!e.message||!e.message.includes("already registered"))throw console.error("[Theme Store] Unexpected registration error:",e),e}l(919),l(235),l(726),l(313),l(47),l(715);const E="0123456789abcdefghijklmnopqrstuvwxyz",S=new Set;function x(e="block"){if("string"!=typeof e||0===e.length)throw new Error("Prefix must be a non-empty string.");let t,l=0;do{let o="";for(let e=0;e<4;e++){const e=Math.floor(Math.random()*E.length);o+=E[e]}if(t=`${e}-${o}`,l++,l>=1e3)throw new Error("Failed to generate unique ID after 1000 attempts.")}while(S.has(t));return S.add(t),t}var w=l(631),k=l(609),B=l(427),N=l(87);function L({blockType:e,currentTheme:t,setAttributes:l,isCustomized:o,themes:n={},themesLoaded:a=!1,attributes:r={},effectiveValues:i={},onChange:s,onSaveNew:c,onUpdate:u,onDelete:d,onRename:m,onReset:p}){(0,w.Yz)("[DEBUG] ThemeSelector props received:"),(0,w.Yz)("  blockType:",e),(0,w.Yz)("  currentTheme:",t),(0,w.Yz)("  themes:",n),(0,w.Yz)("  onSaveNew type:",typeof c),(0,w.Yz)("  onUpdate type:",typeof u),(0,w.Yz)("  onDelete type:",typeof d),(0,w.Yz)("  onRename type:",typeof m),(0,w.Yz)("  onReset type:",typeof p);const[h,b]=(0,N.useState)(!1),[g,v]=(0,N.useState)(!1),[f,y]=(0,N.useState)(""),C=Object.keys(n||{}).map(e=>({label:e,value:e}));C.find(e=>""===e.value)||C.unshift({label:"Default",value:""});const T=""===t?"Default":t,E=o?`${T} (customized)`:T;return(0,k.createElement)("div",{className:"theme-selector"},(0,k.createElement)(B.SelectControl,{label:"Theme",value:t,options:C,onChange:e=>{l?l({currentTheme:e}):s&&s(e)},help:E}),(0,k.createElement)("div",{className:"theme-actions"},(0,k.createElement)(B.Button,{variant:"secondary",onClick:()=>b(!0),disabled:!o},"Save as New Theme"),(0,k.createElement)(B.Button,{variant:"secondary",onClick:u,disabled:!o||""===t},"Update Theme"),(0,k.createElement)(B.Button,{variant:"secondary",onClick:()=>v(!0),disabled:""===t},"Rename Theme"),(0,k.createElement)(B.Button,{variant:"secondary",onClick:d,disabled:""===t,isDestructive:!0},"Delete Theme"),(0,k.createElement)(B.Button,{variant:"tertiary",onClick:p,disabled:!o},"Reset Modifications")),h&&(0,k.createElement)(B.Modal,{title:"Create New Theme",onRequestClose:()=>b(!1)},(0,k.createElement)(B.TextControl,{label:"Theme Name",value:f,onChange:y,placeholder:"Enter theme name"}),(0,k.createElement)(B.Button,{variant:"primary",onClick:()=>{c(f),b(!1),y("")}},"Create Theme")),g&&(0,k.createElement)(B.Modal,{title:"Rename Theme",onRequestClose:()=>v(!1)},(0,k.createElement)(B.TextControl,{label:"New Theme Name",value:f,onChange:y,placeholder:t}),(0,k.createElement)(B.Button,{variant:"primary",onClick:()=>{m(t,f),v(!1),y("")}},"Rename")))}function z({label:e,value:t,onChange:l,disableAlpha:o=!1,help:n=""}){const[a,r]=(0,N.useState)(!1),[i,s]=(0,N.useState)(t),[c,u]=(0,N.useState)(t);(0,N.useEffect)(()=>{!a&&t&&(s(t),u(t))},[t,a]);const d=e=>{let l;l="string"==typeof e?e:e.hex?e.hex:"hex"===e.source?"#"+e.hex:t,s(l)},m=()=>{s(c),r(!1)},p=i;return(0,k.createElement)(B.BaseControl,{label:e,help:n,className:"compact-color-control"},(0,k.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"}},(0,k.createElement)("div",{style:{width:"32px",height:"32px",backgroundColor:p,border:"1px solid #ddd",borderRadius:"4px",flexShrink:0}}),(0,k.createElement)("div",{style:{flex:1}},(0,k.createElement)(B.TextControl,{value:p||"",onChange:e=>{l(e),s(e)},placeholder:"Color value",style:{marginBottom:0}})),(0,k.createElement)(B.Button,{variant:"secondary",onClick:()=>{u(t),s(t),r(!0)},"aria-expanded":a},"Choose color")),a&&(0,k.createElement)(B.Popover,{position:"bottom right",onClose:m,focusOnMount:!1,noArrow:!1},(0,k.createElement)("div",{style:{padding:"16px"}},(0,k.createElement)(B.ColorPicker,{color:i,onChange:d,onChangeComplete:d,disableAlpha:o,enableAlpha:!o}),(0,k.createElement)("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",gap:"8px",borderTop:"1px solid #ddd",paddingTop:"12px"}},(0,k.createElement)(B.Button,{variant:"tertiary",onClick:m},"Cancel"),(0,k.createElement)(B.Button,{variant:"primary",onClick:()=>{l(i),r(!1)}},"OK")))))}function D({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:a,theme:r,cssDefaults:i={},onChangeColor:s,initialOpen:c=!1}){const u=({label:a,attrName:c})=>{const u=(e=>(0,o.MI)(e,t,r,i))(c)?`${a} (Customized)`:a,d=function(e,t,l=null){return null!=e?e:function(e,t=null){const l=t||function(e){const t=e.toLowerCase();return t.includes("color")||t.includes("colour")?"color":t.includes("size")||t.includes("width")||t.includes("height")||t.includes("thickness")||"iconrotation"===t?"number":t.includes("padding")||t.includes("margin")||t.includes("radius")?"object":t.startsWith("show")||t.startsWith("enable")||t.startsWith("disable")||t.startsWith("is")||t.startsWith("allow")?"boolean":"string"}(e);switch(l){case"color":return e.includes("Background")||e.includes("Bg")?n.backgroundColor:e.includes("Border")?n.borderColor:n.color;case"number":return e.includes("FontSize")||e.includes("Size")?n.fontSize:e.includes("Padding")?n.padding:e.includes("Margin")?n.margin:e.includes("BorderWidth")||e.includes("Thickness")?n.borderWidth:e.includes("Radius")?n.borderRadius:0;case"boolean":return n.boolean;case"object":return e.includes("Padding")||e.includes("Margin")?n.paddingObject:e.includes("Radius")?n.borderRadiusObject:{};default:return e.includes("FontWeight")?n.fontWeight:e.includes("FontStyle")?n.fontStyle:e.includes("Alignment")||e.includes("Align")?n.textAlign:e.includes("Transform")?n.textTransform:e.includes("Decoration")?n.textDecoration:e.includes("BorderStyle")?n.borderStyle:""}}(t,l)}(e[c],c,"color");return(0,k.createElement)(z,{label:u,value:d,onChange:e=>((e,t)=>{l?l({[e]:t}):s&&s(e,t)})(c,e),disableAlpha:!1})};return(0,k.createElement)(B.PanelBody,{title:"Appearance",initialOpen:c},(0,k.createElement)(u,{label:"Header Background Color",attrName:"titleBackgroundColor"}),(0,k.createElement)(u,{label:"Title Text Color",attrName:"titleColor"}),(0,k.createElement)(u,{label:"Hover Header Background",attrName:"hoverTitleBackgroundColor"}),(0,k.createElement)(u,{label:"Hover Title Text",attrName:"hoverTitleColor"}),(0,k.createElement)(u,{label:"Active Header Background",attrName:"activeTitleBackgroundColor"}),(0,k.createElement)(u,{label:"Active Title Text",attrName:"activeTitleColor"}),(0,k.createElement)(u,{label:"Content Background Color",attrName:"contentBackgroundColor"}))}function F({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:n,theme:a,cssDefaults:r={},onChange:i,initialOpen:s=!1}){const c=(e,t)=>{l?l({[e]:t}):i&&i(e,t)},u=({label:e,attrName:l})=>(0,k.createElement)("span",null,e,(e=>(0,o.MI)(e,t,a,r))(l)&&(0,k.createElement)("span",{className:"customization-badge"}," (Customized)"));return(0,k.createElement)(B.PanelBody,{title:"Title",initialOpen:s},(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(u,{label:"Heading Level",attrName:"headingLevel"}),value:e.headingLevel||"none",options:[{label:"None",value:"none"},{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:e=>c("headingLevel",e)}),(0,k.createElement)(B.RangeControl,{label:(0,k.createElement)(u,{label:"Font Size",attrName:"titleFontSize"}),value:e.titleFontSize||16,onChange:e=>c("titleFontSize",e),min:12,max:48}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(u,{label:"Font Weight",attrName:"titleFontWeight"}),value:e.titleFontWeight||"600",options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"},{label:"100",value:"100"},{label:"200",value:"200"},{label:"300",value:"300"},{label:"400",value:"400"},{label:"500",value:"500"},{label:"600",value:"600"},{label:"700",value:"700"},{label:"800",value:"800"},{label:"900",value:"900"}],onChange:e=>c("titleFontWeight",e)}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(u,{label:"Font Style",attrName:"titleFontStyle"}),value:e.titleFontStyle||"normal",options:[{label:"Normal",value:"normal"},{label:"Italic",value:"italic"},{label:"Oblique",value:"oblique"}],onChange:e=>c("titleFontStyle",e)}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(u,{label:"Text Transform",attrName:"titleTextTransform"}),value:e.titleTextTransform||"none",options:[{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>c("titleTextTransform",e)}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(u,{label:"Text Decoration",attrName:"titleTextDecoration"}),value:e.titleTextDecoration||"none",options:[{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>c("titleTextDecoration",e)}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(u,{label:"Text Alignment",attrName:"titleAlignment"}),value:e.titleAlignment||"left",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>c("titleAlignment",e)}))}function A({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:n,theme:a,cssDefaults:r={},onChange:i,initialOpen:s=!1}){const c=(e,t)=>{l?l({[e]:t}):i&&i(e,t)},u=e=>(0,o.MI)(e,t,a,r),d=({label:e,attrName:t})=>(0,k.createElement)("span",null,e,u(t)&&(0,k.createElement)("span",{className:"customization-badge"}," (Customized)"));return(0,k.createElement)(B.PanelBody,{title:"Border",initialOpen:s},(0,k.createElement)("h3",null,"Accordion Border"),(0,k.createElement)(z,{label:u("accordionBorderColor")?"Color (Customized)":"Color",value:e.accordionBorderColor,onChange:e=>c("accordionBorderColor",e)}),(0,k.createElement)(B.RangeControl,{label:(0,k.createElement)(d,{label:"Thickness (px)",attrName:"accordionBorderThickness"}),value:e.accordionBorderThickness||1,onChange:e=>c("accordionBorderThickness",e),min:0,max:10}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(d,{label:"Style",attrName:"accordionBorderStyle"}),value:e.accordionBorderStyle||"solid",options:[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],onChange:e=>c("accordionBorderStyle",e)}),(0,k.createElement)(B.TextControl,{label:(0,k.createElement)(d,{label:"Shadow",attrName:"accordionShadow"}),value:e.accordionShadow||"none",onChange:e=>c("accordionShadow",e),help:"CSS box-shadow value (e.g. '0 2px 4px rgba(0,0,0,0.1)')"}),(0,k.createElement)("hr",null),(0,k.createElement)("h3",null,"Divider Border"),(0,k.createElement)(z,{label:u("dividerBorderColor")?"Color (Customized)":"Color",value:e.dividerBorderColor,onChange:e=>c("dividerBorderColor",e)}),(0,k.createElement)(B.RangeControl,{label:(0,k.createElement)(d,{label:"Thickness (px)",attrName:"dividerBorderThickness"}),value:e.dividerBorderThickness||0,onChange:e=>c("dividerBorderThickness",e),min:0,max:10}),(0,k.createElement)(B.SelectControl,{label:(0,k.createElement)(d,{label:"Style",attrName:"dividerBorderStyle"}),value:e.dividerBorderStyle||"solid",options:[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],onChange:e=>c("dividerBorderStyle",e)}))}function O({currentTheme:e,themes:t={}}){const l=t&&t[e]?t[e]:null;(0,w.Yz)("[DEBUG] CustomizationWarning - currentTheme:",e),(0,w.Yz)("[DEBUG] CustomizationWarning - themes:",t),(0,w.Yz)("[DEBUG] CustomizationWarning - theme object:",l),(0,w.Yz)("[DEBUG] CustomizationWarning - theme?.name:",l?.name);const o=l?.name||e||"Default";return(0,w.Yz)("[DEBUG] CustomizationWarning - final themeName:",o),(0,k.createElement)(B.Notice,{status:"warning",isDismissible:!1},(0,k.createElement)("p",null,(0,k.createElement)("strong",null,"Notice:")," This block has customizations applied."),(0,k.createElement)("p",null,'You are currently using the "',o,'" theme with custom modifications. These customizations take precedence over the theme defaults.'),(0,k.createElement)("p",null,'To save your customizations permanently, use the "Save as New Theme" or "Update Theme" buttons. To remove customizations and revert to the theme defaults, use the "Reset Modifications" button.'))}},609:e=>{e.exports=window.React},631:(e,t,l)=>{l.d(t,{Yz:()=>n});const o=()=>"undefined"!=typeof window&&!0===window.WP_DEBUG;function n(...e){o()&&console.log(...e)}},715:(e,t,l)=>{l.d(t,{B:()=>o});const o={currentTheme:{type:"string",default:""},customizations:{type:"object",default:{}},customizationCache:{type:"object",default:{}},uniqueId:{type:"string",default:""},blockId:{type:"string",default:""},accordionId:{type:"string",default:""},initiallyOpen:{type:"boolean",default:!1},headingLevel:{type:"string",default:"none"},useHeadingStyles:{type:"boolean",default:!1},title:{type:"string",default:"Accordion Title"},content:{type:"string",default:""}}},726:(e,t,l)=>{},767:(e,t,l)=>{function o(e){return null!=e}function n(e,t,l,n){return t&&o(t[e])?t[e]:l&&o(l[e])?l[e]:n&&o(n[e])?n[e]:null}function a(e,t,l){const o=new Set;e&&"object"==typeof e&&Object.keys(e).forEach(e=>o.add(e)),t&&"object"==typeof t&&Object.keys(t).forEach(e=>o.add(e)),l&&"object"==typeof l&&Object.keys(l).forEach(e=>o.add(e));const a={};for(const r of o)a[r]=n(r,e,t,l);return a}function r(e,t,l,n){if(!t||!o(t[e]))return!1;const a=t[e];return l&&o(l[e])?"object"==typeof a&&null!==a?JSON.stringify(a)!==JSON.stringify(l[e]):a!==l[e]:!n||!o(n[e])||("object"==typeof a&&null!==a?JSON.stringify(a)!==JSON.stringify(n[e]):a!==n[e])}l.d(t,{MI:()=>r,lS:()=>a})},919:(e,t,l)=>{}},t={};function l(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const o=window.wp.blocks,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom/toc","title":"Table of Contents","category":"design","icon":"list-view","description":"Automatically generates a navigable table of contents from post headings.","keywords":["toc","table of contents","navigation","headings"],"supports":{"html":false,"multiple":true},"textdomain":"gutenberg-blocks","editorScript":"file:./build/index.js"}');var a=l(609),r=l(87),i=l(143);const s=window.wp.blockEditor;var c=l(427),u=l(569);function d(e){const t={};return e.wrapperBackgroundColor&&(t["--custom-wrapper-background-color"]=e.wrapperBackgroundColor),e.wrapperBorderColor&&(t["--custom-wrapper-border-color"]=e.wrapperBorderColor),e.linkColor&&(t["--custom-link-color"]=e.linkColor),e.linkHoverColor&&(t["--custom-link-hover-color"]=e.linkHoverColor),e.wrapperBorderWidth&&(t["--custom-border-width"]=`${e.wrapperBorderWidth}px`),e.wrapperBorderStyle&&(t["--custom-border-style"]=e.wrapperBorderStyle),e.wrapperBorderRadius&&(t["--custom-border-radius"]=`${e.wrapperBorderRadius}px`),e.wrapperPadding&&(t["--custom-wrapper-padding"]=`${e.wrapperPadding}px`),e.wrapperShadow&&(t["--custom-wrapper-shadow"]=e.wrapperShadow),t}var m=l(767);l(919),l(235),l(726),l(313),l(47);const p={tocId:{type:"string",default:""},showTitle:{type:"boolean",default:!0},titleText:{type:"string",default:"Table of Contents"},...l(715).B,filterMode:{type:"string",default:"include-all"},includeLevels:{type:"array",default:[2,3,4,5,6]},includeClasses:{type:"string",default:""},excludeLevels:{type:"array",default:[]},excludeClasses:{type:"string",default:""},depthLimit:{type:"number",default:null},numberingStyle:{type:"string",default:"none"},numberingColor:{type:"string",default:null},isCollapsible:{type:"boolean",default:!1},initiallyCollapsed:{type:"boolean",default:!1},collapseIconSize:{type:"number",default:null},collapseIconColor:{type:"string",default:null},level1FontSize:{type:"number",default:null},level1FontWeight:{type:"string",default:null},level1FontStyle:{type:"string",default:null},level1TextTransform:{type:"string",default:null},level1TextDecoration:{type:"string",default:null},level1Color:{type:"string",default:null},level2FontSize:{type:"number",default:null},level2FontWeight:{type:"string",default:null},level2FontStyle:{type:"string",default:null},level2TextTransform:{type:"string",default:null},level2TextDecoration:{type:"string",default:null},level2Color:{type:"string",default:null},level3PlusFontSize:{type:"number",default:null},level3PlusFontWeight:{type:"string",default:null},level3PlusFontStyle:{type:"string",default:null},level3PlusTextTransform:{type:"string",default:null},level3PlusTextDecoration:{type:"string",default:null},level3PlusColor:{type:"string",default:null},titleFontSize:{type:"number",default:null},titleFontWeight:{type:"string",default:null},titleColor:{type:"string",default:null},titleTextTransform:{type:"string",default:null},titleAlignment:{type:"string",default:null},titleBackgroundColor:{type:"string",default:null},wrapperBackgroundColor:{type:"string",default:null},wrapperBorderColor:{type:"string",default:null},linkColor:{type:"string",default:null},linkHoverColor:{type:"string",default:null},linkActiveColor:{type:"string",default:null},linkVisitedColor:{type:"string",default:null},wrapperBorderWidth:{type:"number",default:null},wrapperBorderStyle:{type:"string",default:null},wrapperBorderRadius:{type:"number",default:null},wrapperShadow:{type:"string",default:null},wrapperPadding:{type:"number",default:null},listPaddingLeft:{type:"number",default:null},itemSpacing:{type:"number",default:null},levelIndent:{type:"number",default:null},positionType:{type:"string",default:"block"},positionTop:{type:"number",default:null},zIndex:{type:"number",default:null},smoothScroll:{type:"boolean",default:!0},scrollOffset:{type:"number",default:0},autoHighlight:{type:"boolean",default:!0},clickBehavior:{type:"string",default:"navigate"}};function h(){const e=document.querySelectorAll(".wp-block-custom-toc");e&&0!==e.length&&e.forEach(e=>{try{if(!e)return;const t=e.getAttribute("data-toc-id");if(!t)return void console.warn("TOC block missing data-toc-id attribute, skipping");const l={tocId:t,filterMode:e.getAttribute("data-filter-mode")||"include-all",includeLevels:(e.getAttribute("data-include-levels")||"2,3,4,5,6").split(",").map(Number),includeClasses:e.getAttribute("data-include-classes")||"",excludeLevels:(e.getAttribute("data-exclude-levels")||"").split(",").map(Number).filter(Boolean),excludeClasses:e.getAttribute("data-exclude-classes")||"",depthLimit:parseInt(e.getAttribute("data-depth-limit")||"0",10)||null,numberingStyle:e.getAttribute("data-numbering-style")||"none",smoothScroll:"true"===e.getAttribute("data-smooth-scroll"),scrollOffset:parseInt(e.getAttribute("data-scroll-offset")||"0",10),autoHighlight:"true"===e.getAttribute("data-auto-highlight"),isCollapsible:"true"===e.getAttribute("data-collapsible"),initiallyCollapsed:"true"===e.getAttribute("data-initially-collapsed"),clickBehavior:e.getAttribute("data-click-behavior")||"navigate"};!function(e,t){if(e&&t)try{const l=function(e,t){const l=document.querySelector(".entry-content, main, article, body");if(!l)return[];const o=l.querySelectorAll("h2, h3, h4, h5, h6"),n=[];if(o.forEach(e=>{if(e.closest(".wp-block-custom-toc"))return;const l=parseInt(e.tagName.charAt(1),10),o=e.textContent.trim(),a=e.id||"",r=Array.from(e.classList);(function(e,t){const{filterMode:l,includeLevels:o,includeClasses:n,excludeLevels:a,excludeClasses:r}=t;if("include-only"===l){const t=o.includes(e.level),l=!!n&&n.split(",").some(t=>e.classes.includes(t.trim()));return t||l}return"exclude"!==l||!a.includes(e.level)&&(!r||!r.split(",").some(t=>e.classes.includes(t.trim())))})({level:l,classes:r},t)&&n.push({level:l,text:o,id:a,classes:r,element:e})}),t.depthLimit){const e=Math.min(...n.map(e=>e.level));return n.filter(l=>l.level-e<t.depthLimit)}return n}(0,t);if(!l)return void console.warn("Failed to detect headings");l.forEach((e,l)=>{try{e&&e.element&&!e.element.id&&(e.element.id=`heading-${t.tocId}-${l}`,e.id=e.element.id)}catch(e){console.error("Failed to add ID to heading:",e)}});const o=e.querySelector(".toc-list");if(o)try{!function(e,t){if(e.innerHTML="",0===t.length)return void(e.innerHTML='<li class="toc-empty">No headings found.</li>');const l=document.createDocumentFragment();t.forEach(e=>{const t=document.createElement("li");t.className=`toc-item toc-item-level-${e.level}`;const o=document.createElement("a");o.href=`#${e.id}`,o.className="toc-link",o.textContent=e.text,o.setAttribute("data-heading-id",e.id),t.appendChild(o),l.appendChild(t)}),e.appendChild(l)}(o,l)}catch(e){console.error("Failed to render TOC list:",e)}if(t.smoothScroll)try{!function(e,t){if(!e||!t)return;const l=e.querySelectorAll(".toc-link");l&&0!==l.length&&l.forEach(l=>{l&&l.addEventListener("click",o=>{try{o.preventDefault();const n=l.getAttribute("href");if(!n||n.length<=1)return void console.warn("Invalid TOC link href");const a=n.slice(1),r=document.getElementById(a);if(!r)return void console.warn("TOC target element not found:",a);const i=r.getBoundingClientRect().top+window.pageYOffset-t.scrollOffset;window.scrollTo({top:i,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${a}`):window.location.hash=a,r.focus({preventScroll:!0}),"navigate-and-collapse"===t.clickBehavior&&t.isCollapsible&&setTimeout(()=>{try{const t=e.querySelector(".toc-toggle-button"),l=e.querySelector(".toc-content"),o=e.querySelector(".toc-collapse-icon");t&&l&&(l.style.display="none",t.setAttribute("aria-expanded","false"),o&&(o.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to collapse TOC:",e)}},600)}catch(e){console.error("Failed to handle smooth scroll:",e)}})})}(e,t)}catch(e){console.error("Failed to setup smooth scroll:",e)}if(t.autoHighlight)try{!function(e,t){if(!e||!t||0===t.length)return;const l=e.querySelectorAll(".toc-link");if(!l||0===l.length)return;const o=t.map(e=>e.element).filter(e=>e);if(0===o.length)return;const n=()=>{l.forEach(e=>{e&&e.classList.remove("active")})};let a=!1;const r=()=>{a||(window.requestAnimationFrame(()=>{try{const t=window.pageYOffset+100;let l=null;for(let e=o.length-1;e>=0;e--){const n=o[e];if(n&&void 0!==n.offsetTop&&t>=n.offsetTop){l=n;break}}l&&l.id?(t=>{if(!t)return;n();const l=e.querySelector(`.toc-link[data-heading-id="${t}"]`);l&&l.classList.add("active")})(l.id):n()}catch(e){console.error("Scroll spy error:",e)}a=!1}),a=!0)};try{r()}catch(e){console.error("Initial scroll spy check failed:",e)}window.addEventListener("scroll",r,{passive:!0})}(e,l)}catch(e){console.error("Failed to setup scroll spy:",e)}if(t.isCollapsible)try{!function(e,t){if(!e||!t)return;const l=e.querySelector(".toc-toggle-button"),o=e.querySelector(".toc-content"),n=e.querySelector(".toc-collapse-icon");if(!l||!o)return void console.warn("TOC collapsible elements not found");const a=t.initiallyCollapsed;o.style.display=a?"none":"block",l.setAttribute("aria-expanded",!a);const r=()=>{try{"none"===o.style.display?(o.style.display="block",l.setAttribute("aria-expanded","true"),n&&(n.style.transform="rotate(0deg)")):(o.style.display="none",l.setAttribute("aria-expanded","false"),n&&(n.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to toggle TOC:",e)}};l.addEventListener("click",r),l.addEventListener("keydown",e=>{e&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r()))})}(e,t)}catch(e){console.error("Failed to setup collapsible:",e)}}catch(e){console.error("Failed to initialize TOC:",e)}else console.warn("Invalid block or config in initTOC")}(e,l)}catch(e){console.error("Failed to initialize TOC block:",e)}})}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",()=>{try{h()}catch(e){console.error("TOC block initialization failed:",e)}});else try{h()}catch(e){console.error("TOC block initialization failed:",e)}(0,o.registerBlockType)(n.name,{...n,attributes:p,edit:function({attributes:e,setAttributes:t,clientId:l}){(0,u.Yz)("[DEBUG] TOC Edit mounted with attributes:",e);const{tocId:o,showTitle:n,titleText:m,currentTheme:p}=e,[h,b]=(0,r.useState)([]),{themes:g,themesLoaded:v}=(0,i.useSelect)(e=>{const{getThemes:t,areThemesLoaded:l}=e(u.EF);return{themes:t("toc")||{},themesLoaded:l("toc")}},[]),{loadThemes:f,createTheme:y,updateTheme:C,deleteTheme:T,renameTheme:E}=(0,i.useDispatch)(u.EF);(0,r.useEffect)(()=>{v||f("toc")},[v,f]),(0,r.useEffect)(()=>{o||t({tocId:(0,u.Ij)()})},[o,t]),(0,r.useEffect)(()=>{const e=()=>{const e=document.querySelector(".editor-styles-wrapper");if(!e)return[];const t=e.querySelectorAll("h2, h3, h4, h5, h6"),o=[];return t.forEach(e=>{if(e.closest(`[data-block="${l}"]`))return;const t=parseInt(e.tagName.charAt(1),10),n=e.textContent.trim(),a=e.id||"",r=Array.from(e.classList);o.push({level:t,text:n,id:a,classes:r})}),o},t=e();b(t);const o=new MutationObserver(()=>{setTimeout(()=>{const t=e();b(t)},100)}),n=document.querySelector(".editor-styles-wrapper");return n&&o.observe(n,{childList:!0,subtree:!0,characterData:!0}),()=>o.disconnect()},[l]);const S=window.tocDefaults||{},x=g[p];(0,u.Yz)("[DEBUG] TOC theme:",x),(0,u.Yz)("[DEBUG] TOC theme?.values:",x?.values);const w=(0,u.lS)(e,x?.values,S);(0,u.Yz)("[DEBUG] TOC Effective values:",w);const k=Object.keys(e).some(t=>{const l=e[t],o=x?.values?.[t];return null!=l&&l!==o&&"tocId"!==t&&"showTitle"!==t&&"titleText"!==t&&"currentTheme"!==t&&"includeH2"!==t&&"includeH3"!==t&&"includeH4"!==t&&"includeH5"!==t&&"includeH6"!==t&&"scrollBehavior"!==t&&"scrollOffset"!==t}),B=function(e,t){const{filterMode:l,includeLevels:o,includeClasses:n,excludeLevels:a,excludeClasses:r,depthLimit:i}=t;let s=e;if("include-only"===l?s=s.filter(e=>!!o.includes(e.level)||!!n&&n.split(",").map(e=>e.trim()).some(t=>e.classes.includes(t))):"exclude"===l&&(s=s.filter(e=>!a.includes(e.level)&&(!r||!r.split(",").map(e=>e.trim()).some(t=>e.classes.includes(t))))),i&&i>0){const e=Math.min(...s.map(e=>e.level));s=s.filter(t=>t.level-e<i)}return s}(h,e),N=(0,s.useBlockProps)({className:"wp-block-custom-toc",style:d(w)});return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.InspectorControls,null,(0,a.createElement)(c.PanelBody,{title:"Settings",initialOpen:!0},(0,a.createElement)(u.jQ,{blockType:"toc",currentTheme:p,setAttributes:t,attributes:e,themes:g,themesLoaded:v,isCustomized:k,effectiveValues:w,onSaveNew:e=>{y("toc",e,w),t({currentTheme:e})},onUpdate:()=>{C("toc",e.currentTheme,w)},onDelete:()=>{T("toc",e.currentTheme),t({currentTheme:""})},onRename:(e,l)=>{E("toc",e,l),t({currentTheme:l})},onReset:()=>{const l={};Object.keys(e).forEach(e=>{"currentTheme"!==e&&"tocId"!==e&&"showTitle"!==e&&"titleText"!==e&&"includeH2"!==e&&"includeH3"!==e&&"includeH4"!==e&&"includeH5"!==e&&"includeH6"!==e&&"scrollBehavior"!==e&&"scrollOffset"!==e&&(l[e]=null)}),t(l)}}),(0,a.createElement)(c.ToggleControl,{label:"Show Title",checked:n,onChange:e=>t({showTitle:e})}),n&&(0,a.createElement)(c.TextControl,{label:"Title Text",value:m,onChange:e=>t({titleText:e})}),(0,a.createElement)(c.ToggleControl,{label:"Collapsible",checked:e.isCollapsible,onChange:e=>t({isCollapsible:e})}),e.isCollapsible&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.ToggleControl,{label:"Initially Collapsed",checked:e.initiallyCollapsed,onChange:e=>t({initiallyCollapsed:e})}),(0,a.createElement)(c.SelectControl,{label:"Click Behavior",value:e.clickBehavior||"navigate",options:[{label:"Navigate to section",value:"navigate"},{label:"Navigate and collapse TOC",value:"navigate-and-collapse"}],onChange:e=>t({clickBehavior:e})}))),(0,a.createElement)(c.PanelBody,{title:"Heading Filter",initialOpen:!1},(0,a.createElement)(c.SelectControl,{label:"Filter Mode",value:e.filterMode,options:[{label:"Include All Headings",value:"include-all"},{label:"Include Only Selected",value:"include-only"},{label:"Exclude Selected",value:"exclude"}],onChange:e=>t({filterMode:e})}),"include-only"===e.filterMode&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,a.createElement)("strong",null,"Include Levels:")),[2,3,4,5,6].map(l=>(0,a.createElement)(c.CheckboxControl,{key:l,label:`H${l}`,checked:e.includeLevels.includes(l),onChange:o=>{const n=o?[...e.includeLevels,l]:e.includeLevels.filter(e=>e!==l);t({includeLevels:n})}})),(0,a.createElement)(c.TextControl,{label:"Include Classes (comma-separated)",value:e.includeClasses,onChange:e=>t({includeClasses:e})})),"exclude"===e.filterMode&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,a.createElement)("strong",null,"Exclude Levels:")),[2,3,4,5,6].map(l=>(0,a.createElement)(c.CheckboxControl,{key:l,label:`H${l}`,checked:e.excludeLevels.includes(l),onChange:o=>{const n=o?[...e.excludeLevels,l]:e.excludeLevels.filter(e=>e!==l);t({excludeLevels:n})}})),(0,a.createElement)(c.TextControl,{label:"Exclude Classes (comma-separated)",value:e.excludeClasses,onChange:e=>t({excludeClasses:e})})),(0,a.createElement)(c.RangeControl,{label:"Depth Limit (0 = no limit)",value:e.depthLimit||0,onChange:e=>t({depthLimit:0===e?null:e}),min:0,max:6})),(0,a.createElement)(c.PanelBody,{title:"Numbering",initialOpen:!1},(0,a.createElement)(c.SelectControl,{label:"Numbering Style",value:e.numberingStyle,options:[{label:"None",value:"none"},{label:"Decimal (1, 1.1, 1.1.1)",value:"decimal"},{label:"Decimal Leading Zero",value:"decimal-leading-zero"},{label:"Roman Numerals",value:"roman"},{label:"Letters (A, B, C)",value:"letters"}],onChange:e=>t({numberingStyle:e})})),(0,a.createElement)(u.i5,{effectiveValues:w,attributes:e,setAttributes:t,blockType:"toc",theme:x,initialOpen:!1}),(0,a.createElement)(c.PanelBody,{title:"Level 1 Typography (H2)",initialOpen:!1},(0,a.createElement)(c.SelectControl,{label:"Font Style",value:e.level1FontStyle||"",options:[{label:"Default",value:""},{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],onChange:e=>t({level1FontStyle:e||null})}),(0,a.createElement)(c.SelectControl,{label:"Text Transform",value:e.level1TextTransform||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>t({level1TextTransform:e||null})}),(0,a.createElement)(c.SelectControl,{label:"Text Decoration",value:e.level1TextDecoration||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>t({level1TextDecoration:e||null})})),(0,a.createElement)(c.PanelBody,{title:"Level 2 Typography (H3)",initialOpen:!1},(0,a.createElement)(c.SelectControl,{label:"Font Style",value:e.level2FontStyle||"",options:[{label:"Default",value:""},{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],onChange:e=>t({level2FontStyle:e||null})}),(0,a.createElement)(c.SelectControl,{label:"Text Transform",value:e.level2TextTransform||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>t({level2TextTransform:e||null})}),(0,a.createElement)(c.SelectControl,{label:"Text Decoration",value:e.level2TextDecoration||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>t({level2TextDecoration:e||null})})),(0,a.createElement)(c.PanelBody,{title:"Level 3+ Typography (H4-H6)",initialOpen:!1},(0,a.createElement)(c.SelectControl,{label:"Font Style",value:e.level3PlusFontStyle||"",options:[{label:"Default",value:""},{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],onChange:e=>t({level3PlusFontStyle:e||null})}),(0,a.createElement)(c.SelectControl,{label:"Text Transform",value:e.level3PlusTextTransform||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>t({level3PlusTextTransform:e||null})}),(0,a.createElement)(c.SelectControl,{label:"Text Decoration",value:e.level3PlusTextDecoration||"",options:[{label:"Default",value:""},{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>t({level3PlusTextDecoration:e||null})})),(0,a.createElement)(u.SP,{effectiveValues:w,attributes:e,setAttributes:t,blockType:"toc",theme:x,initialOpen:!1}),(0,a.createElement)(u.$0,{effectiveValues:w,attributes:e,setAttributes:t,blockType:"toc",theme:x,initialOpen:!1}),k&&(0,a.createElement)(u.iz,{currentTheme:p,themes:g})),(0,a.createElement)("div",{...N},n&&(0,a.createElement)("div",{className:"toc-title",style:{fontSize:`${w.titleFontSize||20}px`,fontWeight:w.titleFontWeight||"700",color:w.titleColor||"#333333",textAlign:w.titleAlignment||"left"}},m),0===B.length?(0,a.createElement)("p",{className:"toc-empty-message"},"No headings found. Add H2-H6 headings to your content to populate the table of contents."):(0,a.createElement)("nav",{className:"toc-list-wrapper","aria-label":m||"Table of Contents"},function(e,t,l){if(0===e.length)return null;const o="none"===l.numberingStyle?{}:{listStyleType:"none"};return(0,a.createElement)("ul",{className:`toc-list numbering-${l.numberingStyle}`,style:o},e.map((e,l)=>{const o="toc-item-level-"+(e.level-1),n={color:t.linkColor||"#0073aa",textDecoration:"none"};return(0,a.createElement)("li",{key:l,className:`toc-item ${o}`},(0,a.createElement)("a",{href:`#${e.id||`heading-${l}`}`,className:"toc-link",style:n},e.text))}))}(B,w,e))))},save:function({attributes:e}){const{tocId:t,showTitle:l,titleText:o,isCollapsible:n,initiallyCollapsed:r,filterMode:i,includeLevels:c,includeClasses:u,excludeLevels:d,excludeClasses:p,depthLimit:h,numberingStyle:b,smoothScroll:g,scrollOffset:v,autoHighlight:f,positionType:y,clickBehavior:C}=e,T=function(e,t){const l=["accordion","tabs","toc"];if(!l.includes(e))return console.warn(`[CSS Parser] Invalid block type: ${e}. Must be one of: ${l.join(", ")}`),null;const o=`${e}Defaults`,n=window[o];return n&&"object"==typeof n?t in n?n[t]:null:(console.warn(`[CSS Parser] CSS defaults not found for ${e}. Expected window.${o} to be defined.`),null)}("toc")||{},E=(0,m.lS)(e,null,T),S=function(e){const t={};return e.wrapperBackgroundColor&&(t["--custom-wrapper-background-color"]=e.wrapperBackgroundColor),e.wrapperBorderColor&&(t["--custom-wrapper-border-color"]=e.wrapperBorderColor),e.linkColor&&(t["--custom-link-color"]=e.linkColor),e.linkHoverColor&&(t["--custom-link-hover-color"]=e.linkHoverColor),e.linkVisitedColor&&(t["--custom-link-visited-color"]=e.linkVisitedColor),e.linkActiveColor&&(t["--custom-link-active-color"]=e.linkActiveColor),e.numberingColor&&(t["--custom-numbering-color"]=e.numberingColor),e.level1Color&&(t["--custom-level1-color"]=e.level1Color),e.level2Color&&(t["--custom-level2-color"]=e.level2Color),e.level3PlusColor&&(t["--custom-level3-plus-color"]=e.level3PlusColor),e.level1FontSize&&(t["--custom-level1-font-size"]=`${e.level1FontSize}px`),e.level1FontWeight&&(t["--custom-level1-font-weight"]=e.level1FontWeight),e.level1FontStyle&&(t["--custom-level1-font-style"]=e.level1FontStyle),e.level1TextTransform&&(t["--custom-level1-text-transform"]=e.level1TextTransform),e.level1TextDecoration&&(t["--custom-level1-text-decoration"]=e.level1TextDecoration),e.level2FontSize&&(t["--custom-level2-font-size"]=`${e.level2FontSize}px`),e.level2FontWeight&&(t["--custom-level2-font-weight"]=e.level2FontWeight),e.level2FontStyle&&(t["--custom-level2-font-style"]=e.level2FontStyle),e.level2TextTransform&&(t["--custom-level2-text-transform"]=e.level2TextTransform),e.level2TextDecoration&&(t["--custom-level2-text-decoration"]=e.level2TextDecoration),e.level3PlusFontSize&&(t["--custom-level3-plus-font-size"]=`${e.level3PlusFontSize}px`),e.level3PlusFontWeight&&(t["--custom-level3-plus-font-weight"]=e.level3PlusFontWeight),e.level3PlusFontStyle&&(t["--custom-level3-plus-font-style"]=e.level3PlusFontStyle),e.level3PlusTextTransform&&(t["--custom-level3-plus-text-transform"]=e.level3PlusTextTransform),e.level3PlusTextDecoration&&(t["--custom-level3-plus-text-decoration"]=e.level3PlusTextDecoration),e.wrapperBorderWidth&&(t["--custom-border-width"]=`${e.wrapperBorderWidth}px`),e.wrapperBorderStyle&&(t["--custom-border-style"]=e.wrapperBorderStyle),e.wrapperBorderRadius&&(t["--custom-border-radius"]=`${e.wrapperBorderRadius}px`),e.wrapperPadding&&(t["--custom-wrapper-padding"]=`${e.wrapperPadding}px`),e.itemSpacing&&(t["--custom-item-spacing"]=`${e.itemSpacing}px`),e.levelIndent&&(t["--custom-level-indent"]=`${e.levelIndent}px`),e.positionTop&&(t["--custom-position-top"]=`${e.positionTop}px`),e.zIndex&&(t["--custom-z-index"]=e.zIndex),e.wrapperShadow&&(t["--custom-wrapper-shadow"]=e.wrapperShadow),t}(E),x={"data-toc-id":t,"data-filter-mode":i,"data-include-levels":c.join(","),"data-include-classes":u,"data-exclude-levels":d.join(","),"data-exclude-classes":p,"data-depth-limit":h||0,"data-numbering-style":b,"data-smooth-scroll":g,"data-scroll-offset":v,"data-auto-highlight":f,"data-collapsible":n,"data-initially-collapsed":r,"data-position-type":y,"data-click-behavior":C||"navigate"},w=s.useBlockProps.save({className:`wp-block-custom-toc toc-position-${y}`,style:S,...x}),k=`toc-toggle-${t}`,B=`toc-content-${t}`;return(0,a.createElement)("div",{...w},l&&!n&&(0,a.createElement)("div",{className:"toc-title",style:{fontSize:`${E.titleFontSize||20}px`,fontWeight:E.titleFontWeight||"700",color:E.titleColor||"#333333",backgroundColor:E.titleBackgroundColor||"transparent",textAlign:E.titleAlignment||"left",padding:`${E.titlePadding||12}px`}},o),l&&n&&(0,a.createElement)("button",{id:k,className:"toc-title toc-toggle-button","aria-expanded":!r,"aria-controls":B,type:"button",style:{fontSize:`${E.titleFontSize||20}px`,fontWeight:E.titleFontWeight||"700",color:E.titleColor||"#333333",backgroundColor:E.titleBackgroundColor||"transparent",textAlign:E.titleAlignment||"left",padding:`${E.titlePadding||12}px`,border:"none",width:"100%",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,a.createElement)("span",null,o),(0,a.createElement)("span",{className:"toc-collapse-icon","aria-hidden":"true",style:{fontSize:`${E.collapseIconSize||20}px`,color:E.collapseIconColor||"#666666"}},"▾")),!l&&n&&(0,a.createElement)("button",{id:k,className:"toc-toggle-button toc-icon-only","aria-expanded":!r,"aria-controls":B,"aria-label":"Toggle Table of Contents",type:"button",style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",cursor:"pointer",fontSize:`${E.collapseIconSize||20}px`,color:E.collapseIconColor||"#666666"}},"▾"),(0,a.createElement)("nav",{id:B,className:"toc-content","aria-label":o||"Table of Contents",style:{display:n&&r?"none":"block"}},(0,a.createElement)("ul",{className:`toc-list numbering-${b}`,style:{listStyleType:"none"===b?"disc":"none",paddingLeft:`${E.listPaddingLeft||24}px`,margin:0}},(0,a.createElement)("li",{className:"toc-placeholder"},"Loading table of contents..."))))}})})();