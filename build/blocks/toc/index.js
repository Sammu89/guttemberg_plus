(()=>{"use strict";var e,t={47:(e,t,l)=>{l.d(t,{f:()=>o});const o={showIcon:{type:"boolean",default:!0},iconPosition:{type:"string",default:"right"},iconSize:{type:"number",default:null},iconTypeClosed:{type:"string",default:"▾"},iconTypeOpen:{type:"string",default:"none"},iconRotation:{type:"number",default:180}}},63:(e,t,l)=>{l.d(t,{$0:()=>H,ID:()=>$,iz:()=>M,U:()=>I,EF:()=>s,jQ:()=>O,i5:()=>P,s5:()=>B,is:()=>x,Yz:()=>N.Yz,Ij:()=>S,O_:()=>T.O_,uS:()=>D});const o={color:"#000000",backgroundColor:"#ffffff",borderColor:"#dddddd",fontSize:16,padding:16,margin:8,borderWidth:1,borderRadius:4,fontWeight:"400",fontStyle:"normal",textAlign:"left",textTransform:"none",textDecoration:"none",borderStyle:"solid",boolean:!1,paddingObject:{top:16,right:16,bottom:16,left:16},borderRadiusObject:{topLeft:4,topRight:4,bottomLeft:4,bottomRight:4}};function n(e,t,l=null){return null!=e?e:function(e,t=null){const l=t||function(e){const t=e.toLowerCase();return t.includes("color")||t.includes("colour")?"color":t.includes("size")||t.includes("width")||t.includes("height")||t.includes("thickness")||"iconrotation"===t?"number":t.includes("padding")||t.includes("margin")||t.includes("radius")?"object":t.startsWith("show")||t.startsWith("enable")||t.startsWith("disable")||t.startsWith("is")||t.startsWith("allow")?"boolean":"string"}(e);switch(l){case"color":return e.includes("Background")||e.includes("Bg")?o.backgroundColor:e.includes("Border")?o.borderColor:o.color;case"number":return e.includes("FontSize")||e.includes("Size")?o.fontSize:e.includes("Padding")?o.padding:e.includes("Margin")?o.margin:e.includes("BorderWidth")||e.includes("Thickness")?o.borderWidth:e.includes("Radius")?o.borderRadius:0;case"boolean":return o.boolean;case"object":return e.includes("Padding")||e.includes("Margin")?o.paddingObject:e.includes("Radius")?o.borderRadiusObject:{};default:return e.includes("FontWeight")?o.fontWeight:e.includes("FontStyle")?o.fontStyle:e.includes("Alignment")||e.includes("Align")?o.textAlign:e.includes("Transform")?o.textTransform:e.includes("Decoration")?o.textDecoration:e.includes("BorderStyle")?o.borderStyle:""}}(t,l)}var r=l(143);const a=window.wp.apiFetch;var i=l.n(a);const s="gutenberg-blocks/themes",c={accordionThemes:{},tabsThemes:{},tocThemes:{},themesLoaded:{accordion:!1,tabs:!1,toc:!1},isLoading:!1,error:null},d="SET_THEMES",u="SET_LOADING",m="SET_ERROR",p="THEME_CREATED",h="THEME_UPDATED",g="THEME_DELETED",f="THEME_RENAMED";function b(e){return`${e}Themes`}const y={*loadThemes(e){yield y.setLoading(!0),yield y.setError(null);try{const t=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}`,method:"GET"}};return{type:d,blockType:e,themes:t}}catch(e){return yield y.setError(e.message),{type:"LOAD_THEMES_ERROR"}}finally{yield y.setLoading(!1)}},*createTheme(e,t,l){console.log("[REDUX DEBUG] createTheme action called:",{blockType:e,name:t,values:l}),yield y.setLoading(!0),yield y.setError(null);try{const o=yield{type:"API_FETCH",request:{path:"/gutenberg-blocks/v1/themes",method:"POST",data:{blockType:e,name:t,values:l}}};console.log("[REDUX DEBUG] API returned theme:",o);const n={type:p,blockType:e,theme:o};return console.log("[REDUX DEBUG] Dispatching THEME_CREATED action:",n),n}catch(e){throw console.error("[REDUX DEBUG] createTheme error:",e),yield y.setError(e.message),e}finally{yield y.setLoading(!1)}},*updateTheme(e,t,l){yield y.setLoading(!0),yield y.setError(null);try{const o=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"PUT",data:{values:l}}};return{type:h,blockType:e,theme:o}}catch(e){throw yield y.setError(e.message),e}finally{yield y.setLoading(!1)}},*deleteTheme(e,t){yield y.setLoading(!0),yield y.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"DELETE"}},{type:g,blockType:e,themeName:t}}catch(e){throw yield y.setError(e.message),e}finally{yield y.setLoading(!1)}},*renameTheme(e,t,l){yield y.setLoading(!0),yield y.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}/rename`,method:"POST",data:{newName:l}}},{type:f,blockType:e,oldName:t,newName:l}}catch(e){throw yield y.setError(e.message),e}finally{yield y.setLoading(!1)}},setLoading:e=>({type:u,isLoading:e}),setError:e=>({type:m,error:e})},v={getThemes:(e,t)=>e[b(t)]||{},getTheme:(e,t,l)=>v.getThemes(e,t)[l]||null,hasTheme:(e,t,l)=>null!==v.getTheme(e,t,l),isLoading:e=>e.isLoading,getError:e=>e.error,areThemesLoaded:(e,t)=>e.themesLoaded?.[t]||!1,getThemeNames(e,t){const l=v.getThemes(e,t);return Object.keys(l)}},C={API_FETCH:({request:e})=>i()(e)},E=(0,r.createReduxStore)(s,{reducer:(e=c,t)=>{switch(t.type){case d:{const l=b(t.blockType);return{...e,[l]:t.themes,themesLoaded:{...e.themesLoaded,[t.blockType]:!0}}}case u:return{...e,isLoading:t.isLoading};case m:return{...e,error:t.error};case p:{const l=b(t.blockType);if(console.log("[REDUCER DEBUG] THEME_CREATED reducer called"),console.log("[REDUCER DEBUG] Action:",t),console.log("[REDUCER DEBUG] State key:",l),console.log("[REDUCER DEBUG] Previous state:",e),!t.theme||!t.theme.name)return console.error("[Theme Store] THEME_CREATED: Invalid theme object",t),e;const o={...e,[l]:{...e[l],[t.theme.name]:t.theme}};return console.log("[REDUCER DEBUG] New state after THEME_CREATED:",o),o}case h:{const l=b(t.blockType);return t.theme&&t.theme.name?{...e,[l]:{...e[l],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_UPDATED: Invalid theme object",t),e)}case g:{const l=b(t.blockType),o={...e[l]};return delete o[t.themeName],{...e,[l]:o}}case f:{const l=b(t.blockType),o={...e[l]},n=o[t.oldName];return delete o[t.oldName],o[t.newName]={...n,name:t.newName},{...e,[l]:o}}default:return e}},actions:y,selectors:v,controls:C});try{(0,r.register)(E)}catch(e){if(!e.message||!e.message.includes("already registered"))throw console.error("[Theme Store] Unexpected registration error:",e),e}l(919),l(235),l(726),l(313),l(47),l(715);var T=l(957);const w="0123456789abcdefghijklmnopqrstuvwxyz",k=new Set;function S(e="block"){if("string"!=typeof e||0===e.length)throw new Error("Prefix must be a non-empty string.");let t,l=0;do{let o="";for(let e=0;e<4;e++){const e=Math.floor(Math.random()*w.length);o+=w[e]}if(t=`${e}-${o}`,l++,l>=1e3)throw new Error("Failed to generate unique ID after 1000 attempts.")}while(k.has(t));return k.add(t),t}function x(e,t,l=[]){const o={};for(const[n,r]of Object.entries(e)){if(l.includes(n))continue;if(null==r)continue;const e=t[n];let a=!1;a="object"!=typeof r||null===r||Array.isArray(r)?r!==e:JSON.stringify(r)!==JSON.stringify(e),a&&(o[n]=r)}return o}function B(e,t){return{...e,...t}}function D(e,t=[]){const l={};for(const[o,n]of Object.entries(e))t.includes(o)||void 0===n||(l[o]=n);return l}var N=l(631),L=l(609),z=l(427),A=l(87);function O({blockType:e,currentTheme:t,setAttributes:l,isCustomized:o,themes:n={},themesLoaded:r=!1,attributes:a={},effectiveValues:i={},onChange:s,onSaveNew:c,onUpdate:d,onDelete:u,onRename:m,onReset:p,onThemeChange:h,sessionCache:g={}}){(0,N.Yz)("[DEBUG] ThemeSelector props received:"),(0,N.Yz)("  blockType:",e),(0,N.Yz)("  currentTheme:",t),(0,N.Yz)("  themes:",n),(0,N.Yz)("  onSaveNew type:",typeof c),(0,N.Yz)("  onUpdate type:",typeof d),(0,N.Yz)("  onDelete type:",typeof u),(0,N.Yz)("  onRename type:",typeof m),(0,N.Yz)("  onReset type:",typeof p);const[f,b]=(0,A.useState)(!1),[y,v]=(0,A.useState)(!1),[C,E]=(0,A.useState)("");(0,A.useEffect)(()=>{console.log("[THEME SELECTOR] currentTheme prop changed to:",t),console.log("[THEME SELECTOR] isCustomized:",o);const e=o?""===t?"::customized":`${t}::customized`:t;console.log("[THEME SELECTOR] Dropdown will show:",e)},[t,o]);const T=[];T.push({label:"Default",value:""}),g[""]&&T.push({label:"Default (customized)",value:"::customized"}),Object.keys(n||{}).forEach(e=>{T.push({label:e,value:e}),g[e]&&T.push({label:`${e} (customized)`,value:`${e}::customized`})});const w=o?""===t?"::customized":`${t}::customized`:t;return(0,L.createElement)("div",{className:"theme-selector"},(0,L.createElement)(z.SelectControl,{label:"Theme",value:w,options:T,onChange:e=>{const t=e.endsWith("::customized"),o=t?e.replace("::customized",""):e;h?h(o,t):l?l({currentTheme:o}):s&&s(o)}}),(0,L.createElement)("div",{className:"theme-actions",style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"}},(0,L.createElement)(z.Button,{variant:"secondary",onClick:()=>b(!0),disabled:!o},"Save as New Theme"),(0,L.createElement)(z.Button,{variant:"secondary",onClick:d,disabled:!o||""===t},"Update Theme"),(0,L.createElement)(z.Button,{variant:"secondary",onClick:()=>v(!0),disabled:""===t},"Rename Theme"),(0,L.createElement)(z.Button,{variant:"secondary",onClick:u,disabled:""===t,isDestructive:!0},"Delete Theme"),(0,L.createElement)(z.Button,{variant:"tertiary",onClick:p,disabled:!o},"Reset Modifications")),f&&(0,L.createElement)(z.Modal,{title:"Create New Theme",onRequestClose:()=>b(!1)},(0,L.createElement)(z.TextControl,{label:"Theme Name",value:C,onChange:E,placeholder:"Enter theme name"}),(0,L.createElement)(z.Button,{variant:"primary",onClick:()=>{c(C),b(!1),E("")}},"Create Theme")),y&&(0,L.createElement)(z.Modal,{title:"Rename Theme",onRequestClose:()=>v(!1)},(0,L.createElement)(z.TextControl,{label:"New Theme Name",value:C,onChange:E,placeholder:t}),(0,L.createElement)(z.Button,{variant:"primary",onClick:()=>{m(t,C),v(!1),E("")}},"Rename")))}function R({label:e,value:t,onChange:l,disableAlpha:o=!1,help:n=""}){const[r,a]=(0,A.useState)(!1),[i,s]=(0,A.useState)(t),[c,d]=(0,A.useState)(t),u=(0,A.useRef)(null);(0,A.useEffect)(()=>{!r&&t&&(s(t),d(t))},[t,r]);const m=e=>{let l;l="string"==typeof e?e:e.hex?e.hex:"hex"===e.source?"#"+e.hex:t,s(l)},p=()=>{s(c),a(!1)},h=i;return(0,L.createElement)(z.BaseControl,{label:e,help:n,className:"compact-color-control"},(0,L.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"}},(0,L.createElement)("div",{style:{width:"32px",height:"32px",backgroundColor:h,border:"1px solid #ddd",borderRadius:"4px",flexShrink:0}}),(0,L.createElement)("div",{style:{flex:1}},(0,L.createElement)(z.TextControl,{value:h||"",onChange:e=>{l(e),s(e)},placeholder:"Color value",style:{marginBottom:0}})),(0,L.createElement)(z.Button,{ref:u,variant:"secondary",onClick:()=>{d(t),s(t),a(!0)},"aria-expanded":r},"Choose color")),r&&(0,L.createElement)(z.Popover,{anchor:u.current,position:"bottom right",onClose:p,focusOnMount:!1,noArrow:!1},(0,L.createElement)("div",{style:{padding:"16px"}},(0,L.createElement)(z.ColorPicker,{color:i,onChange:m,onChangeComplete:m,disableAlpha:o,enableAlpha:!o}),(0,L.createElement)("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",gap:"8px",borderTop:"1px solid #ddd",paddingTop:"12px"}},(0,L.createElement)(z.Button,{variant:"tertiary",onClick:p},"Cancel"),(0,L.createElement)(z.Button,{variant:"primary",onClick:()=>{l(i),a(!1)}},"OK")))))}var F=l(767);function I({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:r,cssDefaults:a={},initialOpen:i=!1}){const s=({label:o,attrName:i})=>{const s=(e=>(0,F.MI)(e,t,r,a))(i)?`${o} (Customized)`:o,c=n(e[i],i,"color");return(0,L.createElement)(R,{label:s,value:c,onChange:e=>((e,t)=>{l&&l({[e]:t})})(i,e),disableAlpha:!1})};return(0,L.createElement)(z.PanelBody,{title:"Header Colors",initialOpen:i},(0,L.createElement)(s,{label:"Title Text Color",attrName:"titleColor"}),(0,L.createElement)(s,{label:"Title Background Color",attrName:"titleBackgroundColor"}),(0,L.createElement)(s,{label:"Hover Title Text Color",attrName:"hoverTitleColor"}),(0,L.createElement)(s,{label:"Hover Title Background",attrName:"hoverTitleBackgroundColor"}),(0,L.createElement)(s,{label:"Active Title Text Color",attrName:"activeTitleColor"}),(0,L.createElement)(s,{label:"Active Title Background",attrName:"activeTitleBackgroundColor"}))}function $({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:r,cssDefaults:a={},initialOpen:i=!1}){const s=({label:o,attrName:i})=>{const s=(e=>(0,F.MI)(e,t,r,a))(i)?`${o} (Customized)`:o,c=n(e[i],i,"color");return(0,L.createElement)(R,{label:s,value:c,onChange:e=>((e,t)=>{l&&l({[e]:t})})(i,e),disableAlpha:!1})};return(0,L.createElement)(z.PanelBody,{title:"Content Colors",initialOpen:i},(0,L.createElement)(s,{label:"Content Text Color",attrName:"contentColor"}),(0,L.createElement)(s,{label:"Content Background Color",attrName:"contentBackgroundColor"}))}function P({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:n,cssDefaults:r={},onChange:a,initialOpen:i=!1}){const s=(e,t)=>{l?l({[e]:t}):a&&a(e,t)},c=({label:e,attrName:l})=>(0,L.createElement)("span",null,e,(e=>(0,F.MI)(e,t,n,r))(l)&&(0,L.createElement)("span",{className:"customization-badge"}," (Customized)"));return(0,L.createElement)(z.PanelBody,{title:"Title",initialOpen:i},(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(c,{label:"Heading Level",attrName:"headingLevel"}),value:e.headingLevel||"none",options:[{label:"None",value:"none"},{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:e=>s("headingLevel",e)}),(0,L.createElement)(z.RangeControl,{label:(0,L.createElement)(c,{label:"Font Size",attrName:"titleFontSize"}),value:e.titleFontSize||16,onChange:e=>s("titleFontSize",e),min:12,max:48}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(c,{label:"Font Weight",attrName:"titleFontWeight"}),value:e.titleFontWeight||"600",options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"},{label:"100",value:"100"},{label:"200",value:"200"},{label:"300",value:"300"},{label:"400",value:"400"},{label:"500",value:"500"},{label:"600",value:"600"},{label:"700",value:"700"},{label:"800",value:"800"},{label:"900",value:"900"}],onChange:e=>s("titleFontWeight",e)}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(c,{label:"Font Style",attrName:"titleFontStyle"}),value:e.titleFontStyle||"normal",options:[{label:"Normal",value:"normal"},{label:"Italic",value:"italic"},{label:"Oblique",value:"oblique"}],onChange:e=>s("titleFontStyle",e)}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(c,{label:"Text Transform",attrName:"titleTextTransform"}),value:e.titleTextTransform||"none",options:[{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>s("titleTextTransform",e)}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(c,{label:"Text Decoration",attrName:"titleTextDecoration"}),value:e.titleTextDecoration||"none",options:[{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>s("titleTextDecoration",e)}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(c,{label:"Text Alignment",attrName:"titleAlignment"}),value:e.titleAlignment||"left",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>s("titleAlignment",e)}))}function H({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:n,cssDefaults:r={},onChange:a,initialOpen:i=!1}){const s=(e,t)=>{l?l({[e]:t}):a&&a(e,t)},c=e=>(0,F.MI)(e,t,n,r),d=({label:e,attrName:t})=>(0,L.createElement)("span",null,e,c(t)&&(0,L.createElement)("span",{className:"customization-badge"}," (Customized)")),u="accordion"===o?{title:"Accordion Border",color:"accordionBorderColor",thickness:"accordionBorderThickness",style:"accordionBorderStyle",shadow:"accordionShadow",radius:"accordionBorderRadius"}:"tabs"===o?{title:"Tab Button Border",color:"tabBorderColor",thickness:"tabBorderThickness",style:"tabBorderStyle",shadow:"tabShadow",radius:"tabBorderRadius"}:{title:"Wrapper Border",color:"wrapperBorderColor",thickness:"wrapperBorderWidth",style:"wrapperBorderStyle",shadow:"wrapperShadow",radius:"wrapperBorderRadius"};return(0,L.createElement)(z.PanelBody,{title:"Border",initialOpen:i},(0,L.createElement)("h3",null,u.title),(0,L.createElement)(R,{label:c(u.color)?"Color (Customized)":"Color",value:e[u.color],onChange:e=>s(u.color,e)}),(0,L.createElement)(z.RangeControl,{label:(0,L.createElement)(d,{label:"Thickness (px)",attrName:u.thickness}),value:e[u.thickness]||1,onChange:e=>s(u.thickness,e),min:0,max:10}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(d,{label:"Style",attrName:u.style}),value:e[u.style]||"solid",options:[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],onChange:e=>s(u.style,e)}),(0,L.createElement)(z.TextControl,{label:(0,L.createElement)(d,{label:"Shadow",attrName:u.shadow}),value:e[u.shadow]||"none",onChange:e=>s(u.shadow,e),help:"CSS box-shadow value (e.g. '0 2px 4px rgba(0,0,0,0.1)')"}),(0,L.createElement)(z.RangeControl,{label:(0,L.createElement)(d,{label:"Border Radius (px)",attrName:u.radius}),value:e[u.radius]?.topLeft||e[u.radius]||4,onChange:e=>s(u.radius,{topLeft:e,topRight:e,bottomRight:e,bottomLeft:e}),min:0,max:50,help:"Applies same radius to all corners"}),"toc"!==o&&(0,L.createElement)(L.Fragment,null,(0,L.createElement)("hr",null),(0,L.createElement)("h3",null,"Divider Border"),(0,L.createElement)(R,{label:c("accordion"===o?"dividerBorderColor":"dividerColor")?"Color (Customized)":"Color",value:e["accordion"===o?"dividerBorderColor":"dividerColor"],onChange:e=>s("accordion"===o?"dividerBorderColor":"dividerColor",e)}),(0,L.createElement)(z.RangeControl,{label:(0,L.createElement)(d,{label:"Thickness (px)",attrName:"accordion"===o?"dividerBorderThickness":"dividerThickness"}),value:e["accordion"===o?"dividerBorderThickness":"dividerThickness"]||0,onChange:e=>s("accordion"===o?"dividerBorderThickness":"dividerThickness",e),min:0,max:10}),(0,L.createElement)(z.SelectControl,{label:(0,L.createElement)(d,{label:"Style",attrName:"accordion"===o?"dividerBorderStyle":"dividerStyle"}),value:e["accordion"===o?"dividerBorderStyle":"dividerStyle"]||"solid",options:[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],onChange:e=>s("accordion"===o?"dividerBorderStyle":"dividerStyle",e)})))}function M({currentTheme:e,themes:t={}}){const l=t&&t[e]?t[e]:null;(0,N.Yz)("[DEBUG] CustomizationWarning - currentTheme:",e),(0,N.Yz)("[DEBUG] CustomizationWarning - themes:",t),(0,N.Yz)("[DEBUG] CustomizationWarning - theme object:",l),(0,N.Yz)("[DEBUG] CustomizationWarning - theme?.name:",l?.name);const o=l?.name||e||"Default";return(0,N.Yz)("[DEBUG] CustomizationWarning - final themeName:",o),(0,L.createElement)(z.Notice,{status:"warning",isDismissible:!1},(0,L.createElement)("p",null,(0,L.createElement)("strong",null,"Notice:")," This block has customizations applied."),(0,L.createElement)("p",null,'You are currently using the "',o,'" theme with custom modifications. These customizations take precedence over the theme defaults.'),(0,L.createElement)("p",null,'To save your customizations permanently, use the "Save as New Theme" or "Update Theme" buttons. To remove customizations and revert to the theme defaults, use the "Reset Modifications" button.'))}},87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},235:(e,t,l)=>{},313:(e,t,l)=>{},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},631:(e,t,l)=>{l.d(t,{Yz:()=>n});const o=()=>"undefined"!=typeof window&&!0===window.WP_DEBUG;function n(...e){o()&&console.log(...e)}},644:(e,t,l)=>{const o=window.wp.blocks,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom/toc","title":"Table of Contents","category":"design","icon":"list-view","description":"Automatically generates a navigable table of contents from post headings.","keywords":["toc","table of contents","navigation","headings"],"supports":{"html":false,"multiple":true},"textdomain":"guttemberg-plus","editorScript":"file:../../build/blocks/toc/index.js","style":"file:../../build/blocks/toc/style-index.css"}');var r=l(609),a=l(87),i=l(143);const s=window.wp.blockEditor;var c=l(427),d=l(63);function u(e){const t={};return e.wrapperBackgroundColor&&(t["--toc-wrapper-background-color"]=e.wrapperBackgroundColor),e.wrapperBorderColor&&(t["--toc-wrapper-border-color"]=e.wrapperBorderColor),e.linkColor&&(t["--toc-link-color"]=e.linkColor),e.linkHoverColor&&(t["--toc-link-hover-color"]=e.linkHoverColor),e.wrapperBorderWidth&&(t["--toc-border-width"]=`${e.wrapperBorderWidth}px`),e.wrapperBorderStyle&&(t["--toc-border-style"]=e.wrapperBorderStyle),e.wrapperBorderRadius&&(t["--toc-border-radius"]=`${e.wrapperBorderRadius}px`),e.wrapperPadding&&(t["--toc-wrapper-padding"]=`${e.wrapperPadding}px`),e.wrapperShadow&&(t["--toc-wrapper-shadow"]=e.wrapperShadow),t}var m=l(767);l(919),l(235),l(726),l(313),l(47);var p=l(715);l(957);const h={tocId:{type:"string",default:""},showTitle:{type:"boolean",default:!0},titleText:{type:"string",default:"Table of Contents"},...p.B,filterMode:{type:"string",default:"include-all"},includeLevels:{type:"array",default:[2,3,4,5,6]},includeClasses:{type:"string",default:""},excludeLevels:{type:"array",default:[]},excludeClasses:{type:"string",default:""},depthLimit:{type:"number",default:null},numberingStyle:{type:"string",default:"none"},numberingColor:{type:"string",default:null},isCollapsible:{type:"boolean",default:!1},initiallyCollapsed:{type:"boolean",default:!1},collapseIconSize:{type:"number",default:null},collapseIconColor:{type:"string",default:null},level1FontSize:{type:"number",default:null},level1FontWeight:{type:"string",default:null},level1FontStyle:{type:"string",default:null},level1TextTransform:{type:"string",default:null},level1TextDecoration:{type:"string",default:null},level1Color:{type:"string",default:null},level2FontSize:{type:"number",default:null},level2FontWeight:{type:"string",default:null},level2FontStyle:{type:"string",default:null},level2TextTransform:{type:"string",default:null},level2TextDecoration:{type:"string",default:null},level2Color:{type:"string",default:null},level3PlusFontSize:{type:"number",default:null},level3PlusFontWeight:{type:"string",default:null},level3PlusFontStyle:{type:"string",default:null},level3PlusTextTransform:{type:"string",default:null},level3PlusTextDecoration:{type:"string",default:null},level3PlusColor:{type:"string",default:null},titleFontSize:{type:"number",default:null},titleFontWeight:{type:"string",default:null},titleColor:{type:"string",default:null},titleTextTransform:{type:"string",default:null},titleAlignment:{type:"string",default:null},titleBackgroundColor:{type:"string",default:null},wrapperBackgroundColor:{type:"string",default:null},wrapperBorderColor:{type:"string",default:null},linkColor:{type:"string",default:null},linkHoverColor:{type:"string",default:null},linkActiveColor:{type:"string",default:null},linkVisitedColor:{type:"string",default:null},wrapperBorderWidth:{type:"number",default:null},wrapperBorderStyle:{type:"string",default:null},wrapperBorderRadius:{type:"number",default:null},wrapperShadow:{type:"string",default:null},wrapperPadding:{type:"number",default:null},listPaddingLeft:{type:"number",default:null},itemSpacing:{type:"number",default:null},levelIndent:{type:"number",default:null},positionType:{type:"string",default:"block"},positionTop:{type:"number",default:null},zIndex:{type:"number",default:null},smoothScroll:{type:"boolean",default:!0},scrollOffset:{type:"number",default:0},autoHighlight:{type:"boolean",default:!0},clickBehavior:{type:"string",default:"navigate"}};function g(){const e=document.querySelectorAll(".wp-block-custom-toc");e&&0!==e.length&&e.forEach(e=>{try{if(!e)return;const t=e.getAttribute("data-toc-id");if(!t)return void console.warn("TOC block missing data-toc-id attribute, skipping");const l={tocId:t,filterMode:e.getAttribute("data-filter-mode")||"include-all",includeLevels:(e.getAttribute("data-include-levels")||"2,3,4,5,6").split(",").map(Number),includeClasses:e.getAttribute("data-include-classes")||"",excludeLevels:(e.getAttribute("data-exclude-levels")||"").split(",").map(Number).filter(Boolean),excludeClasses:e.getAttribute("data-exclude-classes")||"",depthLimit:parseInt(e.getAttribute("data-depth-limit")||"0",10)||null,numberingStyle:e.getAttribute("data-numbering-style")||"none",smoothScroll:"true"===e.getAttribute("data-smooth-scroll"),scrollOffset:parseInt(e.getAttribute("data-scroll-offset")||"0",10),autoHighlight:"true"===e.getAttribute("data-auto-highlight"),isCollapsible:"true"===e.getAttribute("data-collapsible"),initiallyCollapsed:"true"===e.getAttribute("data-initially-collapsed"),clickBehavior:e.getAttribute("data-click-behavior")||"navigate"};!function(e,t){if(e&&t)try{const l=function(e,t){const l=document.querySelector(".entry-content, main, article, body");if(!l)return[];const o=l.querySelectorAll("h2, h3, h4, h5, h6"),n=[];if(o.forEach(e=>{if(e.closest(".wp-block-custom-toc"))return;const l=parseInt(e.tagName.charAt(1),10),o=e.textContent.trim(),r=e.id||"",a=Array.from(e.classList);(function(e,t){const{filterMode:l,includeLevels:o,includeClasses:n,excludeLevels:r,excludeClasses:a}=t;if("include-only"===l){const t=o.includes(e.level),l=!!n&&n.split(",").some(t=>e.classes.includes(t.trim()));return t||l}return"exclude"!==l||!r.includes(e.level)&&(!a||!a.split(",").some(t=>e.classes.includes(t.trim())))})({level:l,classes:a},t)&&n.push({level:l,text:o,id:r,classes:a,element:e})}),t.depthLimit){const e=Math.min(...n.map(e=>e.level));return n.filter(l=>l.level-e<t.depthLimit)}return n}(0,t);if(!l)return void console.warn("Failed to detect headings");l.forEach((e,l)=>{try{e&&e.element&&!e.element.id&&(e.element.id=`heading-${t.tocId}-${l}`,e.id=e.element.id)}catch(e){console.error("Failed to add ID to heading:",e)}});const o=e.querySelector(".toc-list");if(o)try{!function(e,t){if(e.innerHTML="",0===t.length)return void(e.innerHTML='<li class="toc-empty">No headings found.</li>');const l=document.createDocumentFragment();t.forEach(e=>{const t=document.createElement("li");t.className=`toc-item toc-item-level-${e.level}`;const o=document.createElement("a");o.href=`#${e.id}`,o.className="toc-link",o.textContent=e.text,o.setAttribute("data-heading-id",e.id),t.appendChild(o),l.appendChild(t)}),e.appendChild(l)}(o,l)}catch(e){console.error("Failed to render TOC list:",e)}if(t.smoothScroll)try{!function(e,t){if(!e||!t)return;const l=e.querySelectorAll(".toc-link");l&&0!==l.length&&l.forEach(l=>{l&&l.addEventListener("click",o=>{try{o.preventDefault();const n=l.getAttribute("href");if(!n||n.length<=1)return void console.warn("Invalid TOC link href");const r=n.slice(1),a=document.getElementById(r);if(!a)return void console.warn("TOC target element not found:",r);const i=a.getBoundingClientRect().top+window.pageYOffset-t.scrollOffset;window.scrollTo({top:i,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${r}`):window.location.hash=r,a.focus({preventScroll:!0}),"navigate-and-collapse"===t.clickBehavior&&t.isCollapsible&&setTimeout(()=>{try{const t=e.querySelector(".toc-toggle-button"),l=e.querySelector(".toc-content"),o=e.querySelector(".toc-collapse-icon");t&&l&&(l.style.display="none",t.setAttribute("aria-expanded","false"),o&&(o.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to collapse TOC:",e)}},600)}catch(e){console.error("Failed to handle smooth scroll:",e)}})})}(e,t)}catch(e){console.error("Failed to setup smooth scroll:",e)}if(t.autoHighlight)try{!function(e,t){if(!e||!t||0===t.length)return;const l=e.querySelectorAll(".toc-link");if(!l||0===l.length)return;const o=t.map(e=>e.element).filter(e=>e);if(0===o.length)return;const n=()=>{l.forEach(e=>{e&&e.classList.remove("active")})};let r=!1;const a=()=>{r||(window.requestAnimationFrame(()=>{try{const t=window.pageYOffset+100;let l=null;for(let e=o.length-1;e>=0;e--){const n=o[e];if(n&&void 0!==n.offsetTop&&t>=n.offsetTop){l=n;break}}l&&l.id?(t=>{if(!t)return;n();const l=e.querySelector(`.toc-link[data-heading-id="${t}"]`);l&&l.classList.add("active")})(l.id):n()}catch(e){console.error("Scroll spy error:",e)}r=!1}),r=!0)};try{a()}catch(e){console.error("Initial scroll spy check failed:",e)}window.addEventListener("scroll",a,{passive:!0})}(e,l)}catch(e){console.error("Failed to setup scroll spy:",e)}if(t.isCollapsible)try{!function(e,t){if(!e||!t)return;const l=e.querySelector(".toc-toggle-button"),o=e.querySelector(".toc-content"),n=e.querySelector(".toc-collapse-icon");if(!l||!o)return void console.warn("TOC collapsible elements not found");const r=t.initiallyCollapsed;o.style.display=r?"none":"block",l.setAttribute("aria-expanded",!r);const a=()=>{try{"none"===o.style.display?(o.style.display="block",l.setAttribute("aria-expanded","true"),n&&(n.style.transform="rotate(0deg)")):(o.style.display="none",l.setAttribute("aria-expanded","false"),n&&(n.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to toggle TOC:",e)}};l.addEventListener("click",a),l.addEventListener("keydown",e=>{e&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a()))})}(e,t)}catch(e){console.error("Failed to setup collapsible:",e)}}catch(e){console.error("Failed to initialize TOC:",e)}else console.warn("Invalid block or config in initTOC")}(e,l)}catch(e){console.error("Failed to initialize TOC block:",e)}})}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",()=>{try{g()}catch(e){console.error("TOC block initialization failed:",e)}});else try{g()}catch(e){console.error("TOC block initialization failed:",e)}(0,o.registerBlockType)(n.name,{...n,attributes:h,edit:function({attributes:e,setAttributes:t,clientId:l}){(0,d.Yz)("[DEBUG] TOC Edit mounted with attributes:",e);const{tocId:o,showTitle:n,titleText:m,currentTheme:p}=e,[h,g]=(0,a.useState)([]),[f,b]=(0,a.useState)({}),{themes:y,themesLoaded:v}=(0,i.useSelect)(e=>{const{getThemes:t,areThemesLoaded:l}=e(d.EF);return{themes:t("toc")||{},themesLoaded:l("toc")}},[]),{loadThemes:C,createTheme:E,updateTheme:T,deleteTheme:w,renameTheme:k}=(0,i.useDispatch)(d.EF);(0,a.useEffect)(()=>{v||C("toc")},[v,C]),(0,a.useEffect)(()=>{o||t({tocId:(0,d.Ij)()})},[o,t]),(0,a.useEffect)(()=>{const e=()=>{const e=document.querySelector(".editor-styles-wrapper");if(!e)return[];const t=e.querySelectorAll("h2, h3, h4, h5, h6"),o=[];return t.forEach(e=>{if(e.closest(`[data-block="${l}"]`))return;const t=parseInt(e.tagName.charAt(1),10),n=e.textContent.trim(),r=e.id||"",a=Array.from(e.classList);o.push({level:t,text:n,id:r,classes:a})}),o},t=e();g(t);const o=new MutationObserver(()=>{setTimeout(()=>{const t=e();g(t)},100)}),n=document.querySelector(".editor-styles-wrapper");return n&&o.observe(n,{childList:!0,subtree:!0,characterData:!0}),()=>o.disconnect()},[l]);const S=(0,d.O_)(),x=e,B=y[p],D=B?(0,d.s5)(S,B.values||{}):S,N=["tocId","showTitle","titleText","currentTheme","includeH2","includeH3","includeH4","includeH5","includeH6","scrollBehavior","scrollOffset","filterMode","includeLevels","includeClasses","excludeLevels","excludeClasses","depthLimit","numberingStyle","isCollapsible","initiallyCollapsed","clickBehavior"],L=Object.keys(e).some(t=>{if(N.includes(t))return!1;const l=e[t],o=D[t];return null!=l&&("object"!=typeof l||null===l||Array.isArray(l)?l!==o:JSON.stringify(l)!==JSON.stringify(o))});(0,d.Yz)("[DEBUG] TOC effective values:",x),(0,d.Yz)("[DEBUG] TOC expected values:",D),(0,d.Yz)("[DEBUG] TOC isCustomized:",L),(0,a.useEffect)(()=>{const t=(0,d.uS)(e,N),l=e.currentTheme||"";b(e=>({...e,[l]:t}))},[e,N]);const z=function(e,t){const{filterMode:l,includeLevels:o,includeClasses:n,excludeLevels:r,excludeClasses:a,depthLimit:i}=t;let s=e;if("include-only"===l?s=s.filter(e=>!!o.includes(e.level)||!!n&&n.split(",").map(e=>e.trim()).some(t=>e.classes.includes(t))):"exclude"===l&&(s=s.filter(e=>!r.includes(e.level)&&(!a||!a.split(",").map(e=>e.trim()).some(t=>e.classes.includes(t))))),i&&i>0){const e=Math.min(...s.map(e=>e.level));s=s.filter(t=>t.level-e<i)}return s}(h,e),A=(0,s.useBlockProps)({className:"wp-block-custom-toc",style:u(x)});return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)("div",{className:"toc-settings-panel"},(0,r.createElement)(d.jQ,{blockType:"toc",currentTheme:p,setAttributes:t,attributes:e,themes:y,themesLoaded:v,isCustomized:L,effectiveValues:x,sessionCache:f,onThemeChange:(e,l=!1)=>{const o=y[e],n=e||"";let r;r=l&&f[n]?f[n]:o?(0,d.s5)(S,o.values||{}):S;const a={...r};N.forEach(e=>{"currentTheme"!==e&&delete a[e]}),a.currentTheme=e,t(a)},onSaveNew:async l=>{const o=e.currentTheme||"",n=f[o]||{},r=(0,d.is)(n,S,N);await E("toc",l,r);const a={...(0,d.s5)(S,r)};N.forEach(e=>{"currentTheme"!==e&&delete a[e]}),a.currentTheme=l,t(a),b(e=>{const t={...e};return delete t[o],delete t[l],t})},onUpdate:async()=>{const t=e.currentTheme||"",l=f[t]||{},o=(0,d.is)(l,S,N);await T("toc",e.currentTheme,o),b(e=>{const l={...e};return delete l[t],l})},onDelete:()=>{w("toc",e.currentTheme),t({currentTheme:""})},onRename:(e,l)=>{k("toc",e,l),t({currentTheme:l})},onReset:()=>{const l={...D};N.forEach(e=>{"currentTheme"!==e&&delete l[e]}),l.currentTheme=e.currentTheme,t(l);const o=e.currentTheme||"";b(e=>{const t={...e};return delete t[o],t})}})),(0,r.createElement)(c.PanelBody,{title:"TOC Settings",initialOpen:!0},(0,r.createElement)(c.ToggleControl,{label:"Show Title",checked:n,onChange:e=>t({showTitle:e})}),n&&(0,r.createElement)(c.TextControl,{label:"Title Text",value:m,onChange:e=>t({titleText:e})}),(0,r.createElement)(c.ToggleControl,{label:"Collapsible",checked:e.isCollapsible,onChange:e=>t({isCollapsible:e})}),e.isCollapsible&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.ToggleControl,{label:"Initially Collapsed",checked:e.initiallyCollapsed,onChange:e=>t({initiallyCollapsed:e})}),(0,r.createElement)(c.SelectControl,{label:"Click Behavior",value:e.clickBehavior||"navigate",options:[{label:"Navigate to section",value:"navigate"},{label:"Navigate and collapse TOC",value:"navigate-and-collapse"}],onChange:e=>t({clickBehavior:e})}))),(0,r.createElement)(c.PanelBody,{title:"Heading Filter",initialOpen:!1},(0,r.createElement)(c.SelectControl,{label:"Filter Mode",value:e.filterMode,options:[{label:"Include All Headings",value:"include-all"},{label:"Include Only Selected",value:"include-only"},{label:"Exclude Selected",value:"exclude"}],onChange:e=>t({filterMode:e})}),"include-only"===e.filterMode&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",null,(0,r.createElement)("strong",null,"Include Levels:")),[2,3,4,5,6].map(l=>(0,r.createElement)(c.CheckboxControl,{key:l,label:`H${l}`,checked:e.includeLevels.includes(l),onChange:o=>{const n=o?[...e.includeLevels,l]:e.includeLevels.filter(e=>e!==l);t({includeLevels:n})}})),(0,r.createElement)(c.TextControl,{label:"Include Classes (comma-separated)",value:e.includeClasses,onChange:e=>t({includeClasses:e})})),"exclude"===e.filterMode&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",null,(0,r.createElement)("strong",null,"Exclude Levels:")),[2,3,4,5,6].map(l=>(0,r.createElement)(c.CheckboxControl,{key:l,label:`H${l}`,checked:e.excludeLevels.includes(l),onChange:o=>{const n=o?[...e.excludeLevels,l]:e.excludeLevels.filter(e=>e!==l);t({excludeLevels:n})}})),(0,r.createElement)(c.TextControl,{label:"Exclude Classes (comma-separated)",value:e.excludeClasses,onChange:e=>t({excludeClasses:e})})),(0,r.createElement)(c.RangeControl,{label:"Depth Limit (0 = no limit)",value:e.depthLimit||0,onChange:e=>t({depthLimit:0===e?null:e}),min:0,max:6})),(0,r.createElement)(c.PanelBody,{title:"Numbering",initialOpen:!1},(0,r.createElement)(c.SelectControl,{label:"Numbering Style",value:e.numberingStyle,options:[{label:"None",value:"none"},{label:"Decimal (1, 1.1, 1.1.1)",value:"decimal"},{label:"Decimal Leading Zero",value:"decimal-leading-zero"},{label:"Roman Numerals",value:"roman"},{label:"Letters (A, B, C)",value:"letters"}],onChange:e=>t({numberingStyle:e})})),(0,r.createElement)(d.U,{effectiveValues:x,attributes:e,setAttributes:t,blockType:"toc",theme:B,cssDefaults}),(0,r.createElement)(d.ID,{effectiveValues:x,attributes:e,setAttributes:t,blockType:"toc",theme:B,cssDefaults}),(0,r.createElement)(d.i5,{effectiveValues:x,attributes:e,setAttributes:t,blockType:"toc",theme:B,cssDefaults}),(0,r.createElement)(d.$0,{effectiveValues:x,attributes:e,setAttributes:t,blockType:"toc",theme:B,cssDefaults}),L&&(0,r.createElement)("div",{className:"customization-warning-wrapper"},(0,r.createElement)(d.iz,{currentTheme:p,themes:y}))),(0,r.createElement)("div",{...A},n&&(0,r.createElement)("div",{className:"toc-title",style:{fontSize:`${x.titleFontSize||20}px`,fontWeight:x.titleFontWeight||"700",color:x.titleColor||"#333333",textAlign:x.titleAlignment||"left"}},m),0===z.length?(0,r.createElement)("p",{className:"toc-empty-message"},"No headings found. Add H2-H6 headings to your content to populate the table of contents."):(0,r.createElement)("nav",{className:"toc-list-wrapper","aria-label":m||"Table of Contents"},function(e,t,l){if(0===e.length)return null;const o="none"===l.numberingStyle?{}:{listStyleType:"none"};return(0,r.createElement)("ul",{className:`toc-list numbering-${l.numberingStyle}`,style:o},e.map((e,l)=>{const o="toc-item-level-"+(e.level-1),n={color:t.linkColor||"#0073aa",textDecoration:"none"};return(0,r.createElement)("li",{key:l,className:`toc-item ${o}`},(0,r.createElement)("a",{href:`#${e.id||`heading-${l}`}`,className:"toc-link",style:n},e.text))}))}(z,x,e))))},save:function({attributes:e}){const{tocId:t,showTitle:l,titleText:o,isCollapsible:n,initiallyCollapsed:a,filterMode:i,includeLevels:c,includeClasses:d,excludeLevels:u,excludeClasses:p,depthLimit:h,numberingStyle:g,smoothScroll:f,scrollOffset:b,autoHighlight:y,positionType:v,clickBehavior:C}=e,E=function(e,t){const l=["accordion","tabs","toc"];if(!l.includes(e))return console.warn(`[CSS Parser] Invalid block type: ${e}. Must be one of: ${l.join(", ")}`),null;const o=`${e}Defaults`,n=window[o];return n&&"object"==typeof n?t in n?n[t]:null:(console.warn(`[CSS Parser] CSS defaults not found for ${e}. Expected window.${o} to be defined.`),null)}("toc")||{},T=(0,m.lS)(e,null,E),w=function(e){const t={},l=(l,o,n)=>{null!==e[l]&&void 0!==e[l]&&(t[o]=n?n(e[l]):e[l])};return l("wrapperBackgroundColor","--toc-wrapper-background-color"),l("wrapperBorderColor","--toc-wrapper-border-color"),l("linkColor","--toc-link-color"),l("linkHoverColor","--toc-link-hover-color"),l("linkVisitedColor","--toc-link-visited-color"),l("linkActiveColor","--toc-link-active-color"),l("numberingColor","--toc-numbering-color"),l("level1Color","--toc-level1-color"),l("level2Color","--toc-level2-color"),l("level3PlusColor","--toc-level3-plus-color"),l("level1FontSize","--toc-level1-font-size",e=>`${e}px`),l("level1FontWeight","--toc-level1-font-weight"),l("level1FontStyle","--toc-level1-font-style"),l("level1TextTransform","--toc-level1-text-transform"),l("level1TextDecoration","--toc-level1-text-decoration"),l("level2FontSize","--toc-level2-font-size",e=>`${e}px`),l("level2FontWeight","--toc-level2-font-weight"),l("level2FontStyle","--toc-level2-font-style"),l("level2TextTransform","--toc-level2-text-transform"),l("level2TextDecoration","--toc-level2-text-decoration"),l("level3PlusFontSize","--toc-level3-plus-font-size",e=>`${e}px`),l("level3PlusFontWeight","--toc-level3-plus-font-weight"),l("level3PlusFontStyle","--toc-level3-plus-font-style"),l("level3PlusTextTransform","--toc-level3-plus-text-transform"),l("level3PlusTextDecoration","--toc-level3-plus-text-decoration"),l("wrapperBorderWidth","--toc-border-width",e=>`${e}px`),l("wrapperBorderStyle","--toc-border-style"),l("wrapperBorderRadius","--toc-border-radius",e=>`${e}px`),l("wrapperPadding","--toc-wrapper-padding",e=>`${e}px`),l("itemSpacing","--toc-item-spacing",e=>`${e}px`),l("levelIndent","--toc-level-indent",e=>`${e}px`),l("positionTop","--toc-position-top",e=>`${e}px`),l("zIndex","--toc-z-index"),l("wrapperShadow","--toc-wrapper-shadow"),t}(e),k={"data-toc-id":t,"data-filter-mode":i,"data-include-levels":c.join(","),"data-include-classes":d,"data-exclude-levels":u.join(","),"data-exclude-classes":p,"data-depth-limit":h||0,"data-numbering-style":g,"data-smooth-scroll":f,"data-scroll-offset":b,"data-auto-highlight":y,"data-collapsible":n,"data-initially-collapsed":a,"data-position-type":v,"data-click-behavior":C||"navigate"},S=["wp-block-custom-toc",`toc-position-${v}`];if(e.currentTheme){const t=e.currentTheme.replace(/[^a-zA-Z0-9\-]/g,"");S.push(`toc-theme-${t}`)}const x=s.useBlockProps.save({className:S.join(" "),...Object.keys(w).length>0&&{style:w},...k}),B=`toc-toggle-${t}`,D=`toc-content-${t}`;return(0,r.createElement)("div",{...x},l&&!n&&(0,r.createElement)("div",{className:"toc-title",style:{fontSize:`${T.titleFontSize||20}px`,fontWeight:T.titleFontWeight||"700",color:T.titleColor||"#333333",backgroundColor:T.titleBackgroundColor||"transparent",textAlign:T.titleAlignment||"left",padding:`${T.titlePadding||12}px`}},o),l&&n&&(0,r.createElement)("button",{id:B,className:"toc-title toc-toggle-button","aria-expanded":!a,"aria-controls":D,type:"button",style:{fontSize:`${T.titleFontSize||20}px`,fontWeight:T.titleFontWeight||"700",color:T.titleColor||"#333333",backgroundColor:T.titleBackgroundColor||"transparent",textAlign:T.titleAlignment||"left",padding:`${T.titlePadding||12}px`,border:"none",width:"100%",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,r.createElement)("span",null,o),(0,r.createElement)("span",{className:"toc-collapse-icon","aria-hidden":"true",style:{fontSize:`${T.collapseIconSize||20}px`,color:T.collapseIconColor||"#666666"}},"▾")),!l&&n&&(0,r.createElement)("button",{id:B,className:"toc-toggle-button toc-icon-only","aria-expanded":!a,"aria-controls":D,"aria-label":"Toggle Table of Contents",type:"button",style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",cursor:"pointer",fontSize:`${T.collapseIconSize||20}px`,color:T.collapseIconColor||"#666666"}},"▾"),(0,r.createElement)("nav",{id:D,className:"toc-content","aria-label":o||"Table of Contents",style:{display:n&&a?"none":"block"}},(0,r.createElement)("ul",{className:`toc-list numbering-${g}`,style:{listStyleType:"none"===g?"disc":"none",paddingLeft:`${T.listPaddingLeft||24}px`,margin:0}},(0,r.createElement)("li",{className:"toc-placeholder"},"Loading table of contents..."))))}})},715:(e,t,l)=>{l.d(t,{B:()=>o});const o={currentTheme:{type:"string",default:""},uniqueId:{type:"string",default:""},blockId:{type:"string",default:""},accordionId:{type:"string",default:""},initiallyOpen:{type:"boolean",default:!1},headingLevel:{type:"string",default:"none"},useHeadingStyles:{type:"boolean",default:!1},title:{type:"string",default:"Accordion Title"},content:{type:"string",default:""}}},726:(e,t,l)=>{},767:(e,t,l)=>{function o(e){return null!=e}function n(e,t,l,n){return t&&o(t[e])?t[e]:l&&o(l[e])?l[e]:n&&o(n[e])?n[e]:null}function r(e,t,l){const o=new Set;e&&"object"==typeof e&&Object.keys(e).forEach(e=>o.add(e)),t&&"object"==typeof t&&Object.keys(t).forEach(e=>o.add(e)),l&&"object"==typeof l&&Object.keys(l).forEach(e=>o.add(e));const r={};for(const a of o)r[a]=n(a,e,t,l);return r}function a(e,t,l,n){if(!t||!o(t[e]))return!1;const r=t[e];return l&&o(l[e])?"object"==typeof r&&null!==r?JSON.stringify(r)!==JSON.stringify(l[e]):r!==l[e]:!n||!o(n[e])||("object"==typeof r&&null!==r?JSON.stringify(r)!==JSON.stringify(n[e]):r!==n[e])}l.d(t,{MI:()=>a,lS:()=>r})},919:(e,t,l)=>{},957:(e,t,l)=>{l.d(t,{O_:()=>i});var o=l(47),n=l(715);function r(e){const t={};for(const[l,o]of Object.entries(e))o.hasOwnProperty("default")&&(t[l]=o.default);return t}const a={...r(o.f),...r(n.B)};function i(e={}){return{...a,...e}}}},l={};function o(e){var n=l[e];if(void 0!==n)return n.exports;var r=l[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,l,n,r)=>{if(!l){var a=1/0;for(d=0;d<e.length;d++){for(var[l,n,r]=e[d],i=!0,s=0;s<l.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every(e=>o.O[e](l[s]))?l.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,n,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={613:0,847:0,959:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var n,r,[a,i,s]=l,c=0;if(a.some(t=>0!==e[t])){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(s)var d=s(o)}for(t&&t(l);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},l=globalThis.webpackChunkguttemberg_plus=globalThis.webpackChunkguttemberg_plus||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var n=o.O(void 0,[959],()=>o(644));n=o.O(n)})();