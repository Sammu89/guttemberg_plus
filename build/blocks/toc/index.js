(()=>{"use strict";var e,t={47:(e,t,l)=>{l.d(t,{f:()=>o});const o={showIcon:{type:"boolean",default:!0},iconPosition:{type:"string",default:"right"},iconSize:{type:"number",default:null},iconTypeClosed:{type:"string",default:"▾"},iconTypeOpen:{type:"string",default:"none"},iconRotation:{type:"number",default:180}}},63:(e,t,l)=>{l.d(t,{$0:()=>H,ID:()=>I,iz:()=>P,U:()=>M,EF:()=>c,L4:()=>x.L,jQ:()=>R,i5:()=>$,s5:()=>D,is:()=>z,Yz:()=>s.Yz,Ij:()=>B,O_:()=>S.O_,uS:()=>N});const o={color:"#000000",backgroundColor:"#ffffff",borderColor:"#dddddd",fontSize:16,padding:16,margin:8,borderWidth:1,borderRadius:4,fontWeight:"400",fontStyle:"normal",textAlign:"left",textTransform:"none",textDecoration:"none",borderStyle:"solid",boolean:!1,paddingObject:{top:16,right:16,bottom:16,left:16},borderRadiusObject:{topLeft:4,topRight:4,bottomLeft:4,bottomRight:4}};function n(e,t,l=null){return null!=e?e:function(e,t=null){const l=t||function(e){const t=e.toLowerCase();return t.includes("color")||t.includes("colour")?"color":t.includes("size")||t.includes("width")||t.includes("height")||t.includes("thickness")||"iconrotation"===t?"number":t.includes("padding")||t.includes("margin")||t.includes("radius")?"object":t.startsWith("show")||t.startsWith("enable")||t.startsWith("disable")||t.startsWith("is")||t.startsWith("allow")?"boolean":"string"}(e);switch(l){case"color":return e.includes("Background")||e.includes("Bg")?o.backgroundColor:e.includes("Border")?o.borderColor:o.color;case"number":return e.includes("FontSize")||e.includes("Size")?o.fontSize:e.includes("Padding")?o.padding:e.includes("Margin")?o.margin:e.includes("BorderWidth")||e.includes("Thickness")?o.borderWidth:e.includes("Radius")?o.borderRadius:0;case"boolean":return o.boolean;case"object":return e.includes("Padding")||e.includes("Margin")?o.paddingObject:e.includes("Radius")?o.borderRadiusObject:{};default:return e.includes("FontWeight")?o.fontWeight:e.includes("FontStyle")?o.fontStyle:e.includes("Alignment")||e.includes("Align")?o.textAlign:e.includes("Transform")?o.textTransform:e.includes("Decoration")?o.textDecoration:e.includes("BorderStyle")?o.borderStyle:""}}(t,l)}var a=l(143);const r=window.wp.apiFetch;var i=l.n(r),s=l(631);const c="gutenberg-blocks/themes",d={accordionThemes:{},tabsThemes:{},tocThemes:{},themesLoaded:{accordion:!1,tabs:!1,toc:!1},isLoading:!1,error:null},u="SET_THEMES",m="SET_LOADING",p="SET_ERROR",h="THEME_CREATED",g="THEME_UPDATED",f="THEME_DELETED",b="THEME_RENAMED";function y(e){return`${e}Themes`}const v={*loadThemes(e){yield v.setLoading(!0),yield v.setError(null);try{const t=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}`,method:"GET"}};return{type:u,blockType:e,themes:t}}catch(e){return yield v.setError(e.message),{type:"LOAD_THEMES_ERROR"}}finally{yield v.setLoading(!1)}},*createTheme(e,t,l){(0,s.Yz)("[REDUX DEBUG] createTheme action called:",{blockType:e,name:t,values:l}),yield v.setLoading(!0),yield v.setError(null);try{const o=yield{type:"API_FETCH",request:{path:"/gutenberg-blocks/v1/themes",method:"POST",data:{blockType:e,name:t,values:l}}};(0,s.Yz)("[REDUX DEBUG] API returned theme:",o);const n={type:h,blockType:e,theme:o};return(0,s.Yz)("[REDUX DEBUG] Dispatching THEME_CREATED action:",n),n}catch(e){throw console.error("[REDUX DEBUG] createTheme error:",e),yield v.setError(e.message),e}finally{yield v.setLoading(!1)}},*updateTheme(e,t,l){yield v.setLoading(!0),yield v.setError(null);try{const o=yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"PUT",data:{values:l}}};return{type:g,blockType:e,theme:o}}catch(e){throw yield v.setError(e.message),e}finally{yield v.setLoading(!1)}},*deleteTheme(e,t){yield v.setLoading(!0),yield v.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}`,method:"DELETE"}},{type:f,blockType:e,themeName:t}}catch(e){throw yield v.setError(e.message),e}finally{yield v.setLoading(!1)}},*renameTheme(e,t,l){yield v.setLoading(!0),yield v.setError(null);try{return yield{type:"API_FETCH",request:{path:`/gutenberg-blocks/v1/themes/${e}/${encodeURIComponent(t)}/rename`,method:"POST",data:{newName:l}}},{type:b,blockType:e,oldName:t,newName:l}}catch(e){throw yield v.setError(e.message),e}finally{yield v.setLoading(!1)}},setLoading:e=>({type:m,isLoading:e}),setError:e=>({type:p,error:e})},E={getThemes:(e,t)=>e[y(t)]||{},getTheme:(e,t,l)=>E.getThemes(e,t)[l]||null,hasTheme:(e,t,l)=>null!==E.getTheme(e,t,l),isLoading:e=>e.isLoading,getError:e=>e.error,areThemesLoaded:(e,t)=>e.themesLoaded?.[t]||!1,getThemeNames(e,t){const l=E.getThemes(e,t);return Object.keys(l)}},C={API_FETCH:({request:e})=>i()(e)},T=(0,a.createReduxStore)(c,{reducer:(e=d,t)=>{switch(t.type){case u:{const l=y(t.blockType);return{...e,[l]:t.themes,themesLoaded:{...e.themesLoaded,[t.blockType]:!0}}}case m:return{...e,isLoading:t.isLoading};case p:return{...e,error:t.error};case h:{const l=y(t.blockType);if((0,s.Yz)("[REDUCER DEBUG] THEME_CREATED reducer called"),(0,s.Yz)("[REDUCER DEBUG] Action:",t),(0,s.Yz)("[REDUCER DEBUG] State key:",l),(0,s.Yz)("[REDUCER DEBUG] Previous state:",e),!t.theme||!t.theme.name)return console.error("[Theme Store] THEME_CREATED: Invalid theme object",t),e;const o={...e,[l]:{...e[l],[t.theme.name]:t.theme}};return(0,s.Yz)("[REDUCER DEBUG] New state after THEME_CREATED:",o),o}case g:{const l=y(t.blockType);return t.theme&&t.theme.name?{...e,[l]:{...e[l],[t.theme.name]:t.theme}}:(console.error("[Theme Store] THEME_UPDATED: Invalid theme object",t),e)}case f:{const l=y(t.blockType),o={...e[l]};return delete o[t.themeName],{...e,[l]:o}}case b:{const l=y(t.blockType),o={...e[l]},n=o[t.oldName];return delete o[t.oldName],o[t.newName]={...n,name:t.newName},{...e,[l]:o}}default:return e}},actions:v,selectors:E,controls:C});if(!wp.data.select(c))try{(0,a.register)(T)}catch(e){throw console.error("[Theme Store] Registration error:",e),e}var x=l(441),S=(l(919),l(235),l(726),l(313),l(47),l(715),l(957));const w="0123456789abcdefghijklmnopqrstuvwxyz",k=new Set;function B(e="block"){if("string"!=typeof e||0===e.length)throw new Error("Prefix must be a non-empty string.");let t,l=0;do{let o="";for(let e=0;e<4;e++){const e=Math.floor(Math.random()*w.length);o+=w[e]}if(t=`${e}-${o}`,l++,l>=1e3)throw new Error("Failed to generate unique ID after 1000 attempts.")}while(k.has(t));return k.add(t),t}function z(e,t,l=[]){const o={};for(const[n,a]of Object.entries(e)){if(l.includes(n))continue;if(null==a)continue;const e=t[n];let r=!1;r="object"!=typeof a||null===a||Array.isArray(a)?a!==e:JSON.stringify(a)!==JSON.stringify(e),r&&(o[n]=a)}return o}function D(e,t){return{...e,...t}}function N(e,t=[]){const l={};for(const[o,n]of Object.entries(e))t.includes(o)||void 0===n||(l[o]=n);return l}var L=l(609),O=l(427),A=l(87);function R({blockType:e,currentTheme:t,setAttributes:l,isCustomized:o,themes:n={},themesLoaded:a=!1,attributes:r={},effectiveValues:i={},onChange:c,onSaveNew:d,onUpdate:u,onDelete:m,onRename:p,onReset:h,onThemeChange:g,sessionCache:f={}}){(0,s.Yz)("[DEBUG] ThemeSelector props received:"),(0,s.Yz)("  blockType:",e),(0,s.Yz)("  currentTheme:",t),(0,s.Yz)("  themes:",n),(0,s.Yz)("  onSaveNew type:",typeof d),(0,s.Yz)("  onUpdate type:",typeof u),(0,s.Yz)("  onDelete type:",typeof m),(0,s.Yz)("  onRename type:",typeof p),(0,s.Yz)("  onReset type:",typeof h);const[b,y]=(0,A.useState)(!1),[v,E]=(0,A.useState)(!1),[C,T]=(0,A.useState)("");(0,A.useEffect)(()=>{(0,s.Yz)("[THEME SELECTOR] currentTheme prop changed to:",t),(0,s.Yz)("[THEME SELECTOR] isCustomized:",o);const e=o?""===t?"::customized":`${t}::customized`:t;(0,s.Yz)("[THEME SELECTOR] Dropdown will show:",e)},[t,o]);const x=[];x.push({label:"Default",value:""}),f[""]&&x.push({label:"Default (customized)",value:"::customized"}),Object.keys(n||{}).forEach(e=>{x.push({label:e,value:e}),f[e]&&x.push({label:`${e} (customized)`,value:`${e}::customized`})});const S=o?""===t?"::customized":`${t}::customized`:t;return(0,L.createElement)("div",{className:"theme-selector"},(0,L.createElement)(O.SelectControl,{label:"Theme",value:S,options:x,onChange:e=>{const t=e.endsWith("::customized"),o=t?e.replace("::customized",""):e;g?g(o,t):l?l({currentTheme:o}):c&&c(o)},__next40pxDefaultSize:!0}),(0,L.createElement)("div",{className:"theme-actions",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"12px"}},(0,L.createElement)(O.Button,{size:"small",variant:"secondary",onClick:()=>y(!0),disabled:!o},"Save as New Theme"),(0,L.createElement)(O.Button,{size:"small",variant:"secondary",onClick:u,disabled:!o||""===t},"Update Theme"),(0,L.createElement)(O.Button,{size:"small",variant:"secondary",onClick:()=>E(!0),disabled:""===t},"Rename"),(0,L.createElement)(O.Button,{size:"small",variant:"secondary",onClick:m,disabled:""===t,isDestructive:!0},"Delete"),(0,L.createElement)(O.Button,{size:"small",variant:"tertiary",onClick:h,disabled:!o,style:{gridColumn:"1 / -1"}},"Reset Modifications")),b&&(0,L.createElement)(O.Modal,{title:"Create New Theme",onRequestClose:()=>y(!1)},(0,L.createElement)(O.TextControl,{label:"Theme Name",value:C,onChange:T,placeholder:"Enter theme name",__nextHasNoMarginBottom:!0}),(0,L.createElement)(O.Button,{variant:"primary",onClick:()=>{d(C),y(!1),T("")}},"Create Theme")),v&&(0,L.createElement)(O.Modal,{title:"Rename Theme",onRequestClose:()=>E(!1)},(0,L.createElement)(O.TextControl,{label:"New Theme Name",value:C,onChange:T,placeholder:t,__nextHasNoMarginBottom:!0}),(0,L.createElement)(O.Button,{variant:"primary",onClick:()=>{p(t,C),E(!1),T("")}},"Rename")))}function F({label:e,value:t,onChange:l,disableAlpha:o=!1,help:n=""}){const[a,r]=(0,A.useState)(!1),[i,s]=(0,A.useState)(t),[c,d]=(0,A.useState)(t),u=(0,A.useRef)(null);(0,A.useEffect)(()=>{!a&&t&&(s(t),d(t))},[t,a]);const m=e=>{let l;l="string"==typeof e?e:e.hex?e.hex:"hex"===e.source?"#"+e.hex:t,s(l)},p=()=>{s(c),r(!1)},h=i;return(0,L.createElement)(O.BaseControl,{label:e,help:n,className:"compact-color-control"},(0,L.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"}},(0,L.createElement)("div",{style:{width:"32px",height:"32px",backgroundColor:h,border:"1px solid #ddd",borderRadius:"4px",flexShrink:0}}),(0,L.createElement)("div",{style:{flex:1}},(0,L.createElement)(O.TextControl,{value:h||"",onChange:e=>{l(e),s(e)},placeholder:"Color value",style:{marginBottom:0},__nextHasNoMarginBottom:!0})),(0,L.createElement)(O.Button,{ref:u,variant:"secondary",onClick:()=>{d(t),s(t),r(!0)},"aria-expanded":a},"Choose color")),a&&(0,L.createElement)(O.Popover,{anchor:u.current,position:"bottom right",onClose:p,focusOnMount:!1,noArrow:!1},(0,L.createElement)("div",{style:{padding:"16px"}},(0,L.createElement)(O.ColorPicker,{color:i,onChange:m,onChangeComplete:m,disableAlpha:o,enableAlpha:!o}),(0,L.createElement)("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",gap:"8px",borderTop:"1px solid #ddd",paddingTop:"12px"}},(0,L.createElement)(O.Button,{variant:"tertiary",onClick:p},"Cancel"),(0,L.createElement)(O.Button,{variant:"primary",onClick:()=>{l(i),r(!1)}},"OK")))))}var _=l(767);function M({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:a,cssDefaults:r={},initialOpen:i=!1,showActiveState:s=!0}){const c=({label:o,attrName:i})=>{const s=(e=>(0,_.MI)(e,t,a,r))(i)?`${o} (Customized)`:o,c=n(e[i],i,"color");return(0,L.createElement)(F,{label:s,value:c,onChange:e=>((e,t)=>{l&&l({[e]:t})})(i,e),disableAlpha:!1})};return(0,L.createElement)(O.PanelBody,{title:"Header Colors",initialOpen:i},(0,L.createElement)(c,{label:"Title Text Color",attrName:"titleColor"}),(0,L.createElement)(c,{label:"Title Background Color",attrName:"titleBackgroundColor"}),(0,L.createElement)(c,{label:"Hover Title Text Color",attrName:"hoverTitleColor"}),(0,L.createElement)(c,{label:"Hover Title Background",attrName:"hoverTitleBackgroundColor"}),s&&(0,L.createElement)(L.Fragment,null,(0,L.createElement)(c,{label:"Active Title Text Color",attrName:"activeTitleColor"}),(0,L.createElement)(c,{label:"Active Title Background",attrName:"activeTitleBackgroundColor"})))}function I({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:a,cssDefaults:r={},initialOpen:i=!1}){const s=({label:o,attrName:i})=>{const s=(e=>(0,_.MI)(e,t,a,r))(i)?`${o} (Customized)`:o,c=n(e[i],i,"color");return(0,L.createElement)(F,{label:s,value:c,onChange:e=>((e,t)=>{l&&l({[e]:t})})(i,e),disableAlpha:!1})};return(0,L.createElement)(O.PanelBody,{title:"Content Colors",initialOpen:i},(0,L.createElement)(s,{label:"Content Text Color",attrName:"contentColor"}),(0,L.createElement)(s,{label:"Content Background Color",attrName:"contentBackgroundColor"}))}function $({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:n,cssDefaults:a={},onChange:r,initialOpen:i=!1}){const s=(e,t)=>{l?l({[e]:t}):r&&r(e,t)},c=({label:e,attrName:l})=>(0,L.createElement)("span",null,e,(e=>(0,_.MI)(e,t,n,a))(l)&&(0,L.createElement)("span",{className:"customization-badge"}," (Customized)"));return(0,L.createElement)(O.PanelBody,{title:"Title",initialOpen:i},(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(c,{label:"Heading Level",attrName:"headingLevel"}),value:e.headingLevel||"none",options:[{label:"None",value:"none"},{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:e=>s("headingLevel",e),__next40pxDefaultSize:!0}),(0,L.createElement)(O.RangeControl,{label:(0,L.createElement)(c,{label:"Font Size",attrName:"titleFontSize"}),value:e.titleFontSize||16,onChange:e=>s("titleFontSize",e),min:12,max:48}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(c,{label:"Font Weight",attrName:"titleFontWeight"}),value:e.titleFontWeight||"600",options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"},{label:"100",value:"100"},{label:"200",value:"200"},{label:"300",value:"300"},{label:"400",value:"400"},{label:"500",value:"500"},{label:"600",value:"600"},{label:"700",value:"700"},{label:"800",value:"800"},{label:"900",value:"900"}],onChange:e=>s("titleFontWeight",e),__next40pxDefaultSize:!0}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(c,{label:"Font Style",attrName:"titleFontStyle"}),value:e.titleFontStyle||"normal",options:[{label:"Normal",value:"normal"},{label:"Italic",value:"italic"},{label:"Oblique",value:"oblique"}],onChange:e=>s("titleFontStyle",e),__next40pxDefaultSize:!0}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(c,{label:"Text Transform",attrName:"titleTextTransform"}),value:e.titleTextTransform||"none",options:[{label:"None",value:"none"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"},{label:"Capitalize",value:"capitalize"}],onChange:e=>s("titleTextTransform",e),__next40pxDefaultSize:!0}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(c,{label:"Text Decoration",attrName:"titleTextDecoration"}),value:e.titleTextDecoration||"none",options:[{label:"None",value:"none"},{label:"Underline",value:"underline"},{label:"Overline",value:"overline"},{label:"Line Through",value:"line-through"}],onChange:e=>s("titleTextDecoration",e),__next40pxDefaultSize:!0}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(c,{label:"Text Alignment",attrName:"titleAlignment"}),value:e.titleAlignment||"left",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>s("titleAlignment",e),__next40pxDefaultSize:!0}))}function H({effectiveValues:e={},attributes:t={},setAttributes:l,blockType:o,theme:a,cssDefaults:r={},onChange:i,initialOpen:s=!1}){const c=(e,t)=>{l?l({[e]:t}):i&&i(e,t)},d=(e,l,o)=>{const n={...t[e]||{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0},[l]:o};c(e,n)},u=e=>(0,_.MI)(e,t,a,r),m=({label:e,attrName:t})=>(0,L.createElement)("span",null,e,u(t)&&(0,L.createElement)("span",{className:"customization-badge"}," (Customized)")),p="accordion"===o?{title:"Accordion Border",color:"accordionBorderColor",thickness:"accordionBorderThickness",style:"accordionBorderStyle",radius:"accordionBorderRadius",shadow:"accordionShadow"}:"tabs"===o?{title:"Tab Button Border",color:"tabBorderColor",thickness:"tabBorderThickness",style:"tabBorderStyle",radius:"tabBorderRadius",shadow:"tabShadow"}:{title:"Wrapper Border",color:"wrapperBorderColor",thickness:"wrapperBorderWidth",style:"wrapperBorderStyle",radius:"wrapperBorderRadius",shadow:"wrapperShadow"},h=e[p.radius]||{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0};return(0,L.createElement)(O.PanelBody,{title:"Border",initialOpen:s},(0,L.createElement)("h3",null,p.title),(0,L.createElement)(F,{label:u(p.color)?"Color (Customized)":"Color",value:n(e[p.color],p.color,"color"),onChange:e=>c(p.color,e)}),(0,L.createElement)(O.RangeControl,{label:(0,L.createElement)(m,{label:"Thickness (px)",attrName:p.thickness}),value:e[p.thickness]||1,onChange:e=>c(p.thickness,e),min:0,max:10}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(m,{label:"Style",attrName:p.style}),value:e[p.style]||"solid",options:[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],onChange:e=>c(p.style,e),__next40pxDefaultSize:!0}),(0,L.createElement)("hr",{style:{margin:"16px 0"}}),(0,L.createElement)("h4",{style:{margin:"0 0 12px 0",fontSize:"13px"}},"Border Radius",u(p.radius)&&(0,L.createElement)("span",{className:"customization-badge"}," (Customized)")),(0,L.createElement)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"12px"}},"Set individual radius for each corner (0-60px)"),(0,L.createElement)(O.RangeControl,{label:"Top Left (px)",value:h.topLeft||0,onChange:e=>d(p.radius,"topLeft",e),min:0,max:60}),(0,L.createElement)(O.RangeControl,{label:"Top Right (px)",value:h.topRight||0,onChange:e=>d(p.radius,"topRight",e),min:0,max:60}),(0,L.createElement)(O.RangeControl,{label:"Bottom Right (px)",value:h.bottomRight||0,onChange:e=>d(p.radius,"bottomRight",e),min:0,max:60}),(0,L.createElement)(O.RangeControl,{label:"Bottom Left (px)",value:h.bottomLeft||0,onChange:e=>d(p.radius,"bottomLeft",e),min:0,max:60}),(0,L.createElement)(O.TextControl,{label:(0,L.createElement)(m,{label:"Shadow",attrName:p.shadow}),value:e[p.shadow]||"none",onChange:e=>c(p.shadow,e),help:"CSS box-shadow value (e.g. '0 2px 4px rgba(0,0,0,0.1)')",__nextHasNoMarginBottom:!0}),"toc"!==o&&(0,L.createElement)(L.Fragment,null,(0,L.createElement)("hr",null),(0,L.createElement)("h3",null,"Divider Border"),(0,L.createElement)(F,{label:u("accordion"===o?"dividerBorderColor":"dividerColor")?"Color (Customized)":"Color",value:n(e["accordion"===o?"dividerBorderColor":"dividerColor"],"accordion"===o?"dividerBorderColor":"dividerColor","color"),onChange:e=>c("accordion"===o?"dividerBorderColor":"dividerColor",e)}),(0,L.createElement)(O.RangeControl,{label:(0,L.createElement)(m,{label:"Thickness (px)",attrName:"accordion"===o?"dividerBorderThickness":"dividerThickness"}),value:e["accordion"===o?"dividerBorderThickness":"dividerThickness"]||0,onChange:e=>c("accordion"===o?"dividerBorderThickness":"dividerThickness",e),min:0,max:10}),(0,L.createElement)(O.SelectControl,{label:(0,L.createElement)(m,{label:"Style",attrName:"accordion"===o?"dividerBorderStyle":"dividerStyle"}),value:e["accordion"===o?"dividerBorderStyle":"dividerStyle"]||"solid",options:[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],onChange:e=>c("accordion"===o?"dividerBorderStyle":"dividerStyle",e),__next40pxDefaultSize:!0})))}function P({currentTheme:e,themes:t={}}){const l=t&&t[e]?t[e]:null;(0,s.Yz)("[DEBUG] CustomizationWarning - currentTheme:",e),(0,s.Yz)("[DEBUG] CustomizationWarning - themes:",t),(0,s.Yz)("[DEBUG] CustomizationWarning - theme object:",l),(0,s.Yz)("[DEBUG] CustomizationWarning - theme?.name:",l?.name);const o=l?.name||e||"Default",n="Default"===o||""===e;return(0,s.Yz)("[DEBUG] CustomizationWarning - final themeName:",o),(0,s.Yz)("[DEBUG] CustomizationWarning - isDefaultTheme:",n),(0,L.createElement)(O.Notice,{status:"warning",isDismissible:!1,style:{marginTop:"50px",marginBottom:"50px"}},(0,L.createElement)("p",null,(0,L.createElement)("strong",null,"Note:")," This block has custom modifications."),n?(0,L.createElement)(L.Fragment,null,(0,L.createElement)("p",null,(0,L.createElement)("strong",null,"Default")," theme cannot be changed."),(0,L.createElement)("p",null,"To keep your customizations permanently and reuse them across multiple blocks, use ",(0,L.createElement)("strong",null,"Save as New Theme"),"."),(0,L.createElement)("p",null,"To remove all changes and return to the original ",(0,L.createElement)("strong",null,"Default")," settings, use ",(0,L.createElement)("strong",null,"Reset Modifications"),".")):(0,L.createElement)(L.Fragment,null,(0,L.createElement)("p",null,"You're currently using ",(0,L.createElement)("strong",null,o)," with changes applied specifically to this block. If you update ",(0,L.createElement)("strong",null,o),", any parts of the theme that aren't overridden by your customizations will change accordingly."),(0,L.createElement)("p",null,"To keep your customizations permanently and reuse them across multiple blocks, use ",(0,L.createElement)("strong",null,"Save as New Theme")," or ",(0,L.createElement)("strong",null,"Update Theme"),"."),(0,L.createElement)("p",null,"To remove all changes and return to the original ",(0,L.createElement)("strong",null,o)," settings, use ",(0,L.createElement)("strong",null,"Reset Modifications"),".")))}},87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},235:(e,t,l)=>{},313:(e,t,l)=>{},427:e=>{e.exports=window.wp.components},441:(e,t,l)=>{l.d(t,{L:()=>o});const o=["tocId","showTitle","currentTheme","titleText","filterMode","includeLevels","includeClasses","excludeLevels","excludeClasses","depthLimit","numberingStyle","isCollapsible","initiallyCollapsed","positionType","smoothScroll","scrollOffset","autoHighlight","clickBehavior"]},609:e=>{e.exports=window.React},631:(e,t,l)=>{l.d(t,{Yz:()=>a});const o=()=>"undefined"!=typeof window&&!0===window.WP_DEBUG,n=()=>"undefined"!=typeof window&&!0===window.GUTTEMBERG_DEBUG_VERBOSE;function a(...e){o()&&n()&&console.log(...e)}},715:(e,t,l)=>{l.d(t,{B:()=>o});const o={currentTheme:{type:"string",default:""},uniqueId:{type:"string",default:""},blockId:{type:"string",default:""},accordionId:{type:"string",default:""},initiallyOpen:{type:"boolean",default:!1},headingLevel:{type:"string",default:"none"},useHeadingStyles:{type:"boolean",default:!1},title:{type:"string",default:"Accordion Title"},content:{type:"string",default:""}}},726:(e,t,l)=>{},767:(e,t,l)=>{function o(e){return null!=e}function n(e,t,l,n){return t&&o(t[e])?t[e]:l&&o(l[e])?l[e]:n&&o(n[e])?n[e]:null}function a(e,t,l){const o=new Set;e&&"object"==typeof e&&Object.keys(e).forEach(e=>o.add(e)),t&&"object"==typeof t&&Object.keys(t).forEach(e=>o.add(e)),l&&"object"==typeof l&&Object.keys(l).forEach(e=>o.add(e));const a={};for(const r of o)a[r]=n(r,e,t,l);return a}function r(e,t,l,n){if(!t||!o(t[e]))return!1;const a=t[e];return l&&o(l[e])?"object"==typeof a&&null!==a?JSON.stringify(a)!==JSON.stringify(l[e]):a!==l[e]:!n||!o(n[e])||("object"==typeof a&&null!==a?JSON.stringify(a)!==JSON.stringify(n[e]):a!==n[e])}l.d(t,{MI:()=>r,lS:()=>a})},802:(e,t,l)=>{const o=window.wp.blocks,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom/toc","title":"Table of Contents","category":"design","icon":"list-view","description":"Automatically generates a navigable table of contents from post headings.","keywords":["toc","table of contents","navigation","headings"],"supports":{"html":false,"multiple":true},"textdomain":"guttemberg-plus","editorScript":"file:../../build/blocks/toc/index.js"}');var a=l(609),r=l(87),i=l(143);const s=window.ReactDOM,c=window.wp.blockEditor;var d=l(427),u=l(63);function m(e){const t={};return e.wrapperBackgroundColor&&(t["--toc-wrapper-background-color"]=e.wrapperBackgroundColor),e.wrapperBorderColor&&(t["--toc-wrapper-border-color"]=e.wrapperBorderColor),e.linkColor&&(t["--toc-link-color"]=e.linkColor),e.linkHoverColor&&(t["--toc-link-hover-color"]=e.linkHoverColor),e.wrapperBorderWidth&&(t["--toc-border-width"]=`${e.wrapperBorderWidth}px`),e.wrapperBorderStyle&&(t["--toc-border-style"]=e.wrapperBorderStyle),e.wrapperBorderRadius&&(t["--toc-border-radius"]=`${e.wrapperBorderRadius}px`),e.wrapperPadding&&(t["--toc-wrapper-padding"]=`${e.wrapperPadding}px`),e.wrapperShadow&&(t["--toc-wrapper-shadow"]=e.wrapperShadow),t}var p=l(767);l(919),l(235),l(726),l(313),l(47);var h=l(715);l(957);const g={tocId:{type:"string",default:""},showTitle:{type:"boolean",default:!0},titleText:{type:"string",default:"Table of Contents"},...h.B,filterMode:{type:"string",default:"include-all"},includeLevels:{type:"array",default:[2,3,4,5,6]},includeClasses:{type:"string",default:""},excludeLevels:{type:"array",default:[]},excludeClasses:{type:"string",default:""},depthLimit:{type:"number",default:null},numberingStyle:{type:"string",default:"none"},numberingColor:{type:"string",default:null},isCollapsible:{type:"boolean",default:!1},initiallyCollapsed:{type:"boolean",default:!1},collapseIconSize:{type:"number",default:null},collapseIconColor:{type:"string",default:null},level1FontSize:{type:"number",default:null},level1FontWeight:{type:"string",default:null},level1FontStyle:{type:"string",default:null},level1TextTransform:{type:"string",default:null},level1TextDecoration:{type:"string",default:null},level1Color:{type:"string",default:null},level2FontSize:{type:"number",default:null},level2FontWeight:{type:"string",default:null},level2FontStyle:{type:"string",default:null},level2TextTransform:{type:"string",default:null},level2TextDecoration:{type:"string",default:null},level2Color:{type:"string",default:null},level3PlusFontSize:{type:"number",default:null},level3PlusFontWeight:{type:"string",default:null},level3PlusFontStyle:{type:"string",default:null},level3PlusTextTransform:{type:"string",default:null},level3PlusTextDecoration:{type:"string",default:null},level3PlusColor:{type:"string",default:null},titleFontSize:{type:"number",default:null},titleFontWeight:{type:"string",default:null},titleColor:{type:"string",default:null},titleTextTransform:{type:"string",default:null},titleAlignment:{type:"string",default:null},titleBackgroundColor:{type:"string",default:null},wrapperBackgroundColor:{type:"string",default:null},wrapperBorderColor:{type:"string",default:null},linkColor:{type:"string",default:null},linkHoverColor:{type:"string",default:null},linkActiveColor:{type:"string",default:null},linkVisitedColor:{type:"string",default:null},wrapperBorderWidth:{type:"number",default:null},wrapperBorderStyle:{type:"string",default:null},wrapperBorderRadius:{type:"number",default:null},wrapperShadow:{type:"string",default:null},wrapperPadding:{type:"number",default:null},listPaddingLeft:{type:"number",default:null},itemSpacing:{type:"number",default:null},levelIndent:{type:"number",default:null},positionType:{type:"string",default:"block"},positionTop:{type:"number",default:null},zIndex:{type:"number",default:null},smoothScroll:{type:"boolean",default:!0},scrollOffset:{type:"number",default:0},autoHighlight:{type:"boolean",default:!0},clickBehavior:{type:"string",default:"navigate"}};function f(){const e=document.querySelectorAll(".wp-block-custom-toc");e&&0!==e.length&&e.forEach(e=>{try{if(!e)return;const t=e.getAttribute("data-toc-id");if(!t)return void console.warn("TOC block missing data-toc-id attribute, skipping");const l={tocId:t,filterMode:e.getAttribute("data-filter-mode")||"include-all",includeLevels:(e.getAttribute("data-include-levels")||"2,3,4,5,6").split(",").map(Number),includeClasses:e.getAttribute("data-include-classes")||"",excludeLevels:(e.getAttribute("data-exclude-levels")||"").split(",").map(Number).filter(Boolean),excludeClasses:e.getAttribute("data-exclude-classes")||"",depthLimit:parseInt(e.getAttribute("data-depth-limit")||"0",10)||null,numberingStyle:e.getAttribute("data-numbering-style")||"none",smoothScroll:"true"===e.getAttribute("data-smooth-scroll"),scrollOffset:parseInt(e.getAttribute("data-scroll-offset")||"0",10),autoHighlight:"true"===e.getAttribute("data-auto-highlight"),isCollapsible:"true"===e.getAttribute("data-collapsible"),initiallyCollapsed:"true"===e.getAttribute("data-initially-collapsed"),clickBehavior:e.getAttribute("data-click-behavior")||"navigate"};!function(e,t){if(e&&t)try{const l=function(e,t){const l=document.querySelector(".entry-content, main, article, body");if(!l)return[];const o=l.querySelectorAll("h2, h3, h4, h5, h6"),n=[];if(o.forEach(e=>{if(e.closest(".wp-block-custom-toc"))return;const l=parseInt(e.tagName.charAt(1),10),o=e.textContent.trim(),a=e.id||"",r=Array.from(e.classList);(function(e,t){const{filterMode:l,includeLevels:o,includeClasses:n,excludeLevels:a,excludeClasses:r}=t;if("include-only"===l){const t=o.includes(e.level),l=!!n&&n.split(",").some(t=>e.classes.includes(t.trim()));return t||l}return"exclude"!==l||!a.includes(e.level)&&(!r||!r.split(",").some(t=>e.classes.includes(t.trim())))})({level:l,classes:r},t)&&n.push({level:l,text:o,id:a,classes:r,element:e})}),t.depthLimit){const e=Math.min(...n.map(e=>e.level));return n.filter(l=>l.level-e<t.depthLimit)}return n}(0,t);if(!l)return void console.warn("Failed to detect headings");l.forEach((e,l)=>{try{e&&e.element&&!e.element.id&&(e.element.id=`heading-${t.tocId}-${l}`,e.id=e.element.id)}catch(e){console.error("Failed to add ID to heading:",e)}});const o=e.querySelector(".toc-list");if(o)try{!function(e,t){if(e.innerHTML="",0===t.length)return void(e.innerHTML='<li class="toc-empty">No headings found.</li>');const l=document.createDocumentFragment();t.forEach(e=>{const t=document.createElement("li");t.className=`toc-item toc-item-level-${e.level}`;const o=document.createElement("a");o.href=`#${e.id}`,o.className="toc-link",o.textContent=e.text,o.setAttribute("data-heading-id",e.id),t.appendChild(o),l.appendChild(t)}),e.appendChild(l)}(o,l)}catch(e){console.error("Failed to render TOC list:",e)}if(t.smoothScroll)try{!function(e,t){if(!e||!t)return;const l=e.querySelectorAll(".toc-link");l&&0!==l.length&&l.forEach(l=>{l&&l.addEventListener("click",o=>{try{o.preventDefault();const n=l.getAttribute("href");if(!n||n.length<=1)return void console.warn("Invalid TOC link href");const a=n.slice(1),r=document.getElementById(a);if(!r)return void console.warn("TOC target element not found:",a);const i=r.getBoundingClientRect().top+window.pageYOffset-t.scrollOffset;window.scrollTo({top:i,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${a}`):window.location.hash=a,r.focus({preventScroll:!0}),"navigate-and-collapse"===t.clickBehavior&&t.isCollapsible&&setTimeout(()=>{try{const t=e.querySelector(".toc-toggle-button"),l=e.querySelector(".toc-content"),o=e.querySelector(".toc-collapse-icon");t&&l&&(l.style.display="none",t.setAttribute("aria-expanded","false"),o&&(o.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to collapse TOC:",e)}},600)}catch(e){console.error("Failed to handle smooth scroll:",e)}})})}(e,t)}catch(e){console.error("Failed to setup smooth scroll:",e)}if(t.autoHighlight)try{!function(e,t){if(!e||!t||0===t.length)return;const l=e.querySelectorAll(".toc-link");if(!l||0===l.length)return;const o=t.map(e=>e.element).filter(e=>e);if(0===o.length)return;const n=()=>{l.forEach(e=>{e&&e.classList.remove("active")})};let a=!1;const r=()=>{a||(window.requestAnimationFrame(()=>{try{const t=window.pageYOffset+100;let l=null;for(let e=o.length-1;e>=0;e--){const n=o[e];if(n&&void 0!==n.offsetTop&&t>=n.offsetTop){l=n;break}}l&&l.id?(t=>{if(!t)return;n();const l=e.querySelector(`.toc-link[data-heading-id="${t}"]`);l&&l.classList.add("active")})(l.id):n()}catch(e){console.error("Scroll spy error:",e)}a=!1}),a=!0)};try{r()}catch(e){console.error("Initial scroll spy check failed:",e)}window.addEventListener("scroll",r,{passive:!0})}(e,l)}catch(e){console.error("Failed to setup scroll spy:",e)}if(t.isCollapsible)try{!function(e,t){if(!e||!t)return;const l=e.querySelector(".toc-toggle-button"),o=e.querySelector(".toc-content"),n=e.querySelector(".toc-collapse-icon");if(!l||!o)return void console.warn("TOC collapsible elements not found");const a=t.initiallyCollapsed;o.style.display=a?"none":"block",l.setAttribute("aria-expanded",!a);const r=()=>{try{"none"===o.style.display?(o.style.display="block",l.setAttribute("aria-expanded","true"),n&&(n.style.transform="rotate(0deg)")):(o.style.display="none",l.setAttribute("aria-expanded","false"),n&&(n.style.transform="rotate(-90deg)"))}catch(e){console.error("Failed to toggle TOC:",e)}};l.addEventListener("click",r),l.addEventListener("keydown",e=>{e&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r()))})}(e,t)}catch(e){console.error("Failed to setup collapsible:",e)}}catch(e){console.error("Failed to initialize TOC:",e)}else console.warn("Invalid block or config in initTOC")}(e,l)}catch(e){console.error("Failed to initialize TOC block:",e)}})}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",()=>{try{f()}catch(e){console.error("TOC block initialization failed:",e)}});else try{f()}catch(e){console.error("TOC block initialization failed:",e)}(0,o.registerBlockType)(n.name,{...n,attributes:g,edit:function({attributes:e,setAttributes:t,clientId:l}){(0,u.Yz)("[DEBUG] TOC Edit mounted with attributes:",e);const{tocId:o,showTitle:n,titleText:p,currentTheme:h}=e,[g,f]=(0,r.useState)([]),[b,y]=(0,r.useState)({}),{themes:v,themesLoaded:E}=(0,i.useSelect)(e=>{const{getThemes:t,areThemesLoaded:l}=e(u.EF);return{themes:t("toc")||{},themesLoaded:l("toc")}},[]),{loadThemes:C,createTheme:T,updateTheme:x,deleteTheme:S,renameTheme:w}=(0,i.useDispatch)(u.EF);(0,r.useEffect)(()=>{E||C("toc")},[E,C]),(0,r.useEffect)(()=>{o||t({tocId:(0,u.Ij)()})},[o,t]),(0,r.useEffect)(()=>{const e=()=>{const e=document.querySelector(".editor-styles-wrapper");if(!e)return[];const t=e.querySelectorAll("h2, h3, h4, h5, h6"),o=[];return t.forEach(e=>{if(e.closest(`[data-block="${l}"]`))return;const t=parseInt(e.tagName.charAt(1),10),n=e.textContent.trim(),a=e.id||"",r=Array.from(e.classList);o.push({level:t,text:n,id:a,classes:r})}),o},t=e();f(t);const o=new MutationObserver(()=>{setTimeout(()=>{const t=e();f(t)},100)}),n=document.querySelector(".editor-styles-wrapper");return n&&o.observe(n,{childList:!0,subtree:!0,characterData:!0}),()=>o.disconnect()},[l]);const k=(0,r.useMemo)(()=>window.tocDefaults||{},[]),B=(0,r.useMemo)(()=>(0,u.O_)(k),[k]),z=e,D=v[h],N=(0,r.useMemo)(()=>D?(0,u.s5)(B,D.values||{}):B,[D,B]),L=u.L4,O=(0,r.useMemo)(()=>Object.keys(e).some(t=>{if(L.includes(t))return!1;const l=e[t],o=N[t];return null!=l&&("object"!=typeof l||null===l||Array.isArray(l)?l!==o:JSON.stringify(l)!==JSON.stringify(o))}),[e,N,L]);(0,u.Yz)("[DEBUG] TOC effective values:",z),(0,u.Yz)("[DEBUG] TOC expected values:",N),(0,u.Yz)("[DEBUG] TOC isCustomized:",O),(0,r.useEffect)(()=>{const t=(0,u.uS)(e,L),l=e.currentTheme||"",o=Object.keys(t).some(e=>{if(L.includes(e))return!1;const l=t[e],o=N[e];return null!=l&&("object"==typeof l&&null!==l?JSON.stringify(l)!==JSON.stringify(o):l!==o)});y(o?e=>({...e,[l]:t}):e=>{const t={...e};return delete t[l],t})},[e,N,L]);const A=function(e,t){const{filterMode:l,includeLevels:o,includeClasses:n,excludeLevels:a,excludeClasses:r,depthLimit:i}=t;let s=e;if("include-only"===l?s=s.filter(e=>!!o.includes(e.level)||!!n&&n.split(",").map(e=>e.trim()).some(t=>e.classes.includes(t))):"exclude"===l&&(s=s.filter(e=>!a.includes(e.level)&&(!r||!r.split(",").map(e=>e.trim()).some(t=>e.classes.includes(t))))),i&&i>0){const e=Math.min(...s.map(e=>e.level));s=s.filter(t=>t.level-e<i)}return s}(g,e),R=(0,c.useBlockProps)({className:"wp-block-custom-toc sammu-blocks",style:m(z)});return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.InspectorControls,null,(0,a.createElement)("div",{className:"toc-settings-panel"},(0,a.createElement)(u.jQ,{blockType:"toc",currentTheme:h,setAttributes:t,attributes:e,themes:v,themesLoaded:E,isCustomized:O,effectiveValues:z,sessionCache:b,onThemeChange:(e,l=!1)=>{const o=v[e],n=e||"";let a;a=l&&b[n]?b[n]:o?(0,u.s5)(B,o.values||{}):B;const r={...a};L.forEach(e=>{"currentTheme"!==e&&delete r[e]}),r.currentTheme=e,t(r)},onSaveNew:async l=>{const o=e.currentTheme||"",n=b[o]||{},a=(0,u.is)(n,B,L);await T("toc",l,a);const r={...(0,u.s5)(B,a)};L.forEach(e=>{"currentTheme"!==e&&delete r[e]}),r.currentTheme=l,(0,s.flushSync)(()=>{t(r)}),y(e=>{const t={...e};return delete t[o],delete t[l],t})},onUpdate:async()=>{const l=e.currentTheme||"",o=b[l]||{},n=(0,u.is)(o,B,L);try{await x("toc",e.currentTheme,n)}catch(e){if(console.error("[UPDATE THEME ERROR]",e),"theme_not_found"===e?.code||404===e?.status)return console.warn("[UPDATE THEME] Theme not found - resetting to default"),void t({currentTheme:""});throw e}const a={...N};L.forEach(e=>{delete a[e]}),(0,s.flushSync)(()=>{t(a)}),y(e=>{const t={...e};return delete t[l],t})},onDelete:()=>{S("toc",e.currentTheme);const l={...B};l.currentTheme="",L.forEach(e=>{"currentTheme"!==e&&delete l[e]}),(0,s.flushSync)(()=>{t(l)}),y({})},onRename:(e,l)=>{w("toc",e,l),t({currentTheme:l})},onReset:()=>{const l={...N};L.forEach(e=>{"currentTheme"!==e&&delete l[e]}),l.currentTheme=e.currentTheme,(0,s.flushSync)(()=>{t(l)});const o=e.currentTheme||"";y(e=>{const t={...e};return delete t[o],t})}})),(0,a.createElement)(d.PanelBody,{title:"TOC Settings",initialOpen:!0},(0,a.createElement)(d.ToggleControl,{label:"Show Title",checked:n,onChange:e=>t({showTitle:e})}),n&&(0,a.createElement)(d.TextControl,{label:"Title Text",value:p,onChange:e=>t({titleText:e}),__nextHasNoMarginBottom:!0}),(0,a.createElement)(d.ToggleControl,{label:"Collapsible",checked:e.isCollapsible,onChange:e=>t({isCollapsible:e})}),e.isCollapsible&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(d.ToggleControl,{label:"Initially Collapsed",checked:e.initiallyCollapsed,onChange:e=>t({initiallyCollapsed:e})}),(0,a.createElement)(d.SelectControl,{label:"Click Behavior",value:e.clickBehavior||"navigate",options:[{label:"Navigate to section",value:"navigate"},{label:"Navigate and collapse TOC",value:"navigate-and-collapse"}],onChange:e=>t({clickBehavior:e}),__next40pxDefaultSize:!0}))),(0,a.createElement)(d.PanelBody,{title:"Heading Filter",initialOpen:!1},(0,a.createElement)(d.SelectControl,{label:"Filter Mode",value:e.filterMode,options:[{label:"Include All Headings",value:"include-all"},{label:"Include Only Selected",value:"include-only"},{label:"Exclude Selected",value:"exclude"}],onChange:e=>t({filterMode:e}),__next40pxDefaultSize:!0}),"include-only"===e.filterMode&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,a.createElement)("strong",null,"Include Levels:")),[2,3,4,5,6].map(l=>(0,a.createElement)(d.CheckboxControl,{key:l,label:`H${l}`,checked:e.includeLevels.includes(l),onChange:o=>{const n=o?[...e.includeLevels,l]:e.includeLevels.filter(e=>e!==l);t({includeLevels:n})},__nextHasNoMarginBottom:!0})),(0,a.createElement)(d.TextControl,{label:"Include Classes (comma-separated)",value:e.includeClasses,onChange:e=>t({includeClasses:e}),__nextHasNoMarginBottom:!0})),"exclude"===e.filterMode&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,a.createElement)("strong",null,"Exclude Levels:")),[2,3,4,5,6].map(l=>(0,a.createElement)(d.CheckboxControl,{key:l,label:`H${l}`,checked:e.excludeLevels.includes(l),onChange:o=>{const n=o?[...e.excludeLevels,l]:e.excludeLevels.filter(e=>e!==l);t({excludeLevels:n})},__nextHasNoMarginBottom:!0})),(0,a.createElement)(d.TextControl,{label:"Exclude Classes (comma-separated)",value:e.excludeClasses,onChange:e=>t({excludeClasses:e}),__nextHasNoMarginBottom:!0})),(0,a.createElement)(d.RangeControl,{label:"Depth Limit (0 = no limit)",value:e.depthLimit||0,onChange:e=>t({depthLimit:0===e?null:e}),min:0,max:6})),(0,a.createElement)(d.PanelBody,{title:"Numbering",initialOpen:!1},(0,a.createElement)(d.SelectControl,{label:"Numbering Style",value:e.numberingStyle,options:[{label:"None",value:"none"},{label:"Decimal (1, 1.1, 1.1.1)",value:"decimal"},{label:"Decimal Leading Zero",value:"decimal-leading-zero"},{label:"Roman Numerals",value:"roman"},{label:"Letters (A, B, C)",value:"letters"}],onChange:e=>t({numberingStyle:e}),__next40pxDefaultSize:!0})),(0,a.createElement)(u.U,{effectiveValues:z,attributes:e,setAttributes:t,blockType:"toc",theme:D,cssDefaults:k}),(0,a.createElement)(u.ID,{effectiveValues:z,attributes:e,setAttributes:t,blockType:"toc",theme:D,cssDefaults:k}),(0,a.createElement)(u.i5,{effectiveValues:z,attributes:e,setAttributes:t,blockType:"toc",theme:D,cssDefaults:k}),(0,a.createElement)(u.$0,{effectiveValues:z,attributes:e,setAttributes:t,blockType:"toc",theme:D,cssDefaults:k}),O&&(0,a.createElement)("div",{className:"customization-warning-wrapper"},(0,a.createElement)(u.iz,{currentTheme:h,themes:v}))),(0,a.createElement)("div",{...R},n&&(0,a.createElement)("div",{className:"toc-title",style:{fontSize:`${z.titleFontSize||20}px`,fontWeight:z.titleFontWeight||"700",color:z.titleColor||"#333333",textAlign:z.titleAlignment||"left"}},p),0===A.length?(0,a.createElement)("p",{className:"toc-empty-message"},"No headings found. Add H2-H6 headings to your content to populate the table of contents."):(0,a.createElement)("nav",{className:"toc-list-wrapper","aria-label":p||"Table of Contents"},function(e,t,l){if(0===e.length)return null;const o="none"===l.numberingStyle?{}:{listStyleType:"none"};return(0,a.createElement)("ul",{className:`toc-list numbering-${l.numberingStyle}`,style:o},e.map((e,l)=>{const o="toc-item-level-"+(e.level-1),n={color:t.linkColor||"#0073aa",textDecoration:"none"};return(0,a.createElement)("li",{key:l,className:`toc-item ${o}`},(0,a.createElement)("a",{href:`#${e.id||`heading-${l}`}`,className:"toc-link",style:n},e.text))}))}(A,z,e))))},save:function({attributes:e}){const{tocId:t,showTitle:l,titleText:o,isCollapsible:n,initiallyCollapsed:r,filterMode:i,includeLevels:s,includeClasses:d,excludeLevels:u,excludeClasses:m,depthLimit:h,numberingStyle:g,smoothScroll:f,scrollOffset:b,autoHighlight:y,positionType:v,clickBehavior:E}=e,C=function(e,t){const l=["accordion","tabs","toc"];if(!l.includes(e))return console.warn(`[CSS Parser] Invalid block type: ${e}. Must be one of: ${l.join(", ")}`),null;const o=`${e}Defaults`,n=window[o];return n&&"object"==typeof n?t in n?n[t]:null:(console.warn(`[CSS Parser] CSS defaults not found for ${e}. Expected window.${o} to be defined.`),null)}("toc")||{},T=(0,p.lS)(e,null,C),x=function(e){const t={},l=(l,o,n)=>{null!==e[l]&&void 0!==e[l]&&(t[o]=n?n(e[l]):e[l])};return l("wrapperBackgroundColor","--toc-wrapper-background-color"),l("wrapperBorderColor","--toc-wrapper-border-color"),l("linkColor","--toc-link-color"),l("linkHoverColor","--toc-link-hover-color"),l("linkVisitedColor","--toc-link-visited-color"),l("linkActiveColor","--toc-link-active-color"),l("numberingColor","--toc-numbering-color"),l("level1Color","--toc-level1-color"),l("level2Color","--toc-level2-color"),l("level3PlusColor","--toc-level3-plus-color"),l("level1FontSize","--toc-level1-font-size",e=>`${e}px`),l("level1FontWeight","--toc-level1-font-weight"),l("level1FontStyle","--toc-level1-font-style"),l("level1TextTransform","--toc-level1-text-transform"),l("level1TextDecoration","--toc-level1-text-decoration"),l("level2FontSize","--toc-level2-font-size",e=>`${e}px`),l("level2FontWeight","--toc-level2-font-weight"),l("level2FontStyle","--toc-level2-font-style"),l("level2TextTransform","--toc-level2-text-transform"),l("level2TextDecoration","--toc-level2-text-decoration"),l("level3PlusFontSize","--toc-level3-plus-font-size",e=>`${e}px`),l("level3PlusFontWeight","--toc-level3-plus-font-weight"),l("level3PlusFontStyle","--toc-level3-plus-font-style"),l("level3PlusTextTransform","--toc-level3-plus-text-transform"),l("level3PlusTextDecoration","--toc-level3-plus-text-decoration"),l("wrapperBorderWidth","--toc-border-width",e=>`${e}px`),l("wrapperBorderStyle","--toc-border-style"),l("wrapperBorderRadius","--toc-border-radius",e=>`${e}px`),l("wrapperPadding","--toc-wrapper-padding",e=>`${e}px`),l("itemSpacing","--toc-item-spacing",e=>`${e}px`),l("levelIndent","--toc-level-indent",e=>`${e}px`),l("positionTop","--toc-position-top",e=>`${e}px`),l("zIndex","--toc-z-index"),l("wrapperShadow","--toc-wrapper-shadow"),t}(e),S={"data-toc-id":t,"data-filter-mode":i,"data-include-levels":s.join(","),"data-include-classes":d,"data-exclude-levels":u.join(","),"data-exclude-classes":m,"data-depth-limit":h||0,"data-numbering-style":g,"data-smooth-scroll":f,"data-scroll-offset":b,"data-auto-highlight":y,"data-collapsible":n,"data-initially-collapsed":r,"data-position-type":v,"data-click-behavior":E||"navigate"},w=["wp-block-custom-toc","sammu-blocks",`toc-position-${v}`];if(e.currentTheme){const t=e.currentTheme.replace(/[^a-zA-Z0-9\-]/g,"");w.push(`toc-theme-${t}`)}const k=c.useBlockProps.save({className:w.join(" "),...Object.keys(x).length>0&&{style:x},...S}),B=`toc-toggle-${t}`,z=`toc-content-${t}`;return(0,a.createElement)("div",{...k},l&&!n&&(0,a.createElement)("div",{className:"toc-title",style:{fontSize:`${T.titleFontSize||20}px`,fontWeight:T.titleFontWeight||"700",color:T.titleColor||"#333333",backgroundColor:T.titleBackgroundColor||"transparent",textAlign:T.titleAlignment||"left",padding:`${T.titlePadding||12}px`}},o),l&&n&&(0,a.createElement)("button",{id:B,className:"toc-title toc-toggle-button","aria-expanded":!r,"aria-controls":z,type:"button",style:{fontSize:`${T.titleFontSize||20}px`,fontWeight:T.titleFontWeight||"700",color:T.titleColor||"#333333",backgroundColor:T.titleBackgroundColor||"transparent",textAlign:T.titleAlignment||"left",padding:`${T.titlePadding||12}px`,border:"none",width:"100%",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,a.createElement)("span",null,o),(0,a.createElement)("span",{className:"toc-collapse-icon","aria-hidden":"true",style:{fontSize:`${T.collapseIconSize||20}px`,color:T.collapseIconColor||"#666666"}},"▾")),!l&&n&&(0,a.createElement)("button",{id:B,className:"toc-toggle-button toc-icon-only","aria-expanded":!r,"aria-controls":z,"aria-label":"Toggle Table of Contents",type:"button",style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",cursor:"pointer",fontSize:`${T.collapseIconSize||20}px`,color:T.collapseIconColor||"#666666"}},"▾"),(0,a.createElement)("nav",{id:z,className:"toc-content","aria-label":o||"Table of Contents",style:{display:n&&r?"none":"block"}},(0,a.createElement)("ul",{className:`toc-list numbering-${g}`,style:{listStyleType:"none"===g?"disc":"none",paddingLeft:`${T.listPaddingLeft||24}px`,margin:0}},(0,a.createElement)("li",{className:"toc-placeholder"},"Loading table of contents..."))))}})},919:(e,t,l)=>{},957:(e,t,l)=>{l.d(t,{O_:()=>i});var o=l(47),n=l(715);function a(e){const t={};for(const[l,o]of Object.entries(e))o.hasOwnProperty("default")&&(t[l]=o.default);return t}const r={...a(o.f),...a(n.B)};function i(e={}){return{...r,...e}}}},l={};function o(e){var n=l[e];if(void 0!==n)return n.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,l,n,a)=>{if(!l){var r=1/0;for(d=0;d<e.length;d++){for(var[l,n,a]=e[d],i=!0,s=0;s<l.length;s++)(!1&a||r>=a)&&Object.keys(o.O).every(e=>o.O[e](l[s]))?l.splice(s--,1):(i=!1,a<r&&(r=a));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[l,n,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={613:0,847:0,959:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var n,a,[r,i,s]=l,c=0;if(r.some(t=>0!==e[t])){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(s)var d=s(o)}for(t&&t(l);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},l=globalThis.webpackChunkguttemberg_plus=globalThis.webpackChunkguttemberg_plus||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var n=o.O(void 0,[959],()=>o(802));n=o.O(n)})();